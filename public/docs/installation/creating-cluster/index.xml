<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>â€“ Create Kubernetes Cluster</title><link>http://localhost:1313/docs/installation/creating-cluster/</link><description>Recent content in Create Kubernetes Cluster on</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="http://localhost:1313/docs/installation/creating-cluster/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Google Kubernetes Engine</title><link>http://localhost:1313/docs/installation/creating-cluster/gke/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/creating-cluster/gke/</guid><description>
&lt;h2 id="before-you-begin">Before you begin&lt;/h2>
&lt;p>Take the following steps to enable the Kubernetes Engine API:&lt;/p>
&lt;ol>
&lt;li>Visit the &lt;a href="https://console.cloud.google.com/kubernetes/list">Kubernetes Engine&lt;/a> page in the Google Cloud Platform Console.&lt;/li>
&lt;li>Create or select a project.&lt;/li>
&lt;li>Wait for the API and related services to be enabled. This can take several minutes.&lt;/li>
&lt;li>&lt;a href="https://support.google.com/cloud/answer/6293499#enable-billing">Enable billing&lt;/a> for your project.&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>If you are not an existing GCP user, you may be able to enroll for a $300 US &lt;a href="https://cloud.google.com/free/">Free Trial&lt;/a> credit.&lt;/li>
&lt;/ul>
&lt;h3 id="choosing-a-shell">Choosing a shell&lt;/h3>
&lt;p>To complete this quickstart, we can use either &lt;a href="https://cloud.google.com/shell/">Google Cloud Shell&lt;/a> or a local shell.&lt;/p>
&lt;p>Google Cloud Shell is a shell environment for managing resources hosted on Google Cloud Platform (GCP). Cloud Shell comes preinstalled with the &lt;a href="https://cloud.google.com/sdk/gcloud/">&lt;code>gcloud&lt;/code>&lt;/a> and &lt;a href="https://kubernetes.io/docs/reference/kubectl/">&lt;code>kubectl&lt;/code>&lt;/a> command-line tools. &lt;code>gcloud&lt;/code> provides the primary command-line interface for GCP, and &lt;code>kubectl&lt;/code> provides the command-line interface for running commands against Kubernetes clusters.&lt;/p>
&lt;p>If you prefer using your local shell, you must install the &lt;code>gcloud&lt;/code> and &lt;code>kubectl&lt;/code> command-line tools in your environment.&lt;/p>
&lt;h4 id="cloud-shell">Cloud shell&lt;/h4>
&lt;p>To launch Cloud Shell, perform the following steps:&lt;/p>
&lt;ol>
&lt;li>Go to &lt;a href="https://console.cloud.google.com/home/dashboard">Google Cloud Platform Console&lt;/a>&lt;/li>
&lt;li>From the top-right corner of the console, click the
&lt;strong>Activate Google Cloud Shell&lt;/strong> button: &lt;img alt="cloud shell" src="../../../../images/cloud-shell.png">&lt;/li>
&lt;li>A Cloud Shell session opens inside a frame at the bottom of the console. Use this shell to run &lt;code>gcloud&lt;/code> and &lt;code>kubectl&lt;/code> commands.&lt;/li>
&lt;/ol>
&lt;h4 id="local-shell">Local shell&lt;/h4>
&lt;p>To install &lt;code>gcloud&lt;/code> and &lt;code>kubectl&lt;/code>, perform the following steps:&lt;/p>
&lt;ol>
&lt;li>&lt;a href="https://cloud.google.com/sdk/docs/quickstarts">Install the Google Cloud SDK&lt;/a>, which includes the &lt;code>gcloud&lt;/code> command-line tool.&lt;/li>
&lt;li>Initialize some default configuration by running the following command.
&lt;ul>
&lt;li>When asked &lt;code>Do you want to configure a default Compute Region and Zone? (Y/n)?&lt;/code>, enter &lt;code>Y&lt;/code> and choose a zone in your geographical region of choice.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Install the &lt;code>kubectl&lt;/code> command-line tool by running the following command:
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud components install kubectl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="choosing-a-regional-or-zonal-cluster">Choosing a Regional or Zonal Cluster&lt;/h3>
&lt;p>You will need to pick a geographical region or zone where you want to deploy your cluster, and whether to
create a &lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/types-of-clusters">regional or zonal cluster&lt;/a>.
We recommend using a Regional cluster, as the zonal GKE control plane can go down temporarily to adjust for cluster resizing,
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/cluster-upgrades">automatic upgrades&lt;/a> and
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/maintenance-windows-and-exclusions#repairs">repairs&lt;/a>.&lt;/p>
&lt;p>After choosing a cluster type, &lt;a href="https://cloud.google.com/compute/docs/regions-zones/#available">choose a region or zone&lt;/a>. The region you chose is &lt;code>COMPUTE_REGION&lt;/code> below.
(Note that if you chose a zone, replace &lt;code>--region=[COMPUTE_REGION]&lt;/code> with &lt;code>--zone=[COMPUTE_ZONE]&lt;/code> in commands below.)&lt;/p>
&lt;h3 id="choosing-a-release-channel-and-optional-version">Choosing a Release Channel and Optional Version&lt;/h3>
&lt;p>We recommend using the &lt;code>regular&lt;/code> release channel, which offers a balance between stability and freshness.
If you&amp;rsquo;d like to read more, see our guide on &lt;a href="http://localhost:1313/docs/guides/best-practices/gke/#release-channels">Release Channels&lt;/a>.
The release channel you chose is &lt;code>RELEASE_CHANNEL&lt;/code> below.&lt;/p>
&lt;p>(Optional) During cluster creation, to set a specific available version in the release channel, use the &lt;code>--cluster-version=[VERSION]&lt;/code> flag, e.g. &lt;code>--cluster-version=1.27&lt;/code>. Be sure to choose a &lt;a href="http://localhost:1313/docs/installation/#usage-requirements">version supported by Code Blind&lt;/a>. (If you rely on release channels, the latest Code Blind release &lt;a href="http://localhost:1313/docs/installation/#agones-and-kubernetes-supported-versions">should be supported&lt;/a> by the default versions of all channels.)&lt;/p>
&lt;h3 id="choosing-a-gke-cluster-mode">Choosing a GKE cluster mode&lt;/h3>
&lt;p>A &lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/cluster-architecture">cluster&lt;/a> consists of at least one &lt;em>control plane&lt;/em> machine and multiple worker machines called &lt;em>nodes&lt;/em>. In Google Kubernetes Engine, nodes are &lt;a href="https://cloud.google.com/compute/docs/instances/">Compute Engine virtual machine&lt;/a> instances that run the Kubernetes processes necessary to make them part of the cluster.&lt;/p>
&lt;p>Code Blind supports both GKE Standard mode and GKE Autopilot mode.
Code Blind &lt;code>GameServer&lt;/code> and &lt;code>Fleet&lt;/code> manifests that work on Standard are compatible
on Autopilot with some constraints, described in the following section. We recommend
running GKE Autopilot clusters, if you meet the constraints.&lt;/p>
&lt;p>You can&amp;rsquo;t convert existing Standard clusters to Autopilot; create new Autopilot
clusters instead.&lt;/p>
&lt;h4 id="code-blind-on-gke-autopilot">Code Blind on GKE Autopilot&lt;/h4>
&lt;p>Autopilot is GKE&amp;rsquo;s fully-managed mode. GKE configures, maintains, scales, and
upgrades nodes for you, which can reduce your maintenance and operating
overhead. You only pay for the resources requested by your running Pods, and
you don&amp;rsquo;t pay for unused node capacity or Kubernetes system workloads.&lt;/p>
&lt;p>This section describes the Code Blind-specific considerations in Autopilot
clusters. For a general comparison between Autopilot and Standard, refer to
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/choose-cluster-mode">Choose a GKE mode of operation&lt;/a>.&lt;/p>
&lt;p>Autopilot nodes are, by default, optimized for most workloads. If some of your
workloads have broad compute requirements such as Arm architecture or a minimum
CPU platform, you can also choose a
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/autopilot-compute-classes">compute class&lt;/a>
that meets that requirement. However, if you have specialized hardware needs
that require fine-grained control over machine configuration, consider using
GKE Standard.&lt;/p>
&lt;p>Code Blind on Autopilot has pre-configured opinionated constraints. Evaluate
whether these constraints impact your workloads:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Operating system:&lt;/strong> No Windows containers.&lt;/li>
&lt;li>&lt;strong>Resource requests:&lt;/strong> Autopilot has pre-determined
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/autopilot-resource-requests#min-max-requests">minimum Pod resource requests&lt;/a>.
If your game servers require less than those minimums, use GKE Standard.&lt;/li>
&lt;li>&lt;strong>&lt;a href="http://localhost:1313/docs/advanced/scheduling-and-autoscaling/#fleet-scheduling">Scheduling strategy&lt;/a>:&lt;/strong>
&lt;code>Packed&lt;/code> is supported, which is the Code Blind default. &lt;code>Distributed&lt;/code> is not
supported.&lt;/li>
&lt;li>&lt;strong>&lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#agones.dev/v1.GameServerPort">Host port policy&lt;/a>:&lt;/strong> &lt;code>Dynamic&lt;/code> is supported, which is the Code Blind default.
&lt;code>Static&lt;/code> and &lt;code>Passthrough&lt;/code> are not supported.&lt;/li>
&lt;li>&lt;strong>Seccomp profile:&lt;/strong> Code Blind sets the seccomp profile to &lt;code>Unconfined&lt;/code> to
avoid unexpected container creation delays that might occur because
Autopilot enables the
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/seccomp-in-gke">&lt;code>RuntimeDefault&lt;/code> seccomp profile&lt;/a>.&lt;/li>
&lt;li>&lt;strong>&lt;a href="http://localhost:1313/docs/advanced/controlling-disruption/#eviction-api">Pod disruption policy&lt;/a>:&lt;/strong>
&lt;code>eviction.safe: Never&lt;/code> is supported, which is the Code Blind
default. &lt;code>eviction.safe: Always&lt;/code> is supported. &lt;code>eviction.safe: OnUpgrade&lt;/code> is
not supported. If your game sessions exceed one hour, refer to
&lt;a href="http://localhost:1313/docs/advanced/controlling-disruption/#considerations-for-long-sessions">Considerations for long sessions&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h3 id="choosing-a-gcp-network">Choosing a GCP network&lt;/h3>
&lt;p>By default, &lt;code>gcloud&lt;/code> and the Cloud Console use the VPC named &lt;code>default&lt;/code> for all new resources. If you
plan to create a &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/alias-ips#dual-stack">dual-stack IPv4/IPv6 cluster&lt;/a> cluster, special considerations need to
be made. Dual-stack clusters require a &lt;a href="https://cloud.google.com/vpc/docs/subnets#subnet-types">dual-stack subnet&lt;/a>, which are only supported in
&lt;a href="https://cloud.google.com/vpc/docs/vpc#subnet-ranges">&lt;em>custom mode&lt;/em>&lt;/a> VPC networks. For a new dual-stack cluster, you can either:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>create a new &lt;em>custom mode&lt;/em> VPC,&lt;/p>
&lt;/li>
&lt;li>
&lt;p>or if you wish to continue using the &lt;code>default&lt;/code> network, you must &lt;a href="https://cloud.google.com/vpc/docs/create-modify-vpc-networks#switch-network-mode">switch it to &lt;em>custom mode&lt;/em>&lt;/a>.
After switching a network to custom mode, you will need to manually manage subnets within the &lt;code>default&lt;/code> VPC.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Once you have a &lt;em>custom mode&lt;/em> VPC, you will need to choose whether to use an existing subnet or create a
new one - read &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/alias-ips#dual-stack">VPC-native guide on creating a dual-stack cluster&lt;/a>, but don&amp;rsquo;t create the cluster
just yet - we&amp;rsquo;ll create the cluster later in this guide. To use the network and/or subnetwork you just created,
you&amp;rsquo;ll need to add &lt;code>--network&lt;/code> and &lt;code>--subnetwork&lt;/code>, and for GKE Standard, possibly &lt;code>--stack-type&lt;/code> and
&lt;code>--ipv6-access-type&lt;/code>, depending on whether you created the subnet simultaneously with the cluster.&lt;/p>
&lt;h2 id="creating-the-firewall">Creating the firewall&lt;/h2>
&lt;p>We need a firewall to allow UDP traffic to nodes tagged as &lt;code>game-server&lt;/code> via ports 7000-8000. These firewall rules apply to cluster nodes you will create in the
next section.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud compute firewall-rules create game-server-firewall &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --allow udp:7000-8000 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --target-tags game-server &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --description &lt;span style="color:#4e9a06">&amp;#34;Firewall to allow game server udp traffic&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="creating-the-cluster">Creating the cluster&lt;/h2>
&lt;p>Create a GKE cluster in which you&amp;rsquo;ll install Code Blind. You can use
&lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#create-a-standard-mode-cluster-for-agones">GKE Standard mode&lt;/a>
or &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#create-an-autopilot-mode-cluster-for-agones">GKE Autopilot mode&lt;/a>.&lt;/p>
&lt;h3 id="create-a-standard-mode-cluster-for-code-blind">Create a Standard mode cluster for Code Blind&lt;/h3>
&lt;p>Create the cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container clusters create &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --release-channel&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>RELEASE_CHANNEL&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --tags&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>game-server &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --scopes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>gke-default &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --num-nodes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --enable-image-streaming &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --machine-type&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>e2-standard-4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of the cluster you want to create&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: The GCP region to create the cluster in, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">chosen above&lt;/a>&lt;/li>
&lt;li>&lt;code>[RELEASE_CHANNEL]&lt;/code>: The GKE release channel, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-release-channel-and-optional-version">chosen above&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--release-channel&lt;/code>: The release channel &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-release-channel-and-optional-version">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--tags&lt;/code>: Defines the tags that will be attached to new nodes in the cluster. This is to grant access through ports via the &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#creating-the-firewall">firewall created above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--scopes&lt;/code>: Defines the Oauth scopes required by the nodes.&lt;/li>
&lt;li>&lt;code>--num-nodes&lt;/code>: The number of nodes to be created in each of the cluster&amp;rsquo;s zones. Default: 4. Depending on the needs of your game, this parameter should be adjusted.&lt;/li>
&lt;li>&lt;code>--enable-image-streaming&lt;/code>: Use &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/image-streaming">Image streaming&lt;/a> to pull container images, which leads to significant improvements in initialization times. &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/image-streaming#limitations">Limitations&lt;/a> apply to enable this feature.&lt;/li>
&lt;li>&lt;code>--machine-type&lt;/code>: The type of machine to use for nodes. Default: &lt;code>e2-standard-4&lt;/code>. Depending on the needs of your game, you may wish to &lt;a href="https://cloud.google.com/compute/docs/machine-types">have smaller or larger machines&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h4 id="optional-creating-a-dedicated-node-pool">(Optional) Creating a dedicated node pool&lt;/h4>
&lt;p>Create a &lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/node-pools">dedicated node pool&lt;/a>
for the Code Blind resources to be installed in. If you skip this step, the Code Blind controllers will
share the default node pool with your game servers, which is fine for experimentation but not
recommended for a production deployment.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container node-pools create agones-system &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --cluster&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-taints agones.dev/agones-system&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>true:NoExecute &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-labels agones.dev/agones-system&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --num-nodes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --machine-type&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>e2-standard-4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of the cluster you created&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: The GCP region to create the cluster in, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">chosen above&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--cluster&lt;/code>: The name of the cluster you created.&lt;/li>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--node-taints&lt;/code>: The Kubernetes taints to automatically apply to nodes in this node pool.&lt;/li>
&lt;li>&lt;code>--node-labels&lt;/code>: The Kubernetes labels to automatically apply to nodes in this node pool.&lt;/li>
&lt;li>&lt;code>--num-nodes&lt;/code>: The number of nodes per cluster zone. For regional clusters, &lt;code>--num-nodes=1&lt;/code> creates one node in 3 separate zones in the region, giving you faster recovery time in the event of a node failure.&lt;/li>
&lt;li>&lt;code>--machine-type&lt;/code>: The type of machine to use for nodes. Default: &lt;code>e2-standard-4&lt;/code>. Depending on the needs of your game, you may wish to &lt;a href="https://cloud.google.com/compute/docs/machine-types">have smaller or larger machines&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h4 id="optional-creating-a-metrics-node-pool">(Optional) Creating a metrics node pool&lt;/h4>
&lt;p>Create a node pool for &lt;a href="http://localhost:1313/docs/guides/metrics/">Metrics&lt;/a> if you want to monitor the
Code Blind system using Prometheus with Grafana or Cloud Logging and Monitoring.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container node-pools create agones-metrics &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --cluster&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-taints agones.dev/agones-metrics&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>true:NoExecute &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-labels agones.dev/agones-metrics&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --num-nodes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --machine-type&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>e2-standard-4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of the cluster you created&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: The GCP region to create the cluster in, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">chosen above&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--cluster&lt;/code>: The name of the cluster you created.&lt;/li>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--node-taints&lt;/code>: The Kubernetes taints to automatically apply to nodes in this node pool.&lt;/li>
&lt;li>&lt;code>--node-labels&lt;/code>: The Kubernetes labels to automatically apply to nodes in this node pool.&lt;/li>
&lt;li>&lt;code>--num-nodes&lt;/code>: The number of nodes per cluster zone. For regional clusters, &lt;code>--num-nodes=1&lt;/code> creates one node in 3 separate zones in the region, giving you faster recovery time in the event of a node failure.&lt;/li>
&lt;li>&lt;code>--machine-type&lt;/code>: The type of machine to use for nodes. Default: &lt;code>e2-standard-4&lt;/code>. Depending on the needs of your game, you may wish to &lt;a href="https://cloud.google.com/compute/docs/machine-types">have smaller or larger machines&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h4 id="optional-creating-a-node-pool-for-windows">(Optional) Creating a node pool for Windows&lt;/h4>
&lt;p>If you run game servers on Windows, you
need to create a dedicated node pool for those servers. Windows Server 2019 (&lt;code>WINDOWS_LTSC_CONTAINERD&lt;/code>) is the recommended image for Windows
game servers.&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
Running &lt;code>GameServers&lt;/code> on Windows nodes is currently Alpha. Feel free to file feedback
through &lt;a href="https://github.com/googleforgames/agones/issues">Github issues&lt;/a>.
&lt;/div>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container node-pools create windows &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --cluster&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --image-type WINDOWS_LTSC_CONTAINERD &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --machine-type e2-standard-4 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --num-nodes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of the cluster you created&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: The GCP region to create the cluster in, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">chosen above&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--cluster&lt;/code>: The name of the cluster you created.&lt;/li>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--image-type&lt;/code>: The image type of the instances in the node pool - &lt;code>WINDOWS_LTSC_CONTAINERD&lt;/code> in this case.&lt;/li>
&lt;li>&lt;code>--machine-type&lt;/code>: The type of machine to use for nodes. Default: &lt;code>e2-standard-4&lt;/code>. Depending on the needs of your game, you may wish to &lt;a href="https://cloud.google.com/compute/docs/machine-types">have smaller or larger machines&lt;/a>.&lt;/li>
&lt;li>&lt;code>--num-nodes&lt;/code>: The number of nodes per cluster zone. For regional clusters, &lt;code>--num-nodes=1&lt;/code> creates one node in 3 separate zones in the region, giving you faster recovery time in the event of a node failure.&lt;/li>
&lt;/ul>
&lt;h3 id="create-an-autopilot-mode-cluster-for-code-blind">Create an Autopilot mode cluster for Code Blind&lt;/h3>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
These installation instructions apply to Code Blind 1.30+
&lt;/div>
&lt;ol>
&lt;li>
&lt;p>Choose a &lt;a href="http://localhost:1313/docs/guides/best-practices/gke/#release-channels">Release Channel&lt;/a> (Autopilot clusters must be on a Release Channel).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Create the cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container clusters create-auto &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --release-channel&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>RELEASE_CHANNEL&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --autoprovisioning-network-tags&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>game-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of your cluster.&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: the GCP region to create the cluster in.&lt;/li>
&lt;li>&lt;code>[RELEASE_CHANNEL]&lt;/code>: one of &lt;code>rapid&lt;/code>, &lt;code>regular&lt;/code>, or &lt;code>stable&lt;/code>, chosen &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-release-channel-and-optional-version">above&lt;/a>. The default is &lt;code>regular&lt;/code>.&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--release-channel&lt;/code>: The release channel &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-release-channel-and-optional-version">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--autoprovisioning-network-tags&lt;/code>: Defines the tags that will be attached to new nodes in the cluster. This is to grant access through ports via the &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#creating-the-firewall">firewall created above&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h2 id="setting-up-cluster-credentials">Setting up cluster credentials&lt;/h2>
&lt;p>&lt;code>gcloud container clusters create&lt;/code> configurates credentials for &lt;code>kubectl&lt;/code> automatically. If you ever lose those, run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container clusters get-credentials &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Continue to &lt;a href="http://localhost:1313/docs/installation/install-agones/">Install Code Blind&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Amazon Elastic Kubernetes Service</title><link>http://localhost:1313/docs/installation/creating-cluster/eks/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/creating-cluster/eks/</guid><description>
&lt;p>Create your EKS Cluster using the &lt;a href="https://docs.aws.amazon.com/eks/latest/userguide/getting-started.html">Getting Started Guide&lt;/a>.&lt;/p>
&lt;p>Possible steps are the following:&lt;/p>
&lt;ol>
&lt;li>Create new IAM role for cluster management.&lt;/li>
&lt;li>Run &lt;code>aws configure&lt;/code> to authorize your &lt;code>awscli&lt;/code> with proper &lt;code>AWS Access Key ID&lt;/code> and &lt;code>AWS Secret Access Key&lt;/code>.&lt;/li>
&lt;li>Create an example cluster:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>eksctl create cluster &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--name prod &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--version 1.28 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--nodegroup-name standard-workers &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--node-type t3.medium &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--nodes &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--nodes-min &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--nodes-max &lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
EKS does not use the normal Kubernetes networking since it
is &lt;a href="https://itnext.io/kubernetes-is-hard-why-eks-makes-it-easier-for-network-and-security-architects-ea6d8b2ca965">incompatible with Amazon VPC networking&lt;/a>.
&lt;/div>
&lt;h2 id="allowing-udp-traffic">Allowing UDP Traffic&lt;/h2>
&lt;p>For Code Blind to work correctly, we need to allow UDP traffic to pass through to our EKS cluster worker nodes. To achieve this, we must update the workers&amp;rsquo; nodepool SG (Security Group) with the proper rule. A simple way to do that is:&lt;/p>
&lt;ul>
&lt;li>Log in to the AWS Management Console&lt;/li>
&lt;li>Go to the VPC Dashboard and select &lt;strong>Security Groups&lt;/strong>&lt;/li>
&lt;li>Find the Security Group for the workers nodepool, which will be named something like &lt;code>eksctl-[cluster-name]-nodegroup-[cluster-name]-workers/SG&lt;/code>&lt;/li>
&lt;li>Select &lt;strong>Inbound Rules&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Edit Rules&lt;/strong> to add a new &lt;strong>Custom UDP Rule&lt;/strong> with a 7000-8000 port range and an appropriate &lt;strong>Source&lt;/strong> CIDR range (&lt;code>0.0.0.0/0&lt;/code> allows all traffic)&lt;/li>
&lt;/ul>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Continue to &lt;a href="http://localhost:1313/docs/installation/install-agones/">Install Code Blind&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Azure Kubernetes Service</title><link>http://localhost:1313/docs/installation/creating-cluster/aks/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/creating-cluster/aks/</guid><description>
&lt;h2 id="choosing-your-shell">Choosing your shell&lt;/h2>
&lt;p>You can use either &lt;a href="https://docs.microsoft.com/azure/cloud-shell/overview">Azure Cloud Shell&lt;/a> or install the &lt;a href="https://docs.microsoft.com/cli/azure/?view=azure-cli-latest">Azure CLI&lt;/a> on your local shell in order to install AKS in your own Azure subscription. Cloud Shell comes preinstalled with &lt;code>az&lt;/code> and &lt;code>kubectl&lt;/code> utilities whereas you need to install them locally if you want to use your local shell. If you use Windows 10, you can use the &lt;a href="https://docs.microsoft.com/windows/wsl/install-win10">WIndows Subsystem for Windows&lt;/a> as well.&lt;/p>
&lt;h2 id="creating-the-aks-cluster">Creating the AKS cluster&lt;/h2>
&lt;p>If you are using Azure CLI from your local shell, you need to log in to your Azure account by executing the &lt;code>az login&lt;/code> command and following the login procedure.&lt;/p>
&lt;p>Here are the steps you need to follow to create a new AKS cluster (additional instructions and clarifications are listed &lt;a href="https://docs.microsoft.com/azure/aks/kubernetes-walkthrough">here&lt;/a>):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Declare necessary variables, modify them according to your needs&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">AKS_RESOURCE_GROUP&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>akstestrg &lt;span style="color:#8f5902;font-style:italic"># Name of the resource group your AKS cluster will be created in&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">AKS_NAME&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>akstest &lt;span style="color:#8f5902;font-style:italic"># Name of your AKS cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">AKS_LOCATION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>westeurope &lt;span style="color:#8f5902;font-style:italic"># Azure region in which you&amp;#39;ll deploy your AKS cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Create the Resource Group where your AKS resource will be installed&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>az group create --name &lt;span style="color:#000">$AKS_RESOURCE_GROUP&lt;/span> --location &lt;span style="color:#000">$AKS_LOCATION&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Create the AKS cluster - this might take some time. Type &amp;#39;az aks create -h&amp;#39; to see all available options&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># The following command will create a four Node AKS cluster. Node size is Standard A1 v1 and Kubernetes version is 1.28.0. Plus, SSH keys will be generated for you, use --ssh-key-value to provide your values&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>az aks create --resource-group &lt;span style="color:#000">$AKS_RESOURCE_GROUP&lt;/span> --name &lt;span style="color:#000">$AKS_NAME&lt;/span> --node-count &lt;span style="color:#0000cf;font-weight:bold">4&lt;/span> --generate-ssh-keys --node-vm-size Standard_A4_v2 --kubernetes-version 1.28.0 --enable-node-public-ip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Install kubectl&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo az aks install-cli
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Get credentials for your new AKS cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>az aks get-credentials --resource-group &lt;span style="color:#000">$AKS_RESOURCE_GROUP&lt;/span> --name &lt;span style="color:#000">$AKS_NAME&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Alternatively, you can use the &lt;a href="https://portal.azure.com">Azure Portal&lt;/a> to create a new AKS cluster &lt;a href="https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal">(instructions)&lt;/a>.&lt;/p>
&lt;h3 id="allowing-udp-traffic">Allowing UDP traffic&lt;/h3>
&lt;p>For Code Blind to work correctly, we need to allow UDP traffic to pass through to our AKS cluster. To achieve this, we must update the NSG (Network Security Group) with the proper rule. A simple way to do that is:&lt;/p>
&lt;ul>
&lt;li>Log in to the &lt;a href="https://portal.azure.com/">Azure Portal&lt;/a>&lt;/li>
&lt;li>Find the resource group where the AKS(Azure Kubernetes Service) resources are kept, which should have a name like &lt;code>MC_resourceGroupName_AKSName_westeurope&lt;/code>. Alternative, you can type &lt;code>az resource show --namespace Microsoft.ContainerService --resource-type managedClusters -g $AKS_RESOURCE_GROUP -n $AKS_NAME -o json | jq .properties.nodeResourceGroup&lt;/code>&lt;/li>
&lt;li>Find the Network Security Group object, which should have a name like &lt;code>aks-agentpool-********-nsg&lt;/code> (ie. aks-agentpool-55978144-nsg for dns-name-prefix agones)&lt;/li>
&lt;li>Select &lt;strong>Inbound Security Rules&lt;/strong>&lt;/li>
&lt;li>Select &lt;strong>Add&lt;/strong> to create a new Rule with &lt;strong>UDP&lt;/strong> as the protocol and &lt;strong>7000-8000&lt;/strong> as the Destination Port Ranges. Pick a proper name and leave everything else at their default values&lt;/li>
&lt;/ul>
&lt;p>Alternatively, you can use the following command, after modifying the &lt;code>RESOURCE_GROUP_WITH_AKS_RESOURCES&lt;/code> and &lt;code>NSG_NAME&lt;/code> values:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>az network nsg rule create &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --resource-group RESOURCE_GROUP_WITH_AKS_RESOURCES &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --nsg-name NSG_NAME &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --name AgonesUDP &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --access Allow &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --protocol Udp &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --direction Inbound &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --priority &lt;span style="color:#0000cf;font-weight:bold">520&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --source-port-range &lt;span style="color:#4e9a06">&amp;#34;*&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --destination-port-range 7000-8000
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="getting-public-ips-to-nodes">Getting Public IPs to Nodes&lt;/h3>
&lt;h4 id="kubernetes-version-prior-to-11819-11911-and-1207">Kubernetes version prior to 1.18.19, 1.19.11 and 1.20.7&lt;/h4>
&lt;p>To find a resource&amp;rsquo;s public IP, search for &lt;a href="https://portal.azure.com/#blade/HubsExtension/BrowseResourceBlade/resourceType/Microsoft.Compute%2FvirtualMachineScaleSets">Virtual Machine Scale Sets&lt;/a> -&amp;gt; click on the set name(inside &lt;code>MC_resourceGroupName_AKSName_westeurope&lt;/code> group) -&amp;gt; click &lt;code>Instances&lt;/code> -&amp;gt; click on the instance name -&amp;gt; view &lt;code>Public IP address&lt;/code>.&lt;/p>
&lt;p>To get public IP via API &lt;a href="https://github.com/Azure/azure-libraries-for-net/issues/1185#issuecomment-747919226">look here&lt;/a>.&lt;/p>
&lt;p>For more information on Public IPs for VM NICs, see &lt;a href="https://docs.microsoft.com/azure/virtual-network/virtual-network-network-interface-addresses">this document&lt;/a>.&lt;/p>
&lt;h4 id="kubernetes-version-starting-11819-11911-and-1207">Kubernetes version starting 1.18.19, 1.19.11 and 1.20.7&lt;/h4>
&lt;p>Virtual Machines public IP is available directly in Kubernetes EXTERNAL-IP.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Continue to &lt;a href="http://localhost:1313/docs/installation/install-agones/">Install Code Blind&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Minikube</title><link>http://localhost:1313/docs/installation/creating-cluster/minikube/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/creating-cluster/minikube/</guid><description>
&lt;h2 id="installing-minikube">Installing Minikube&lt;/h2>
&lt;p>First, &lt;a href="https://minikube.sigs.k8s.io/docs/start/">install Minikube&lt;/a>, which may also require you to install
a virtualisation solution, such as &lt;a href="https://www.virtualbox.org">VirtualBox&lt;/a> as well.&lt;/p>
&lt;h2 id="starting-minikube">Starting Minikube&lt;/h2>
&lt;p>Minikube will need to be started with the supported version of Kubernetes that is supported with Code Blind, via the
&lt;code>--kubernetes-version&lt;/code> command line flag.&lt;/p>
&lt;p>Optionally, we also recommend starting with an &lt;code>agones&lt;/code> profile, using &lt;code>-p&lt;/code> to keep this cluster separate from any other
clusters you may have running with Minikube.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>minikube start --kubernetes-version v1.27.6 -p agones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Check the official &lt;a href="https://minikube.sigs.k8s.io/docs/commands/start/">minikube start&lt;/a> reference for more options that
may be required for your platform of choice.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>You may need to increase the &lt;code>--cpu&lt;/code> or &lt;code>--memory&lt;/code> values for your minikube instance, depending on what resources are
available on the host and/or how many GameServers you wish to run locally.&lt;/p>
&lt;p>Depending on your Operating System, you may also need to change the &lt;code>--driver&lt;/code>
(&lt;a href="https://minikube.sigs.k8s.io/docs/drivers/">driver list&lt;/a>) to enable &lt;code>GameServer&lt;/code> connectivity with or without
some workarounds listed below.&lt;/p>
&lt;/div>
&lt;h3 id="known-working-drivers">Known working drivers&lt;/h3>
&lt;p>Other operating systems and drivers may work, but at this stage have not been verified to work with UDP connections
via Code Blind exposed ports.&lt;/p>
&lt;p>&lt;strong>Linux (amd64)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Docker (default)&lt;/li>
&lt;li>kvm2&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Mac (amd64)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Docker (default)&lt;/li>
&lt;li>Hyperkit&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Windows (amd64)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>hyper-v (might need
&lt;a href="https://blog.thepolyglotprogrammer.com/setting-up-kubernetes-on-wsl-to-work-with-minikube-on-windows-10-90dac3c72fa1">this blog post&lt;/a>
and/or &lt;a href="https://github.com/microsoft/WSL/issues/4288#issuecomment-652259640">this comment&lt;/a> for WSL support)&lt;/li>
&lt;/ul>
&lt;p>&lt;em>If you have successfully tested with other platforms and drivers, please click &amp;ldquo;edit this page&amp;rdquo; in the top right hand
side and submit a pull request to let us know.&lt;/em>&lt;/p>
&lt;h2 id="local-connection-workarounds">Local connection workarounds&lt;/h2>
&lt;p>Depending on your operating system and virtualization platform that you are using with Minikube, it may not be
possible to connect directly to a &lt;code>GameServer&lt;/code> hosted on Code Blind as you would on a cloud hosted Kubernetes cluster.&lt;/p>
&lt;p>If you are unable to do so, the following workarounds are available, and may work on your platform:&lt;/p>
&lt;h3 id="minikube-ip">minikube ip&lt;/h3>
&lt;p>Rather than using the published IP of a &lt;code>GameServer&lt;/code> to connect, run &lt;code>minikube ip -p agones&lt;/code> to get the local IP for
the minikube node, and connect to that address.&lt;/p>
&lt;h3 id="create-a-service">Create a service&lt;/h3>
&lt;p>This would only be for local development, but if none of the other workarounds work, creating a Service for the
&lt;code>GameServer&lt;/code> you wish to connect to is a valid solution, to tunnel traffic to the appropriate GameServer container.&lt;/p>
&lt;p>Use the following yaml:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Service&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">agones-gameserver&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">LoadBalancer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">selector&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/gameserver&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${GAMESERVER_NAME}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">protocol&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">UDP&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">port&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7000&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># local port&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">targetPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${GAMESERVER_CONTAINER_PORT}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Where &lt;code>${GAMESERVER_NAME}&lt;/code> is replaced with the GameServer you wish to connect to, and &lt;code>${GAMESERVER_CONTAINER_PORT}&lt;/code>
is replaced with the container port GameServer exposes for connection.&lt;/p>
&lt;p>Running &lt;code>minikube service list -p agones&lt;/code> will show you the IP and port to connect to locally in the &lt;code>URL&lt;/code> field.&lt;/p>
&lt;p>To connect to a different &lt;code>GameServer&lt;/code>, run &lt;code>kubectl edit service agones-gameserver&lt;/code> and edit the &lt;code>${GAMESERVER_NAME}&lt;/code>
value to point to the new &lt;code>GameServer&lt;/code> instance and/or the &lt;code>${GAMESERVER_CONTAINER_PORT}&lt;/code> value as appropriate.&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;code>minikube tunnel&lt;/code> (&lt;a href="https://minikube.sigs.k8s.io/docs/handbook/accessing/">docs&lt;/a>)
does not support UDP (&lt;a href="https://github.com/kubernetes/minikube/issues/12362">Github Issue&lt;/a>) on some combination of
operating system, platforms and drivers, but is required when using the &lt;code>Service&lt;/code> workaround.
&lt;/div>
&lt;h3 id="use-a-different-driver">Use a different driver&lt;/h3>
&lt;p>If you cannot connect through the &lt;code>Service&lt;/code>or use other workarounds, you may want to try a different
&lt;a href="https://minikube.sigs.k8s.io/docs/drivers/">minikube driver&lt;/a>, and if that doesn&amp;rsquo;t work, connection via UDP may not
be possible with minikube, and you may want to try either a
&lt;a href="https://kubernetes.io/docs/tasks/tools/">different local Kubernetes tool&lt;/a> or use a cloud hosted Kubernetes cluster.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Continue to &lt;a href="http://localhost:1313/docs/installation/install-agones/">Install Code Blind&lt;/a>.&lt;/li>
&lt;/ul></description></item></channel></rss>