<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>– Code Blind Documentation</title><link>http://localhost:1313/docs/</link><description>Recent content in Code Blind Documentation on</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="http://localhost:1313/docs/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Feature Stages</title><link>http://localhost:1313/docs/guides/feature-stages/</link><pubDate>Thu, 26 Sep 2019 01:20:41 +0000</pubDate><guid>http://localhost:1313/docs/guides/feature-stages/</guid><description>
&lt;h2 id="supported-versions">Supported Versions&lt;/h2>
&lt;p>Code Blind versions are expressed as x.y.z, where x is the major version, y is the minor version, and z is the patch version
following &lt;a href="http://semver.org/">Semantic Versioning&lt;/a> terminology.&lt;/p>
&lt;h2 id="code-blind-features">Code Blind Features&lt;/h2>
&lt;p>A feature within Code Blind can be in &lt;code>Alpha&lt;/code>, &lt;code>Beta&lt;/code> or &lt;code>Stable&lt;/code> stage.&lt;/p>
&lt;h2 id="feature-gates">Feature Gates&lt;/h2>
&lt;p>&lt;code>Alpha&lt;/code> and &lt;code>Beta&lt;/code> features can be enabled or disabled through the &lt;code>agones.featureGates&lt;/code> configuration option
that can be found in the &lt;a href="http://localhost:1313/docs/installation/install-agones/helm/#configuration">Helm configuration&lt;/a> documentation.&lt;/p>
&lt;p>The current set of &lt;code>alpha&lt;/code> and &lt;code>beta&lt;/code> feature gates:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Feature Name&lt;/th>
&lt;th>Gate&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Stage&lt;/th>
&lt;th>Since&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;a href="http://localhost:1313/docs/guides/fleet-updates/#notifying-gameservers-on-fleet-updatedownscale">Allocated GameServers are notified on relevant Fleet Updates&lt;/a>&lt;/td>
&lt;td>&lt;code>FleetAllocationOverflow&lt;/code>&lt;/td>
&lt;td>Enabled&lt;/td>
&lt;td>&lt;code>Beta&lt;/code>&lt;/td>
&lt;td>1.37.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://github.com/googleforgames/agones/issues/2716">CountsAndLists&lt;/a>&lt;/td>
&lt;td>&lt;code>CountsAndLists&lt;/code>&lt;/td>
&lt;td>Disabled&lt;/td>
&lt;td>&lt;code>Alpha&lt;/code>&lt;/td>
&lt;td>1.37.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://github.com/googleforgames/agones/issues/1239">GameServer player capacity filtering on GameServerAllocations&lt;/a>&lt;/td>
&lt;td>&lt;code>PlayerAllocationFilter&lt;/code>&lt;/td>
&lt;td>Disabled&lt;/td>
&lt;td>&lt;code>Alpha&lt;/code>&lt;/td>
&lt;td>1.14.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="http://localhost:1313/docs/guides/player-tracking/">Player Tracking&lt;/a>&lt;/td>
&lt;td>&lt;code>PlayerTracking&lt;/code>&lt;/td>
&lt;td>Disabled&lt;/td>
&lt;td>&lt;code>Alpha&lt;/code>&lt;/td>
&lt;td>1.6.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a href="https://github.com/googleforgames/agones/issues/3377">DisableResyncOnSDKServer&lt;/a>&lt;/td>
&lt;td>&lt;code>DisableResyncOnSDKServer&lt;/code>&lt;/td>
&lt;td>Disabled&lt;/td>
&lt;td>&lt;code>Alpha&lt;/code>&lt;/td>
&lt;td>1.37.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Example Gate (not in use)&lt;/td>
&lt;td>&lt;code>Example&lt;/code>&lt;/td>
&lt;td>Disabled&lt;/td>
&lt;td>None&lt;/td>
&lt;td>0.13.0&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
If you aren&amp;rsquo;t sure if Feature Flags have been set correctly, have a look at the
&lt;em>&lt;a href="http://localhost:1313/docs/guides/troubleshooting/#the-feature-flag-i-enableddisabled-isnt-working-as-expected">The Feature Flag I enabled/disabled isn&amp;rsquo;t working as expected&lt;/a>&lt;/em>
troubleshooting section.
&lt;/div>
&lt;h2 id="description-of-stages">Description of Stages&lt;/h2>
&lt;h3 id="alpha">Alpha&lt;/h3>
&lt;p>An &lt;code>Alpha&lt;/code> feature means:&lt;/p>
&lt;ul>
&lt;li>Disabled by default.&lt;/li>
&lt;li>Might be buggy. Enabling the feature may expose bugs.&lt;/li>
&lt;li>Support for this feature may be dropped at any time without notice.&lt;/li>
&lt;li>The API may change in incompatible ways in a later software release without notice.&lt;/li>
&lt;li>Recommended for use only in short-lived testing clusters, due to increased risk of bugs and lack of long-term support.&lt;/li>
&lt;/ul>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Please do try &lt;code>Alpha&lt;/code> features and give feedback on them. This is important to ensure less breaking changes
through the &lt;code>Beta&lt;/code> period.
&lt;/div>
&lt;h3 id="beta">Beta&lt;/h3>
&lt;p>A &lt;code>Beta&lt;/code> feature means:&lt;/p>
&lt;ul>
&lt;li>Enabled by default, but able to be disabled through a feature gate.&lt;/li>
&lt;li>The feature is well tested. Enabling the feature is considered safe.&lt;/li>
&lt;li>Support for the overall feature will not be dropped, though details may change.&lt;/li>
&lt;li>The schema and/or semantics of objects may change in incompatible ways in a subsequent beta or stable releases. When
this happens, we will provide instructions for migrating to the next version. This may require deleting, editing,
and re-creating API objects. The editing process may require some thought. This may require downtime for
applications that rely on the feature.&lt;/li>
&lt;li>Recommended for only non-business-critical uses because of potential for incompatible changes in subsequent releases.
If you have multiple clusters that can be upgraded independently, you may be able to relax this restriction.&lt;/li>
&lt;/ul>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Note: Please do try &lt;code>Beta&lt;/code> features and give feedback on them! After they exit beta, it may not be practical for us
to make more changes.
&lt;/div>
&lt;h3 id="stable">Stable&lt;/h3>
&lt;p>A &lt;code>Stable&lt;/code> feature means:&lt;/p>
&lt;ul>
&lt;li>The feature is enabled and the corresponding feature gate no longer exists.&lt;/li>
&lt;li>Stable versions of features will appear in released software for many subsequent versions.&lt;/li>
&lt;/ul>
&lt;h2 id="feature-stage-indicators">Feature Stage Indicators&lt;/h2>
&lt;p>There are a variety of features with Code Blind, how can we determine what stage each feature is in?&lt;/p>
&lt;p>Below are indicators for each type of functionality that can be used to determine the feature stage for a given aspect
of Code Blind.&lt;/p>
&lt;h3 id="custom-resource-definitions-crds">Custom Resource Definitions (CRDs)&lt;/h3>
&lt;p>This refers to Kubernetes resource for Code Blind, such as &lt;code>GameServer&lt;/code>, &lt;code>Fleet&lt;/code> and &lt;code>GameServerAllocation&lt;/code>.&lt;/p>
&lt;h4 id="new-crds">New CRDs&lt;/h4>
&lt;p>For new resources, the stage of the resource will be indicated by the &lt;code>apiVersion&lt;/code> of the resource.&lt;/p>
&lt;p>For example: &lt;code>apiVersion: &amp;quot;agones.dev/v1&amp;quot;&lt;/code> is a &lt;code>stable&lt;/code> resource, &lt;code>apiVersion: &amp;quot;agones.dev/v1beta1&amp;quot;&lt;/code> is a &lt;code>beta&lt;/code>
stage resource, and &lt;code>apiVersion: &amp;quot;agones.dev/v1alpha1&amp;quot;&lt;/code> is an &lt;code>alpha&lt;/code> stage resource.&lt;/p>
&lt;h4 id="new-crd-attributes">New CRD attributes&lt;/h4>
&lt;p>When &lt;code>alpha&lt;/code> and &lt;code>beta&lt;/code> attributes are added to an existing stable Code Blind CRD, we will follow the Kubernetes &lt;a href="https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api_changes.md#adding-unstable-features-to-stable-versions">&lt;em>Adding
Unstable Features to Stable Versions&lt;/em>&lt;/a>
Guide to optimise on the least amount of breaking changes for users as attributes progress through feature stages.&lt;/p>
&lt;p>&lt;code>alpha&lt;/code> and &lt;code>beta&lt;/code> attributes will be added to the existing CRD as &lt;code>optional&lt;/code> and documented with their feature stage.
Attempting to populate these &lt;code>alpha&lt;/code> and &lt;code>beta&lt;/code> attributes on an Code Blind CRD will return a validation error if their
accompanying Feature Flag is not enabled.&lt;/p>
&lt;p>&lt;code>alpha&lt;/code> and &lt;code>beta&lt;/code> attributes can be subject to change of name and structure, and will result in breaking changes
before moving to a &lt;code>stable&lt;/code> stage. These changes will be outlined in release notes and feature documentation.&lt;/p>
&lt;h3 id="code-blind-game-server-sdk">Code Blind Game Server SDK&lt;/h3>
&lt;p>Any &lt;code>alpha&lt;/code> or &lt;code>beta&lt;/code> Game Server SDK functionality will be a subpackage of the &lt;code>sdk&lt;/code> package. For example
, functionality found in a &lt;code>sdk.alphav1&lt;/code> package should be considered at the &lt;code>alpha&lt;/code> feature stage.&lt;/p>
&lt;p>Only experimental functionality will be found in any &lt;code>alpha&lt;/code> and &lt;code>beta&lt;/code> SDK packages, and as such may change as
development occurs.&lt;/p>
&lt;p>As SDK features move to through feature stages towards &lt;code>stable&lt;/code>, the previous version of the SDK API
will remain for at least one release to enable easy migration to the more stable feature stage (i.e. from &lt;code>alpha &lt;/code> -&amp;gt; &lt;code>beta&lt;/code>, &lt;code>beta&lt;/code> -&amp;gt; &lt;code>stable&lt;/code>)&lt;/p>
&lt;p>Any other SDK functionality not marked as &lt;code>alpha&lt;/code> or &lt;code>beta&lt;/code> is assumed to be &lt;code>stable&lt;/code>.&lt;/p>
&lt;h3 id="rest--grpc-apis">REST &amp;amp; gRPC APIs&lt;/h3>
&lt;p>REST and gRPC API will have versioned paths where appropriate to indicate their feature stage.&lt;/p>
&lt;p>For example, a REST API with a prefix of &lt;code>v1alpha1&lt;/code> is an &lt;code>alpha&lt;/code> stage feature:
&lt;code>http://api.example.com/v1alpha1/exampleaction&lt;/code>.&lt;/p>
&lt;p>Similar to the SDK, any &lt;code>alpha&lt;/code> or &lt;code>beta&lt;/code> gRPC functionality will be a subpackage of the main API package.
For example, functionality found in a &lt;code>api.alphav1&lt;/code> package should be considered at the &lt;code>alpha&lt;/code> feature stage.&lt;/p></description></item><item><title>Docs: Matchmaker requests a GameServer from a Fleet</title><link>http://localhost:1313/docs/integration-patterns/allocation-from-fleet/</link><pubDate>Tue, 27 Jul 2021 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/integration-patterns/allocation-from-fleet/</guid><description>
&lt;p>&lt;img alt="Allocated Lifecycle Sequence Diagram" src="../../../diagrams/gameserver-lifecycle.puml.png">&lt;/p>
&lt;h2 id="sample-gameserverallocation">Sample &lt;code>GameServerAllocation&lt;/code>&lt;/h2>
&lt;p>Since Code Blind will automatically add the label &lt;code>agones.dev/fleet&lt;/code> to a &lt;code>GameServer&lt;/code> of a given &lt;code>Fleet&lt;/code>, we can use that
label selector to target a specific &lt;code>Fleet&lt;/code> by name. In this instance, we are targeting the &lt;code>Fleet&lt;/code> &lt;code>xonotic&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;allocation.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServerAllocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">required&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">xonotic&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="next-steps">Next Steps:&lt;/h2>
&lt;ul>
&lt;li>Read the various specification references.
&lt;ul>
&lt;li>Review the &lt;a href="http://localhost:1313/docs/reference/gameserver/">GameServer&lt;/a> spec.&lt;/li>
&lt;li>Review the &lt;a href="http://localhost:1313/docs/reference/fleet/">Fleet&lt;/a> spec.&lt;/li>
&lt;li>Review the &lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">GameServerAllocation&lt;/a> spec.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Review the specifics of &lt;a href="http://localhost:1313/docs/guides/health-checking/">Health Checking&lt;/a>.&lt;/li>
&lt;li>See all the commands the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK&lt;/a> provides - we only show a few here!&lt;/li>
&lt;li>Check out the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">Allocator Service&lt;/a> as a richer alternative to &lt;code>GameServerAllocation&lt;/code>.&lt;/li>
&lt;li>If you aren&amp;rsquo;t familiar with the term &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/">Pod&lt;/a>, this should provide a reference.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Unreal Engine Game Server Client Plugin</title><link>http://localhost:1313/docs/guides/client-sdks/unreal/</link><pubDate>Thu, 13 Jun 2019 10:17:50 +0000</pubDate><guid>http://localhost:1313/docs/guides/client-sdks/unreal/</guid><description>
&lt;p>Check the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK Documentation&lt;/a> for more details on each of the SDK functions and how to run the SDK locally.&lt;/p>
&lt;h2 id="sdk-functionality">SDK Functionality&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Area&lt;/th>
&lt;th>Action&lt;/th>
&lt;th>Implemented&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Ready&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Health&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Reserve&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Allocate&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Shutdown&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>GameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>Watch&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetAnnotation&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetLabel&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>IncrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>DecrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>AppendListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>DeleteListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>SetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>ListContains&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListLength&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListValues&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetConnectedPlayers&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCount&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>IsPlayerConnected&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerConnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerDisconnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>SetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Additional methods have been added for ease of use (both of which are enabled by default):&lt;/p>
&lt;ul>
&lt;li>Connect
&lt;ul>
&lt;li>will call &lt;code>/gameserver&lt;/code> till a succesful response is returned and then call &lt;code>/ready&lt;/code>.&lt;/li>
&lt;li>disabled by setting &lt;code>bDisableAutoConnect&lt;/code> to &lt;code>true&lt;/code>.&lt;/li>
&lt;li>An event is broadcast with the &lt;code>GameServer&lt;/code> data once the &lt;code>/gameserver&lt;/code> call succeeds.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Health
&lt;ul>
&lt;li>calls &lt;code>/health&lt;/code> endpoint on supplied rate&lt;/li>
&lt;li>enabled by default with 10 second rate&lt;/li>
&lt;li>disabled by default by setting &lt;code>HealthRateSeconds&lt;/code> to &lt;code>0&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Both of the above are automatically kicked off in the &lt;code>BeginPlay&lt;/code> of the component.&lt;/p>
&lt;h2 id="download">Download&lt;/h2>
&lt;p>Download the source from the &lt;a href="https://github.com/googleforgames/agones/releases">Releases Page&lt;/a>
or
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>directly from GitHub&lt;/a>.&lt;/p>
&lt;h2 id="resources">Resources&lt;/h2>
&lt;p>&lt;a href="https://www.unrealengine.com/">Unreal&lt;/a> is a &lt;a href="https://en.wikipedia.org/wiki/Game_engine">game engine&lt;/a> that is used by anyone from hobbyists all the way through to huge AAA Game Stuidos.&lt;/p>
&lt;p>With this in mind there is a vast amount to learn to run a production game using Unreal, even before you get to learning how it integrates with Code Blind. If you want to kick the tires with a starter project you will probably be fine with one of the starter projects out of the box.&lt;/p>
&lt;p>However as your Unreal/Code Blind project gets more advanced you will want to understand more about the engine itself and how it can be used to integrate with this project. There will be different ways of interacting via in Play In Editor (PIE) versus running as an actual dedicated game server packaged into a container.&lt;/p>
&lt;p>There are few helpful links for latest Unreal Engine 5:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.unrealengine.com/en-US/">UE5 Documentation Site&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/en-US/setting-up-dedicated-servers-in-unreal-engine/">UE5 Dedicated Servers&lt;/a>
&lt;ul>
&lt;li>useful guide to getting started with dedicated servers in Unreal&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/en-US/game-mode-and-game-state-in-unreal-engine/">UE5 Game Mode and Game State&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/en-US/API/Runtime/Engine/GameFramework/AGameMode/">UE5 Game Mode API Reference&lt;/a>
&lt;ul>
&lt;li>useful for hooking up calls to Code Blind&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/en-US/API/Runtime/Engine/GameFramework/AGameSession/">UE5 Game Session API Reference&lt;/a>
&lt;ul>
&lt;li>as above there are hooks in Game Session that can be used to call into Code Blind&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/en-US/build-operations-cooking-packaging-deploying-and-running-projects-in-unreal-engine/">UE5 Building &amp;amp; Packaging Games&lt;/a>
&lt;ul>
&lt;li>only building out Unreal game servers / clients, will also need to package into a container&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>If you use Unreal Engine 4, There are few helpful links for it:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.unrealengine.com/4.27/en-US/index.html">UE4 Documentation Site&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/4.27/en-US/Gameplay/Networking/HowTo/DedicatedServers/index.html">UE4 Dedicated Servers&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/4.27/en-US/InteractiveExperiences/Framework/GameFlow/">UE4 Game Flow&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/GameFramework/AGameMode/index.html">UE4 Game Mode&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/4.27/en-US/API/Runtime/Engine/GameFramework/AGameSession/index.html">UE4 Game Session&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.unrealengine.com/4.27/en-US/Engine/Deployment/BuildOperations/index.html">UE4 Building &amp;amp; Packaging Games&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="getting-started">Getting Started&lt;/h2>
&lt;p>This is a SDK inspired by the REST API to the Code Blind sidecars that allows engineers to communicate with the sidecar from either C++ or Blueprints.&lt;/p>
&lt;h3 id="getting-the-code">Getting the Code&lt;/h3>
&lt;p>Easiest way to get this code is to clone the repository and drop the entire plugin folder into your own &lt;code>Plugins&lt;/code> folder. This runs the plugin as a Project plugin rather than an engine plugin.&lt;/p>
&lt;p>We could however turn this into a marketplace plugin that can be retrived from the marketplace directly into the UE editor.&lt;/p>
&lt;h4 id="using-c-ue5ue4">Using C++ (UE5/UE4)&lt;/h4>
&lt;ul>
&lt;li>Add Plugin (in your own &lt;code>.uproject&lt;/code> file)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;Plugins&amp;#34;&lt;/span>&lt;span style="color:#a40000">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;Enabled&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;Name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Code Blind&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#a40000">,&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Add Plugin (in your own &lt;code>*.Build.cs&lt;/code>)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">PublicDependencyModuleNames.AddRange(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a40000">new&lt;/span>&lt;span style="color:#000;font-weight:bold">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;Code Blind&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#a40000">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Add component in header&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c++" data-lang="c++">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#include&lt;/span> &lt;span style="color:#8f5902;font-style:italic">&amp;#34;AgonesComponent.h&amp;#34;&lt;/span>&lt;span style="color:#8f5902;font-style:italic">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">UPROPERTY&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">EditAnywhere&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">BlueprintReadWrite&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">UAgonesComponent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#000">AgonesSDK&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Initialize component in GameMode&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c++" data-lang="c++">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#include&lt;/span> &lt;span style="color:#8f5902;font-style:italic">&amp;#34;AgonesComponent.h&amp;#34;&lt;/span>&lt;span style="color:#8f5902;font-style:italic">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#include&lt;/span> &lt;span style="color:#8f5902;font-style:italic">&amp;#34;Classes.h&amp;#34;&lt;/span>&lt;span style="color:#8f5902;font-style:italic">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">ATestGameMode&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">ATestGameMode&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">AgonesSDK&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">CreateDefaultSubobject&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">UAgonesComponent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">TEXT&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;AgonesSDK&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">));&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Use the Code Blind component to call PlayerReady&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c++" data-lang="c++">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">void&lt;/span> &lt;span style="color:#000">APlatformGameSession&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">PostLogin&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">APlayerController&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#000">NewPlayer&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Empty brances are for callbacks on success and errror.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">AgonesSDK&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">PlayerConnect&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;netspeak-player&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000;font-weight:bold">{},&lt;/span> &lt;span style="color:#000;font-weight:bold">{});&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="using-blueprints-ue5">Using Blueprints (UE5)&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Add Component to your Blueprint GameMode
&lt;img alt="component" src="../../../../images/unreal5_bp_component.png">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>This will automatically call &lt;code>/health&lt;/code> every 10 seconds and once &lt;code>/gameserver&lt;/code> calls are succesful it will call &lt;code>/ready&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Accessing other functionality of Code Blind can be done via adding a node in Blueprints.
&lt;img alt="actions" src="../../../../images/unreal5_bp_actions.png">&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="using-blueprints-ue4">Using Blueprints (UE4)&lt;/h4>
&lt;ul>
&lt;li>
&lt;p>Add Component to your Blueprint GameMode
&lt;img alt="component" src="../../../../images/unreal_bp_component.png">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>This will automatically call &lt;code>/health&lt;/code> every 10 seconds and once &lt;code>/gameserver&lt;/code> calls are succesful it will call &lt;code>/ready&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Accessing other functionality of Code Blind can be done via adding a node in Blueprints.
&lt;img alt="actions" src="../../../../images/unreal_bp_actions.png">&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="configuration-options">Configuration Options&lt;/h2>
&lt;p>A number of options can be altered via config files in Unreal these are supplied via &lt;code>Game&lt;/code> configuration eg. &lt;code>DefaultGame.ini&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>[/Script/Code Blind.AgonesComponent]
HttpPort=1337
HealthRateSeconds=5.0
bDisableAutoConnect=true
&lt;/code>&lt;/pre>&lt;h2 id="unreal-hooks">Unreal Hooks&lt;/h2>
&lt;p>Within the Unreal &lt;a href="https://docs.unrealengine.com/en-US/API/Runtime/Engine/GameFramework/AGameMode/index.html">GameMode&lt;/a> and &lt;a href="https://docs.unrealengine.com/en-US/API/Runtime/Engine/GameFramework/AGameSession/index.html">GameSession&lt;/a> exist a number of useful existing
funtions that can be used to fit in with making calls out to Code Blind.&lt;/p>
&lt;p>A few examples are:&lt;/p>
&lt;ul>
&lt;li>&lt;code>RegisterServer&lt;/code> to call &lt;code>SetLabel&lt;/code>, &lt;code>SetPlayerCapacity&lt;/code>&lt;/li>
&lt;li>&lt;code>PostLogin&lt;/code> to call &lt;code>PlayerConnect&lt;/code>&lt;/li>
&lt;li>&lt;code>NotifyLogout&lt;/code> to call &lt;code>PlayerDisconnect&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Third Party Videos and Presentations</title><link>http://localhost:1313/docs/third-party-content/videos-and-presentations/</link><pubDate>Thu, 03 Jan 2019 08:37:35 +0000</pubDate><guid>http://localhost:1313/docs/third-party-content/videos-and-presentations/</guid><description>
&lt;h2 id="presentations">Presentations&lt;/h2>
&lt;h3 id="large-scale-multiplayer-gaming-on-kubernetes-cloud-next-19">Large-Scale Multiplayer Gaming on Kubernetes (Cloud Next &amp;lsquo;19)&lt;/h3>
&lt;iframe width="640" height="360" class="p-2" src="https://www.youtube.com/embed/Imf_urBB7SI"
frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>&lt;/iframe>
&lt;h3 id="code-blind-scaling-multiplayer-game-servers-with-open-source-gdc-2019">Code Blind: Scaling Multiplayer Game Servers with Open Source (GDC 2019)&lt;/h3>
&lt;iframe width="640" height="360" class="p-2" src="https://www.youtube.com/embed/XD1nuASFY3k"
frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>&lt;/iframe>
&lt;h3 id="intro-to-code-blind-scaling-multiplayer-game-servers-with-kubernetes-kubecon-2018">Intro to Code Blind: Scaling Multiplayer Game Servers with Kubernetes (Kubecon, 2018)&lt;/h3>
&lt;iframe width="640" height="360" class="p-2" src="https://www.youtube.com/embed/Q4RZSHTeKCY"
frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>&lt;/iframe>
&lt;h3 id="google-cloud-next-18-london-carl-dionne-development-director-at-ubisoft-montreal">Google Cloud Next &amp;lsquo;18 London: Carl Dionne, Development Director at Ubisoft Montreal&lt;/h3>
&lt;iframe width="640" height="360" class="p-2" src="https://www.youtube.com/embed/5n-JlLA7bIc?start=835"
frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>&lt;/iframe>
&lt;h3 id="code-blind-scaling-multiplayer-dedicated-game-servers-with-kubernetes-cloud-next-18">Code Blind: Scaling Multiplayer Dedicated Game Servers with Kubernetes (Cloud Next &amp;lsquo;18)&lt;/h3>
&lt;iframe width="640" height="360" class="p-2" src="https://www.youtube.com/embed/CLNpkjolxYA"
frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>&lt;/iframe>
&lt;h2 id="screencasts">Screencasts&lt;/h2>
&lt;h3 id="code-blind-how-do-i-docker-and-kubernetes-part-1--part-2">Code Blind: How Do I Docker and Kubernetes? (Part 1 &amp;amp; Part 2)&lt;/h3>
&lt;p>&lt;iframe width="640" height="360" class="p-2" src="https://www.youtube.com/embed/i4_zaztK6mE"
frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>&lt;/iframe>
&lt;iframe width="640" height="360" class="p-2" src="https://www.youtube.com/embed/ZZXLDnmO1TM"
frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>&lt;/iframe>
&lt;/p></description></item><item><title>Docs: Scheduling and Autoscaling</title><link>http://localhost:1313/docs/advanced/scheduling-and-autoscaling/</link><pubDate>Thu, 03 Jan 2019 05:45:05 +0000</pubDate><guid>http://localhost:1313/docs/advanced/scheduling-and-autoscaling/</guid><description>
&lt;h2 id="cluster-autoscaler">Cluster Autoscaler&lt;/h2>
&lt;p>Kubernetes has a &lt;a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler">cluster node autoscaler that works with a wide variety of cloud providers&lt;/a>.&lt;/p>
&lt;p>The default scheduling strategy (&lt;code>Packed&lt;/code>) is designed to work with the Kubernetes autoscaler out of the box.&lt;/p>
&lt;p>The autoscaler will automatically add Nodes to the cluster when &lt;code>GameServers&lt;/code> don&amp;rsquo;t have room to be scheduled on the
clusters, and then scale down when there are empty Nodes with no &lt;code>GameServers&lt;/code> running on them.&lt;/p>
&lt;p>This means that scaling &lt;code>Fleets&lt;/code> up and down can be used to control the size of the cluster, as the cluster autoscaler
will adjust the size of the cluster to match the resource needs of one or more &lt;code>Fleets&lt;/code> running on it.&lt;/p>
&lt;p>To enable and configure autoscaling on your cloud provider, check their &lt;a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler/cloudprovider">connector implementation&lt;/a>,
or their cloud specific documentation.&lt;/p>
&lt;h3 id="google-kubernetes-engine">Google Kubernetes Engine&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/cluster-autoscaler">Administering Clusters: Autoscaling a Cluster&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/cluster-autoscaler">Cluster Autoscaler&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="amazon-elastic-kubernetes-service">Amazon Elastic Kubernetes Service&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://docs.aws.amazon.com/eks/latest/userguide/cluster-autoscaler.html">Cluster Autoscaler for EKS&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="azure-kubernetes-service">Azure Kubernetes Service&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://docs.microsoft.com/en-us/azure/aks/autoscaler">Cluster Autoscaler on Azure Kubernetes Service (AKS) - Preview&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="fleet-autoscaling">Fleet Autoscaling&lt;/h2>
&lt;p>Fleet autoscaling is the only type of autoscaling that exists in Code Blind. It is currently available as a
buffer autoscaling strategy or as a webhook driven strategy, such that you can provide your own autoscaling logic.&lt;/p>
&lt;p>Have a look at the &lt;a href="http://localhost:1313/docs/getting-started/create-fleetautoscaler/">Create a Fleet Autoscaler&lt;/a> quickstart, the
&lt;a href="http://localhost:1313/docs/getting-started/create-webhook-fleetautoscaler/">Create a Webhook Fleet Autoscaler&lt;/a> quickstart,
and the &lt;a href="http://localhost:1313/docs/reference/fleetautoscaler/">Fleet Autoscaler Specification&lt;/a> for details.&lt;/p>
&lt;h2 id="autoscaling-concepts">Autoscaling Concepts&lt;/h2>
&lt;p>To facilitate autoscaling, we need to combine several concepts and functionality, as described below.&lt;/p>
&lt;h3 id="allocation-scheduling">Allocation Scheduling&lt;/h3>
&lt;p>Allocation scheduling refers to the order in which &lt;code>GameServers&lt;/code>, and specifically their backing &lt;code>Pods&lt;/code> are chosen
from across the Kubernetes cluster within a given &lt;code>Fleet&lt;/code> when &lt;a href="http://localhost:1313/docs/getting-started/create-fleet/#4-allocate-a-game-server-from-the-fleet">allocation&lt;/a> occurs.&lt;/p>
&lt;h3 id="pod-scheduling">Pod Scheduling&lt;/h3>
&lt;p>Each &lt;code>GameServer&lt;/code> is backed by a Kubernetes &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/">&lt;code>Pod&lt;/code>&lt;/a>. Pod scheduling
refers to the strategy that is in place that determines which node in the Kubernetes cluster the Pod is assigned to,
when it is created.&lt;/p>
&lt;h3 id="fleet-scale-down-strategy">Fleet Scale Down Strategy&lt;/h3>
&lt;p>Fleet Scale Down strategy refers to the order in which the &lt;code>GameServers&lt;/code> that belong to a &lt;code>Fleet&lt;/code> are deleted,
when Fleets are shrunk in size.&lt;/p>
&lt;h2 id="fleet-scheduling">Fleet Scheduling&lt;/h2>
&lt;p>There are two scheduling strategies for Fleets - each designed for different types of Kubernetes Environments.&lt;/p>
&lt;h3 id="packed">Packed&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Fleet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">replicas&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">100&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">scheduling&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Packed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">containerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7654&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">us-docker.pkg.dev/codeblind/examples/simple-server:0.27&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This is the &lt;em>default&lt;/em> Fleet scheduling strategy. It is designed for dynamic Kubernetes environments, wherein you wish
to scale up and down as load increases or decreases, such as in a Cloud environment where you are paying
for the infrastructure you use.&lt;/p>
&lt;p>It attempts to &lt;em>pack&lt;/em> as much as possible into the smallest set of nodes, to make
scaling infrastructure down as easy as possible.&lt;/p>
&lt;p>This affects the Cluster autoscaler, Allocation Scheduling, Pod Scheduling and Fleet Scale Down Scheduling.&lt;/p>
&lt;h4 id="cluster-autoscaler-1">Cluster Autoscaler&lt;/h4>
&lt;p>When using the &amp;ldquo;Packed&amp;rdquo; strategy, Code Blind will ensure that the Cluster Autoscaler doesn&amp;rsquo;t attempt to evict and move &lt;code>GameServer&lt;/code> &lt;code>Pods&lt;/code> onto new Nodes during
gameplay.&lt;/p>
&lt;p>If a gameserver can tolerate &lt;a href="https://kubernetes.io/docs/concepts/scheduling-eviction/api-eviction/#how-api-initiated-eviction-works">being evicted&lt;/a>
(generally in combination with setting an appropriate graceful termination period on the gameserver pod) and you
want the Cluster Autoscaler to compact your cluster by evicting game servers when it would allow the Cluster
Autoscaler to reduce the number of nodes in the cluster, &lt;a href="http://localhost:1313/docs/advanced/controlling-disruption/">Controlling Disruption&lt;/a> describes
how to choose the &lt;code>.eviction&lt;/code> setting appropriate for your &lt;code>GameServer&lt;/code> or &lt;code>Fleet&lt;/code>.&lt;/p>
&lt;h4 id="allocation-scheduling-strategy">Allocation Scheduling Strategy&lt;/h4>
&lt;p>Under the &amp;ldquo;Packed&amp;rdquo; strategy, allocation will prioritise allocating &lt;code>GameServers&lt;/code> to nodes that are running on
Nodes that already have allocated &lt;code>GameServers&lt;/code> running on them.&lt;/p>
&lt;h4 id="pod-scheduling-strategy">Pod Scheduling Strategy&lt;/h4>
&lt;p>Under the &amp;ldquo;Packed&amp;rdquo; strategy, Pods will be scheduled using the &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#inter-pod-affinity-and-anti-affinity-beta-feature">&lt;code>PodAffinity&lt;/code>&lt;/a>
with a &lt;code>preferredDuringSchedulingIgnoredDuringExecution&lt;/code> affinity with &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#interlude-built-in-node-labels">hostname&lt;/a>
topology. This attempts to group together &lt;code>GameServer&lt;/code> Pods within as few nodes in the cluster as it can.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
The default Kubernetes scheduler doesn&amp;rsquo;t do a perfect job of packing, but it&amp;rsquo;s a good enough job for what we need -
at least at this stage.
&lt;/div>
&lt;h4 id="fleet-scale-down-strategy-1">Fleet Scale Down Strategy&lt;/h4>
&lt;p>With the &amp;ldquo;Packed&amp;rdquo; strategy, Fleets will remove &lt;code>Ready&lt;/code> &lt;code>GameServers&lt;/code> from Nodes with the &lt;em>least&lt;/em> number of &lt;code>Ready&lt;/code> and
&lt;code>Allocated&lt;/code> &lt;code>GameServers&lt;/code> on them. Attempting to empty Nodes so that they can be safely removed.&lt;/p>
&lt;h3 id="distributed">Distributed&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Fleet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">replicas&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">100&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">scheduling&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Distributed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">containerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7654&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">us-docker.pkg.dev/codeblind/examples/simple-server:0.27&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This Fleet scheduling strategy is designed for static Kubernetes environments, such as when you are running Kubernetes
on bare metal, and the cluster size rarely changes, if at all.&lt;/p>
&lt;p>This attempts to distribute the load across the entire cluster as much as possible, to take advantage of the static
size of the cluster.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>&lt;code>Distributed&lt;/code> scheduling does not set
a &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#inter-pod-affinity-and-anti-affinity-beta-feature">&lt;code>PodAffinity&lt;/code>&lt;/a>
on &lt;code>GameServer&lt;/code> &lt;code>Pods&lt;/code>, and instead assumes that the default scheduler for your cluster will distribute the
&lt;code>GameServer&lt;/code> &lt;code>Pods&lt;/code> across the cluster by default.&lt;/p>
&lt;p>If your default scheduler does not do this, you may wish to set your own &lt;code>PodAffinity&lt;/code> to spread the load across the
cluster, or update the default scheduler to provide this functionality.&lt;/p>
&lt;/div>
&lt;p>This affects Allocation Scheduling, Pod Scheduling and Fleet Scale Down Scheduling.&lt;/p>
&lt;h4 id="cluster-autoscaler-2">Cluster Autoscaler&lt;/h4>
&lt;p>Since this strategy is not aimed at clusters that autoscale, this strategy does nothing for the cluster autoscaler.&lt;/p>
&lt;h4 id="allocation-scheduling-strategy-1">Allocation Scheduling Strategy&lt;/h4>
&lt;p>Under the &amp;ldquo;Distributed&amp;rdquo; strategy, allocation will prioritise allocating &lt;code>GameServers&lt;/code> to nodes that have the least
number of allocated &lt;code>GameServers&lt;/code> on them.&lt;/p>
&lt;h4 id="pod-scheduling-strategy-1">Pod Scheduling Strategy&lt;/h4>
&lt;p>Under the &amp;ldquo;Distributed&amp;rdquo; strategy, &lt;code>Pod&lt;/code> scheduling is provided by the default Kubernetes scheduler, which will attempt
to distribute the &lt;code>GameServer&lt;/code> &lt;code>Pods&lt;/code> across as many nodes as possible.&lt;/p>
&lt;h4 id="fleet-scale-down-strategy-2">Fleet Scale Down Strategy&lt;/h4>
&lt;p>With the &amp;ldquo;Distributed&amp;rdquo; strategy, Fleets will remove &lt;code>Ready&lt;/code> &lt;code>GameServers&lt;/code> from Nodes with at random, to ensure
a distributed load is maintained.&lt;/p></description></item><item><title>Docs: GameServer Specification</title><link>http://localhost:1313/docs/reference/gameserver/</link><pubDate>Thu, 03 Jan 2019 03:58:48 +0000</pubDate><guid>http://localhost:1313/docs/reference/gameserver/</guid><description>
&lt;p>A full GameServer specification is available below and in the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>example folder&lt;/a> for reference :&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># GameServer Metadata&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># https://v1-27.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#objectmeta-v1-meta&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># generateName: &amp;#34;gds-example&amp;#34; # generate a unique name, with the given prefix&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;gds-example&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># set a fixed name&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># if there is more than one container, specify which one is the game server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">container&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">example-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Array of ports that can be exposed as direct connections to the game server container&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># name is a descriptive name for the port&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># portPolicy has three options:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - &amp;#34;Dynamic&amp;#34; (default) the system allocates a free hostPort for the gameserver, for game clients to connect to&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - &amp;#34;Static&amp;#34;, user defines the hostPort that the game client will connect to. Then onus is on the user to ensure that the&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># port is available. When static is the policy specified, `hostPort` is required to be populated&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - &amp;#34;Passthrough&amp;#34; dynamically sets the `containerPort` to the same value as the dynamically selected hostPort.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># This will mean that users will need to lookup what port has been opened through the server side SDK.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">portPolicy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Static&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The name of the container to open the port on. Defaults to the game server container if omitted or empty.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">container&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the port that is being opened on the game server process&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7654&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the port exposed on the host, only required when `portPolicy` is &amp;#34;Static&amp;#34;. Overwritten when portPolicy is &amp;#34;Dynamic&amp;#34;.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">hostPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7777&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># protocol being used. Defaults to UDP. TCP and TCPUDP are other options&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - &amp;#34;UDP&amp;#34; (default) use the UDP protocol&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - &amp;#34;TCP&amp;#34;, use the TCP protocol&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - &amp;#34;TCPUDP&amp;#34;, uses both TCP and UDP, and exposes the same hostPort for both protocols.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># This will mean that it adds an extra port, and the first port is set to TCP, and second port set to UDP&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">protocol&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">UDP&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Health checking for the running game server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">health&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Disable health checking. defaults to false, but can be set to true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disabled&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Number of seconds after the container has started before health check is initiated. Defaults to 5 seconds&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">initialDelaySeconds&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># If the `Health()` function doesn&amp;#39;t get called at least once every period (seconds), then&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the game server is not healthy. Defaults to 5&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">periodSeconds&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Minimum consecutive failures for the health probe to be considered failed after having succeeded.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Defaults to 3. Minimum value is 1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">failureThreshold&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">3&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Parameters for game server sidecar&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sdkServer&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># sdkServer log level parameter has three options:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - &amp;#34;Info&amp;#34; (default) The SDK server will output all messages except for debug messages&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - &amp;#34;Debug&amp;#34; The SDK server will output all messages including debug messages&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - &amp;#34;Error&amp;#34; The SDK server will only output error messages&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">logLevel&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Info&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># grpcPort and httpPort control what ports the sdkserver listens on.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Starting with Code Blind 1.2 the default grpcPort is 9357 and the default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># httpPort is 9358. In earlier releases, the defaults were 59357 and 59358&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># respectively but as these were in the ephemeral port range they could&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># conflict with other TCP connections.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">grpcPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">9357&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">httpPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">9358&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:PlayerTracking]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Players provides the configuration for player tracking features.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Commented out since Alpha, and disabled by default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># players:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># # set this GameServer&amp;#39;s initial player capacity&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># initialCapacity: 10&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">#&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:CountsAndLists]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Counts and Lists provides the configuration for generic (player, room, session, etc.) tracking features.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Commented out since Alpha, and disabled by default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># counters: # counters are int64 counters that can be incremented and decremented by set amounts. Keys must be declared at GameServer creation time.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># games: # arbitrary key.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># count: 1 # initial value.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># capacity: 100 # (Optional) Defaults to 1000 and setting capacity to max(int64) may lead to issues and is not recommended. See GitHub issue https://github.com/googleforgames/agones/issues/3636 for more details.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># sessions:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># count: 1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># lists: # lists are lists of values stored against this GameServer that can be added and deleted from. Keys must be declared at GameServer creation time.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># players: # an empty list, with a capacity set to 10.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># capacity: 10 # capacity value, defaults to 1000.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># rooms:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># capacity: 333&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># values: # initial set of values in a list.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - room1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - room2&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - room3&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Pod template configuration&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># https://v1-27.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplate-v1-core&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># pod metadata. Name &amp;amp; Namespace is overwritten&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">myspeciallabel&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">myspecialvalue&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Pod Specification&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">us-docker.pkg.dev/codeblind/examples/simple-server:0.27&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">imagePullPolicy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># nodeSelector is a label that can be used to tell Kubernetes which host&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># OS to use. For Windows game servers uncomment the nodeSelector&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># definition below.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Details: https://kubernetes.io/docs/setup/production-environment/windows/user-guide-windows-containers/#ensuring-os-specific-workloads-land-on-the-appropriate-container-host&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># nodeSelector:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># kubernetes.io/os: windows&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Since Code Blind defines a new &lt;a href="https://kubernetes.io/docs/concepts/api-extension/custom-resources/">Custom Resources Definition (CRD)&lt;/a> we can define a new resource using the kind &lt;code>GameServer&lt;/code> with the custom group &lt;code>agones.dev&lt;/code> and API version &lt;code>v1&lt;/code>.&lt;/p>
&lt;p>You can use the metadata field to target a specific &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/">namespaces&lt;/a>
but also attach specific &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">annotations&lt;/a> and &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">labels&lt;/a> to your resource. This is a very common pattern in the Kubernetes ecosystem.&lt;/p>
&lt;p>The length of the &lt;code>name&lt;/code> field of the Gameserver should not exceed 63 characters.&lt;/p>
&lt;p>The &lt;code>spec&lt;/code> field is the actual GameServer specification and it is composed as follow:&lt;/p>
&lt;ul>
&lt;li>&lt;code>container&lt;/code> is the name of container running the GameServer in case you have more than one container defined in the &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/">pod&lt;/a>. If you do, this is a mandatory field. For instance this is useful if you want to run a sidecar to ship logs.&lt;/li>
&lt;li>&lt;code>ports&lt;/code> are an array of ports that can be exposed as direct connections to the game server container
&lt;ul>
&lt;li>&lt;code>name&lt;/code> is an optional descriptive name for a port&lt;/li>
&lt;li>&lt;code>portPolicy&lt;/code> has three options:
- &lt;code>Dynamic&lt;/code> (default) the system allocates a random free hostPort for the gameserver, for game clients to connect to.
- &lt;code>Static&lt;/code>, user defines the hostPort that the game client will connect to. Then onus is on the user to ensure that the port is available. When static is the policy specified, &lt;code>hostPort&lt;/code> is required to be populated.
- &lt;code>Passthrough&lt;/code> dynamically sets the &lt;code>containerPort&lt;/code> to the same value as the dynamically selected hostPort. This will mean that users will need to lookup what port to open through the server side SDK before starting communications.&lt;/li>
&lt;li>&lt;code>container&lt;/code> (Alpha) the name of the container to open the port on. Defaults to the game server container if omitted or empty.&lt;/li>
&lt;li>&lt;code>containerPort&lt;/code> the port that is being opened on the game server process, this is a required field for &lt;code>Dynamic&lt;/code> and &lt;code>Static&lt;/code> port policies, and should not be included in &lt;code>Passthrough&lt;/code> configuration.&lt;/li>
&lt;li>&lt;code>protocol&lt;/code> the protocol being used. Defaults to UDP. TCP and TCPUDP are other options.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>health&lt;/code> to track the overall healthy state of the GameServer, more information available in the &lt;a href="http://localhost:1313/docs/guides/health-checking/">health check documentation&lt;/a>.&lt;/li>
&lt;li>&lt;code>sdkServer&lt;/code> defines parameters for the game server sidecar
&lt;ul>
&lt;li>&lt;code>logging&lt;/code> field defines log level for SDK server. Defaults to &amp;ldquo;Info&amp;rdquo;. It has three options:
&lt;ul>
&lt;li>&amp;ldquo;Info&amp;rdquo; (default) The SDK server will output all messages except for debug messages&lt;/li>
&lt;li>&amp;ldquo;Debug&amp;rdquo; The SDK server will output all messages including debug messages&lt;/li>
&lt;li>&amp;ldquo;Error&amp;rdquo; The SDK server will only output error messages&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>grpcPort&lt;/code> the port that the SDK Server binds to for gRPC connections&lt;/li>
&lt;li>&lt;code>httpPort&lt;/code> the port that the SDK Server binds to for HTTP gRPC gateway connections&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>players&lt;/code> (Alpha, behind &amp;ldquo;PlayerTracking&amp;rdquo; feature gate), sets this GameServer&amp;rsquo;s initial player capacity&lt;/li>
&lt;li>&lt;code>counters&lt;/code> (Alpha, requires &amp;ldquo;CountsAndLists&amp;rdquo; feature flag) are int64 counters with a default capacity of 1000 that can be incremented and decremented by set amounts. Keys must be declared at GameServer creation time. Note that setting the capacity to max(int64) may lead to issues.&lt;/li>
&lt;li>&lt;code>lists&lt;/code> (Alpha, requires &amp;ldquo;CountsAndLists&amp;rdquo; feature flag) are lists of values stored against this GameServer that can be added and deleted from. Key must be declared at GameServer creation time.&lt;/li>
&lt;li>&lt;code>template&lt;/code> the &lt;a href="https://v1-27.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core">pod spec template&lt;/a> to run your GameServer containers, &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/#pod-templates">see&lt;/a> for more information.&lt;/li>
&lt;/ul>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
The GameServer resource does not support updates. If you need to make regular updates to the GameServer spec, consider using a &lt;a href="http://localhost:1313/docs/reference/fleet/">Fleet&lt;/a>.
&lt;/div>
&lt;h2 id="stable-network-id">Stable Network ID&lt;/h2>
&lt;p>If you want to connect to a &lt;code>GameServer&lt;/code> from within your Kubernetes cluster via a convention based
DNS entry, each Pod attached to a &lt;code>GameServer&lt;/code> automatically derives its hostname from the name of the &lt;code>GameServer&lt;/code>.&lt;/p>
&lt;p>To create internal DNS entries within the cluster, a group of &lt;code>Pods&lt;/code> attached to &lt;code>GameServers&lt;/code> can use a
&lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#headless-services">Headless Service&lt;/a> to control
the domain of the Pods, along with providing
a &lt;a href="https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/#pod-s-hostname-and-subdomain-fields">&lt;code>subdomain&lt;/code> value to the &lt;code>GameServer&lt;/code> &lt;code>PodTemplateSpec&lt;/code>&lt;/a>
to provide all the required details such that Kubernetes will create a DNS record for each Pod behind the Service.&lt;/p>
&lt;p>You are also responsible for setting the labels on the &lt;code>GameServer.Spec.Template.Metadata&lt;/code> to set the labels on the
created Pods and creating the Headless Service responsible for the network identity of the pods, Code Blind will not do
this for you, as a stable DNS record is not required for all use cases.&lt;/p>
&lt;p>To ensure that the &lt;code>hostName&lt;/code> value matches
&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#dns-label-names">RFC 1123&lt;/a>, any &lt;code>.&lt;/code> values
in the &lt;code>GameServer&lt;/code> name are replaced by &lt;code>-&lt;/code> when setting the underlying &lt;code>Pod.Spec.HostName&lt;/code> value.&lt;/p>
&lt;h2 id="gameserver-state-diagram">GameServer State Diagram&lt;/h2>
&lt;p>The following diagram shows the lifecycle of a &lt;code>GameServer&lt;/code>.&lt;/p>
&lt;p>Game Servers are created through Kubernetes API (either directly or through a &lt;a href="http://localhost:1313/docs/reference/fleet/">Fleet&lt;/a>) and their state transitions are orchestrated by:&lt;/p>
&lt;ul>
&lt;li>GameServer controller, which allocates ports, launches Pods backing game servers and manages their lifetime&lt;/li>
&lt;li>Allocation controller, which marks game servers as &lt;code>Allocated&lt;/code> to handle a game session&lt;/li>
&lt;li>SDK, which manages health checking and shutdown of a game server session&lt;/li>
&lt;/ul>
&lt;p>&lt;img alt="GameServer State Diagram" src="../../../diagrams/gameserver-states.dot.png">&lt;/p>
&lt;h2 id="primary-address-vs-addresses">Primary Address vs Addresses&lt;/h2>
&lt;p>&lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#agones.dev/v1.GameServerStatus">&lt;code>GameServer.Status&lt;/code>&lt;/a> has two fields which reflect the network address of the &lt;code>GameServer&lt;/code>: &lt;code>address&lt;/code> and &lt;code>addresses&lt;/code>.
The &lt;code>address&lt;/code> field is a policy-based choice of &amp;ldquo;primary address&amp;rdquo; that will work for many use cases,
and will always be one of the &lt;code>addresses&lt;/code>. The &lt;code>addresses&lt;/code> field contains every address in the &lt;a href="https://v1-26.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#nodeaddress-v1-core">&lt;code>Node.Status.addresses&lt;/code>&lt;/a>,
representing all known ways to reach the &lt;code>GameServer&lt;/code> over the network.&lt;/p>
&lt;p>To choose &lt;code>address&lt;/code> from &lt;code>addresses&lt;/code>, &lt;a href="https://github.com/googleforgames/agones/blob/a59c5394c7f5bac66e530d21446302581c10c225/pkg/gameservers/gameservers.go#L37-L71">Code Blind looks for the following address types&lt;/a>, in highest to lowest priorty:&lt;/p>
&lt;ul>
&lt;li>&lt;code>ExternalDNS&lt;/code>&lt;/li>
&lt;li>&lt;code>ExternalIP&lt;/code>&lt;/li>
&lt;li>&lt;code>InternalDNS&lt;/code>&lt;/li>
&lt;li>&lt;code>InternalIP&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>e.g. if any &lt;code>ExternalDNS&lt;/code> address is found in the respective &lt;code>Node&lt;/code>, it is used as the &lt;code>address&lt;/code>.&lt;/p>
&lt;p>The policy for &lt;code>address&lt;/code> will work for many use-cases, but for some advanced cases, such as IPv6 enablement, you may need
to evaluate all &lt;code>addresses&lt;/code> and pick the addresses that best suits your needs.&lt;/p></description></item><item><title>Docs: Quickstart: Create a Game Server</title><link>http://localhost:1313/docs/getting-started/create-gameserver/</link><pubDate>Wed, 02 Jan 2019 06:35:31 +0000</pubDate><guid>http://localhost:1313/docs/getting-started/create-gameserver/</guid><description>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;p>The following prerequisites are required to create a GameServer:&lt;/p>
&lt;ol>
&lt;li>A Kubernetes cluster with the UDP port range 7000-8000 open on each node.&lt;/li>
&lt;li>Code Blind controller installed in the targeted cluster&lt;/li>
&lt;li>kubectl properly configured&lt;/li>
&lt;li>Netcat which is already installed on most Linux/macOS distributions, for windows you can use &lt;a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">WSL&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>If you don’t have a Kubernetes cluster you can follow &lt;a href="http://localhost:1313/docs/installation/">these instructions&lt;/a> to create a cluster on Google Kubernetes Engine (GKE), Minikube or Azure Kubernetes Service (AKS), and install Code Blind.&lt;/p>
&lt;p>For the purpose of this guide we’re going to use the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/examples/simple-game-server/" target="_blank" data-proofer-ignore>simple-game-server&lt;/a>
example as the GameServer container. This example is a very simple UDP server written in Go. Don’t hesitate to look at the code of this example for more information.&lt;/p>
&lt;h2 id="objectives">Objectives&lt;/h2>
&lt;ul>
&lt;li>Create a GameServer in Kubernetes using Code Blind custom resource.&lt;/li>
&lt;li>Get information about the GameServer such as IP address, port and state.&lt;/li>
&lt;li>Connect to the GameServer.&lt;/li>
&lt;/ul>
&lt;h3 id="1-create-a-gameserver">1. Create a GameServer&lt;/h3>
&lt;p>Let&amp;rsquo;s create a GameServer using the following command :&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/gameserver.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see a successful output similar to this :&lt;/p>
&lt;pre tabindex="0">&lt;code>gameserver.agones.dev/simple-game-server-4ss4j created
&lt;/code>&lt;/pre>&lt;p>This has created a GameServer record inside Kubernetes, which has also created a backing &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/">Pod&lt;/a> to run our simple udp game server code in.
If you want to see all your running GameServers you can run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gameservers
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It should look something like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-7pjrq Ready 35.233.183.43 7190 agones 3m
&lt;/code>&lt;/pre>&lt;p>You can also see the &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/">Pod&lt;/a> that got created by running &lt;code>kubectl get pods&lt;/code>, the Pod will be prefixed by &lt;code>simple-game-server&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME READY STATUS RESTARTS AGE
simple-game-server-7pjrq 2/2 Running 0 5m
&lt;/code>&lt;/pre>&lt;p>As you can see above it says &lt;code>READY: 2/2&lt;/code> this means there are two containers running in this Pod, this is because Code Blind injected the &lt;a href="https://agones.dev/docs/guides/troubleshooting/#how-do-i-see-the-logs-for-agones">SDK sidecar&lt;/a> for readiness
and health checking of your Game Server.&lt;/p>
&lt;p>For the full details of the YAML file head to the &lt;a href="http://localhost:1313/docs/reference/gameserver/">GameServer Specification Guide&lt;/a>&lt;/p>
&lt;h3 id="2-fetch-the-gameserver-status">2. Fetch the GameServer Status&lt;/h3>
&lt;p>Let&amp;rsquo;s wait for the GameServer state to become &lt;code>Ready&lt;/code>. You can use the &lt;code>watch&lt;/code>
tool to see the state change. If your operating system does not have &lt;code>watch&lt;/code>,
manually run &lt;code>kubectl describe gameserver&lt;/code> until the state changes.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>watch kubectl describe gameserver
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>Name: simple-game-server-7pjrq
Namespace: default
Labels: &amp;lt;none&amp;gt;
Annotations: agones.dev/sdk-version: 0.9.0-764fa53
API Version: agones.dev/v1
Kind: GameServer
Metadata:
Creation Timestamp: 2019-02-27T15:06:20Z
Finalizers:
agones.dev
Generate Name: simple-game-server-
Generation: 1
Resource Version: 30377
Self Link: /apis/agones.dev/v1/namespaces/default/gameservers/simple-game-server-7pjrq
UID: 3d7ac3e1-3aa1-11e9-a4f5-42010a8a0019
Spec:
Container: simple-game-server
Health:
Failure Threshold: 3
Initial Delay Seconds: 5
Period Seconds: 5
Ports:
Container Port: 7654
Host Port: 7190
Name: default
Port Policy: Dynamic
Protocol: UDP
Scheduling: Packed
Template:
Metadata:
Creation Timestamp: &amp;lt;nil&amp;gt;
Spec:
Containers:
Image: us-docker.pkg.dev/codeblind/examples/simple-server:0.27
Name: simple-game-server
Resources:
Limits:
Cpu: 20m
Memory: 32Mi
Requests:
Cpu: 20m
Memory: 32Mi
Status:
Address: 35.233.183.43
Node Name: agones
Ports:
Name: default
Port: 7190
State: Ready
Events:
Type Reason Age From Message
---- ------ ---- ---- -------
Normal PortAllocation 34s gameserver-controller Port allocated
Normal Creating 34s gameserver-controller Pod simple-game-server-7pjrq created
Normal Scheduled 34s gameserver-controller Address and port populated
Normal Ready 27s gameserver-controller SDK.Ready() executed
&lt;/code>&lt;/pre>&lt;p>If you look towards the bottom, you can see there is a &lt;code>Status &amp;gt; State&lt;/code> value. We are waiting for it to move to &lt;code>Ready&lt;/code>, which means that the game server is ready to accept connections.&lt;/p>
&lt;p>You might also be interested to see the &lt;code>Events&lt;/code> section, which outlines when various lifecycle events of the &lt;code>GameServer&lt;/code> occur. We can also see when the &lt;code>GameServer&lt;/code> is ready on the event stream as well - at which time the &lt;code>Status &amp;gt; Address&lt;/code> and &lt;code>Status &amp;gt; Ports &amp;gt; Port&lt;/code> have also been populated, letting us know what IP and port our client can now connect to!&lt;/p>
&lt;p>Let&amp;rsquo;s retrieve the IP address and the allocated port of your Game Server :&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This should output your Game Server IP address and ports, eg:&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-7pjrq Ready 35.233.183.43 7190 agones 4m
&lt;/code>&lt;/pre>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
If you have Code Blind installed on minikube, or other local Kubernetes tooling, and you are having issues connecting
to the &lt;code>GameServer&lt;/code>, please check the
&lt;a href="http://localhost:1313/docs/installation/creating-cluster/minikube/#local-connection-workarounds">Minikube local connection workarounds&lt;/a>.
&lt;/div>
&lt;h3 id="3-connect-to-the-gameserver">3. Connect to the GameServer&lt;/h3>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
If you have Code Blind installed on Google Kubernetes Engine, and are using
Cloud Shell for your terminal, UDP is blocked. For this step, we recommend
SSH&amp;rsquo;ing into a running VM in your project, such as a Kubernetes node.
You can click the &amp;lsquo;SSH&amp;rsquo; button on the &lt;a href="https://console.cloud.google.com/compute/instances">Google Compute Engine Instances&lt;/a>
page to do this.
Run &lt;code>toolbox&lt;/code> on GKE Node to run docker container with tools and then &lt;code>nc&lt;/code> command would be available.
&lt;/div>
&lt;p>You can now communicate with the Game Server :&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>If you do not have netcat installed
(i.e. you get a response of &lt;code>nc: command not found&lt;/code>),
you can install netcat by running &lt;code>sudo apt install netcat&lt;/code>.&lt;/p>
&lt;p>If you are on Windows, you can alternatively install netcat on
&lt;a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">WSL&lt;/a>,
or download a version of netcat for Windows from &lt;a href="https://nmap.org/ncat/">nmap.org&lt;/a>.&lt;/p>
&lt;/div>
&lt;pre tabindex="0">&lt;code>nc -u {IP} {PORT}
Hello World !
ACK: Hello World !
EXIT
&lt;/code>&lt;/pre>&lt;p>You can finally type &lt;code>EXIT&lt;/code> which tells the SDK to run the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#shutdown">Shutdown command&lt;/a>, and therefore shuts down the &lt;code>GameServer&lt;/code>.&lt;/p>
&lt;p>If you run &lt;code>kubectl describe gameserver&lt;/code> again - either the GameServer will be gone completely, or it will be in &lt;code>Shutdown&lt;/code> state, on the way to being deleted.&lt;/p>
&lt;h2 id="next-step">Next Step&lt;/h2>
&lt;p>If you want to use your own GameServer container make sure you have properly integrated the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Code Blind SDK&lt;/a>.&lt;/p></description></item><item><title>Docs: Google Kubernetes Engine</title><link>http://localhost:1313/docs/installation/creating-cluster/gke/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/creating-cluster/gke/</guid><description>
&lt;h2 id="before-you-begin">Before you begin&lt;/h2>
&lt;p>Take the following steps to enable the Kubernetes Engine API:&lt;/p>
&lt;ol>
&lt;li>Visit the &lt;a href="https://console.cloud.google.com/kubernetes/list">Kubernetes Engine&lt;/a> page in the Google Cloud Platform Console.&lt;/li>
&lt;li>Create or select a project.&lt;/li>
&lt;li>Wait for the API and related services to be enabled. This can take several minutes.&lt;/li>
&lt;li>&lt;a href="https://support.google.com/cloud/answer/6293499#enable-billing">Enable billing&lt;/a> for your project.&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>If you are not an existing GCP user, you may be able to enroll for a $300 US &lt;a href="https://cloud.google.com/free/">Free Trial&lt;/a> credit.&lt;/li>
&lt;/ul>
&lt;h3 id="choosing-a-shell">Choosing a shell&lt;/h3>
&lt;p>To complete this quickstart, we can use either &lt;a href="https://cloud.google.com/shell/">Google Cloud Shell&lt;/a> or a local shell.&lt;/p>
&lt;p>Google Cloud Shell is a shell environment for managing resources hosted on Google Cloud Platform (GCP). Cloud Shell comes preinstalled with the &lt;a href="https://cloud.google.com/sdk/gcloud/">&lt;code>gcloud&lt;/code>&lt;/a> and &lt;a href="https://kubernetes.io/docs/reference/kubectl/">&lt;code>kubectl&lt;/code>&lt;/a> command-line tools. &lt;code>gcloud&lt;/code> provides the primary command-line interface for GCP, and &lt;code>kubectl&lt;/code> provides the command-line interface for running commands against Kubernetes clusters.&lt;/p>
&lt;p>If you prefer using your local shell, you must install the &lt;code>gcloud&lt;/code> and &lt;code>kubectl&lt;/code> command-line tools in your environment.&lt;/p>
&lt;h4 id="cloud-shell">Cloud shell&lt;/h4>
&lt;p>To launch Cloud Shell, perform the following steps:&lt;/p>
&lt;ol>
&lt;li>Go to &lt;a href="https://console.cloud.google.com/home/dashboard">Google Cloud Platform Console&lt;/a>&lt;/li>
&lt;li>From the top-right corner of the console, click the
&lt;strong>Activate Google Cloud Shell&lt;/strong> button: &lt;img alt="cloud shell" src="../../../../images/cloud-shell.png">&lt;/li>
&lt;li>A Cloud Shell session opens inside a frame at the bottom of the console. Use this shell to run &lt;code>gcloud&lt;/code> and &lt;code>kubectl&lt;/code> commands.&lt;/li>
&lt;/ol>
&lt;h4 id="local-shell">Local shell&lt;/h4>
&lt;p>To install &lt;code>gcloud&lt;/code> and &lt;code>kubectl&lt;/code>, perform the following steps:&lt;/p>
&lt;ol>
&lt;li>&lt;a href="https://cloud.google.com/sdk/docs/quickstarts">Install the Google Cloud SDK&lt;/a>, which includes the &lt;code>gcloud&lt;/code> command-line tool.&lt;/li>
&lt;li>Initialize some default configuration by running the following command.
&lt;ul>
&lt;li>When asked &lt;code>Do you want to configure a default Compute Region and Zone? (Y/n)?&lt;/code>, enter &lt;code>Y&lt;/code> and choose a zone in your geographical region of choice.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Install the &lt;code>kubectl&lt;/code> command-line tool by running the following command:
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud components install kubectl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="choosing-a-regional-or-zonal-cluster">Choosing a Regional or Zonal Cluster&lt;/h3>
&lt;p>You will need to pick a geographical region or zone where you want to deploy your cluster, and whether to
create a &lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/types-of-clusters">regional or zonal cluster&lt;/a>.
We recommend using a Regional cluster, as the zonal GKE control plane can go down temporarily to adjust for cluster resizing,
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/cluster-upgrades">automatic upgrades&lt;/a> and
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/maintenance-windows-and-exclusions#repairs">repairs&lt;/a>.&lt;/p>
&lt;p>After choosing a cluster type, &lt;a href="https://cloud.google.com/compute/docs/regions-zones/#available">choose a region or zone&lt;/a>. The region you chose is &lt;code>COMPUTE_REGION&lt;/code> below.
(Note that if you chose a zone, replace &lt;code>--region=[COMPUTE_REGION]&lt;/code> with &lt;code>--zone=[COMPUTE_ZONE]&lt;/code> in commands below.)&lt;/p>
&lt;h3 id="choosing-a-release-channel-and-optional-version">Choosing a Release Channel and Optional Version&lt;/h3>
&lt;p>We recommend using the &lt;code>regular&lt;/code> release channel, which offers a balance between stability and freshness.
If you&amp;rsquo;d like to read more, see our guide on &lt;a href="http://localhost:1313/docs/guides/best-practices/gke/#release-channels">Release Channels&lt;/a>.
The release channel you chose is &lt;code>RELEASE_CHANNEL&lt;/code> below.&lt;/p>
&lt;p>(Optional) During cluster creation, to set a specific available version in the release channel, use the &lt;code>--cluster-version=[VERSION]&lt;/code> flag, e.g. &lt;code>--cluster-version=1.27&lt;/code>. Be sure to choose a &lt;a href="http://localhost:1313/docs/installation/#usage-requirements">version supported by Code Blind&lt;/a>. (If you rely on release channels, the latest Code Blind release &lt;a href="http://localhost:1313/docs/installation/#agones-and-kubernetes-supported-versions">should be supported&lt;/a> by the default versions of all channels.)&lt;/p>
&lt;h3 id="choosing-a-gke-cluster-mode">Choosing a GKE cluster mode&lt;/h3>
&lt;p>A &lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/cluster-architecture">cluster&lt;/a> consists of at least one &lt;em>control plane&lt;/em> machine and multiple worker machines called &lt;em>nodes&lt;/em>. In Google Kubernetes Engine, nodes are &lt;a href="https://cloud.google.com/compute/docs/instances/">Compute Engine virtual machine&lt;/a> instances that run the Kubernetes processes necessary to make them part of the cluster.&lt;/p>
&lt;p>Code Blind supports both GKE Standard mode and GKE Autopilot mode.
Code Blind &lt;code>GameServer&lt;/code> and &lt;code>Fleet&lt;/code> manifests that work on Standard are compatible
on Autopilot with some constraints, described in the following section. We recommend
running GKE Autopilot clusters, if you meet the constraints.&lt;/p>
&lt;p>You can&amp;rsquo;t convert existing Standard clusters to Autopilot; create new Autopilot
clusters instead.&lt;/p>
&lt;h4 id="code-blind-on-gke-autopilot">Code Blind on GKE Autopilot&lt;/h4>
&lt;p>Autopilot is GKE&amp;rsquo;s fully-managed mode. GKE configures, maintains, scales, and
upgrades nodes for you, which can reduce your maintenance and operating
overhead. You only pay for the resources requested by your running Pods, and
you don&amp;rsquo;t pay for unused node capacity or Kubernetes system workloads.&lt;/p>
&lt;p>This section describes the Code Blind-specific considerations in Autopilot
clusters. For a general comparison between Autopilot and Standard, refer to
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/choose-cluster-mode">Choose a GKE mode of operation&lt;/a>.&lt;/p>
&lt;p>Autopilot nodes are, by default, optimized for most workloads. If some of your
workloads have broad compute requirements such as Arm architecture or a minimum
CPU platform, you can also choose a
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/autopilot-compute-classes">compute class&lt;/a>
that meets that requirement. However, if you have specialized hardware needs
that require fine-grained control over machine configuration, consider using
GKE Standard.&lt;/p>
&lt;p>Code Blind on Autopilot has pre-configured opinionated constraints. Evaluate
whether these constraints impact your workloads:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Operating system:&lt;/strong> No Windows containers.&lt;/li>
&lt;li>&lt;strong>Resource requests:&lt;/strong> Autopilot has pre-determined
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/autopilot-resource-requests#min-max-requests">minimum Pod resource requests&lt;/a>.
If your game servers require less than those minimums, use GKE Standard.&lt;/li>
&lt;li>&lt;strong>&lt;a href="http://localhost:1313/docs/advanced/scheduling-and-autoscaling/#fleet-scheduling">Scheduling strategy&lt;/a>:&lt;/strong>
&lt;code>Packed&lt;/code> is supported, which is the Code Blind default. &lt;code>Distributed&lt;/code> is not
supported.&lt;/li>
&lt;li>&lt;strong>&lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#agones.dev/v1.GameServerPort">Host port policy&lt;/a>:&lt;/strong> &lt;code>Dynamic&lt;/code> is supported, which is the Code Blind default.
&lt;code>Static&lt;/code> and &lt;code>Passthrough&lt;/code> are not supported.&lt;/li>
&lt;li>&lt;strong>Seccomp profile:&lt;/strong> Code Blind sets the seccomp profile to &lt;code>Unconfined&lt;/code> to
avoid unexpected container creation delays that might occur because
Autopilot enables the
&lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/seccomp-in-gke">&lt;code>RuntimeDefault&lt;/code> seccomp profile&lt;/a>.&lt;/li>
&lt;li>&lt;strong>&lt;a href="http://localhost:1313/docs/advanced/controlling-disruption/#eviction-api">Pod disruption policy&lt;/a>:&lt;/strong>
&lt;code>eviction.safe: Never&lt;/code> is supported, which is the Code Blind
default. &lt;code>eviction.safe: Always&lt;/code> is supported. &lt;code>eviction.safe: OnUpgrade&lt;/code> is
not supported. If your game sessions exceed one hour, refer to
&lt;a href="http://localhost:1313/docs/advanced/controlling-disruption/#considerations-for-long-sessions">Considerations for long sessions&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h3 id="choosing-a-gcp-network">Choosing a GCP network&lt;/h3>
&lt;p>By default, &lt;code>gcloud&lt;/code> and the Cloud Console use the VPC named &lt;code>default&lt;/code> for all new resources. If you
plan to create a &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/alias-ips#dual-stack">dual-stack IPv4/IPv6 cluster&lt;/a> cluster, special considerations need to
be made. Dual-stack clusters require a &lt;a href="https://cloud.google.com/vpc/docs/subnets#subnet-types">dual-stack subnet&lt;/a>, which are only supported in
&lt;a href="https://cloud.google.com/vpc/docs/vpc#subnet-ranges">&lt;em>custom mode&lt;/em>&lt;/a> VPC networks. For a new dual-stack cluster, you can either:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>create a new &lt;em>custom mode&lt;/em> VPC,&lt;/p>
&lt;/li>
&lt;li>
&lt;p>or if you wish to continue using the &lt;code>default&lt;/code> network, you must &lt;a href="https://cloud.google.com/vpc/docs/create-modify-vpc-networks#switch-network-mode">switch it to &lt;em>custom mode&lt;/em>&lt;/a>.
After switching a network to custom mode, you will need to manually manage subnets within the &lt;code>default&lt;/code> VPC.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Once you have a &lt;em>custom mode&lt;/em> VPC, you will need to choose whether to use an existing subnet or create a
new one - read &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/alias-ips#dual-stack">VPC-native guide on creating a dual-stack cluster&lt;/a>, but don&amp;rsquo;t create the cluster
just yet - we&amp;rsquo;ll create the cluster later in this guide. To use the network and/or subnetwork you just created,
you&amp;rsquo;ll need to add &lt;code>--network&lt;/code> and &lt;code>--subnetwork&lt;/code>, and for GKE Standard, possibly &lt;code>--stack-type&lt;/code> and
&lt;code>--ipv6-access-type&lt;/code>, depending on whether you created the subnet simultaneously with the cluster.&lt;/p>
&lt;h2 id="creating-the-firewall">Creating the firewall&lt;/h2>
&lt;p>We need a firewall to allow UDP traffic to nodes tagged as &lt;code>game-server&lt;/code> via ports 7000-8000. These firewall rules apply to cluster nodes you will create in the
next section.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud compute firewall-rules create game-server-firewall &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --allow udp:7000-8000 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --target-tags game-server &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --description &lt;span style="color:#4e9a06">&amp;#34;Firewall to allow game server udp traffic&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="creating-the-cluster">Creating the cluster&lt;/h2>
&lt;p>Create a GKE cluster in which you&amp;rsquo;ll install Code Blind. You can use
&lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#create-a-standard-mode-cluster-for-agones">GKE Standard mode&lt;/a>
or &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#create-an-autopilot-mode-cluster-for-agones">GKE Autopilot mode&lt;/a>.&lt;/p>
&lt;h3 id="create-a-standard-mode-cluster-for-code-blind">Create a Standard mode cluster for Code Blind&lt;/h3>
&lt;p>Create the cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container clusters create &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --release-channel&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>RELEASE_CHANNEL&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --tags&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>game-server &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --scopes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>gke-default &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --num-nodes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --enable-image-streaming &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --machine-type&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>e2-standard-4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of the cluster you want to create&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: The GCP region to create the cluster in, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">chosen above&lt;/a>&lt;/li>
&lt;li>&lt;code>[RELEASE_CHANNEL]&lt;/code>: The GKE release channel, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-release-channel-and-optional-version">chosen above&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--release-channel&lt;/code>: The release channel &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-release-channel-and-optional-version">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--tags&lt;/code>: Defines the tags that will be attached to new nodes in the cluster. This is to grant access through ports via the &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#creating-the-firewall">firewall created above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--scopes&lt;/code>: Defines the Oauth scopes required by the nodes.&lt;/li>
&lt;li>&lt;code>--num-nodes&lt;/code>: The number of nodes to be created in each of the cluster&amp;rsquo;s zones. Default: 4. Depending on the needs of your game, this parameter should be adjusted.&lt;/li>
&lt;li>&lt;code>--enable-image-streaming&lt;/code>: Use &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/image-streaming">Image streaming&lt;/a> to pull container images, which leads to significant improvements in initialization times. &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/image-streaming#limitations">Limitations&lt;/a> apply to enable this feature.&lt;/li>
&lt;li>&lt;code>--machine-type&lt;/code>: The type of machine to use for nodes. Default: &lt;code>e2-standard-4&lt;/code>. Depending on the needs of your game, you may wish to &lt;a href="https://cloud.google.com/compute/docs/machine-types">have smaller or larger machines&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h4 id="optional-creating-a-dedicated-node-pool">(Optional) Creating a dedicated node pool&lt;/h4>
&lt;p>Create a &lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/node-pools">dedicated node pool&lt;/a>
for the Code Blind resources to be installed in. If you skip this step, the Code Blind controllers will
share the default node pool with your game servers, which is fine for experimentation but not
recommended for a production deployment.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container node-pools create agones-system &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --cluster&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-taints agones.dev/agones-system&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>true:NoExecute &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-labels agones.dev/agones-system&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --num-nodes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --machine-type&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>e2-standard-4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of the cluster you created&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: The GCP region to create the cluster in, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">chosen above&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--cluster&lt;/code>: The name of the cluster you created.&lt;/li>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--node-taints&lt;/code>: The Kubernetes taints to automatically apply to nodes in this node pool.&lt;/li>
&lt;li>&lt;code>--node-labels&lt;/code>: The Kubernetes labels to automatically apply to nodes in this node pool.&lt;/li>
&lt;li>&lt;code>--num-nodes&lt;/code>: The number of nodes per cluster zone. For regional clusters, &lt;code>--num-nodes=1&lt;/code> creates one node in 3 separate zones in the region, giving you faster recovery time in the event of a node failure.&lt;/li>
&lt;li>&lt;code>--machine-type&lt;/code>: The type of machine to use for nodes. Default: &lt;code>e2-standard-4&lt;/code>. Depending on the needs of your game, you may wish to &lt;a href="https://cloud.google.com/compute/docs/machine-types">have smaller or larger machines&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h4 id="optional-creating-a-metrics-node-pool">(Optional) Creating a metrics node pool&lt;/h4>
&lt;p>Create a node pool for &lt;a href="http://localhost:1313/docs/guides/metrics/">Metrics&lt;/a> if you want to monitor the
Code Blind system using Prometheus with Grafana or Cloud Logging and Monitoring.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container node-pools create agones-metrics &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --cluster&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-taints agones.dev/agones-metrics&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>true:NoExecute &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-labels agones.dev/agones-metrics&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --num-nodes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --machine-type&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>e2-standard-4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of the cluster you created&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: The GCP region to create the cluster in, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">chosen above&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--cluster&lt;/code>: The name of the cluster you created.&lt;/li>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--node-taints&lt;/code>: The Kubernetes taints to automatically apply to nodes in this node pool.&lt;/li>
&lt;li>&lt;code>--node-labels&lt;/code>: The Kubernetes labels to automatically apply to nodes in this node pool.&lt;/li>
&lt;li>&lt;code>--num-nodes&lt;/code>: The number of nodes per cluster zone. For regional clusters, &lt;code>--num-nodes=1&lt;/code> creates one node in 3 separate zones in the region, giving you faster recovery time in the event of a node failure.&lt;/li>
&lt;li>&lt;code>--machine-type&lt;/code>: The type of machine to use for nodes. Default: &lt;code>e2-standard-4&lt;/code>. Depending on the needs of your game, you may wish to &lt;a href="https://cloud.google.com/compute/docs/machine-types">have smaller or larger machines&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h4 id="optional-creating-a-node-pool-for-windows">(Optional) Creating a node pool for Windows&lt;/h4>
&lt;p>If you run game servers on Windows, you
need to create a dedicated node pool for those servers. Windows Server 2019 (&lt;code>WINDOWS_LTSC_CONTAINERD&lt;/code>) is the recommended image for Windows
game servers.&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
Running &lt;code>GameServers&lt;/code> on Windows nodes is currently Alpha. Feel free to file feedback
through &lt;a href="https://github.com/googleforgames/agones/issues">Github issues&lt;/a>.
&lt;/div>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container node-pools create windows &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --cluster&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --image-type WINDOWS_LTSC_CONTAINERD &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --machine-type e2-standard-4 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --num-nodes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of the cluster you created&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: The GCP region to create the cluster in, &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">chosen above&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--cluster&lt;/code>: The name of the cluster you created.&lt;/li>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--image-type&lt;/code>: The image type of the instances in the node pool - &lt;code>WINDOWS_LTSC_CONTAINERD&lt;/code> in this case.&lt;/li>
&lt;li>&lt;code>--machine-type&lt;/code>: The type of machine to use for nodes. Default: &lt;code>e2-standard-4&lt;/code>. Depending on the needs of your game, you may wish to &lt;a href="https://cloud.google.com/compute/docs/machine-types">have smaller or larger machines&lt;/a>.&lt;/li>
&lt;li>&lt;code>--num-nodes&lt;/code>: The number of nodes per cluster zone. For regional clusters, &lt;code>--num-nodes=1&lt;/code> creates one node in 3 separate zones in the region, giving you faster recovery time in the event of a node failure.&lt;/li>
&lt;/ul>
&lt;h3 id="create-an-autopilot-mode-cluster-for-code-blind">Create an Autopilot mode cluster for Code Blind&lt;/h3>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
These installation instructions apply to Code Blind 1.30+
&lt;/div>
&lt;ol>
&lt;li>
&lt;p>Choose a &lt;a href="http://localhost:1313/docs/guides/best-practices/gke/#release-channels">Release Channel&lt;/a> (Autopilot clusters must be on a Release Channel).&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Create the cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container clusters create-auto &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --release-channel&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>RELEASE_CHANNEL&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --autoprovisioning-network-tags&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>game-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>Replace the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>[CLUSTER_NAME]&lt;/code>: The name of your cluster.&lt;/li>
&lt;li>&lt;code>[COMPUTE_REGION]&lt;/code>: the GCP region to create the cluster in.&lt;/li>
&lt;li>&lt;code>[RELEASE_CHANNEL]&lt;/code>: one of &lt;code>rapid&lt;/code>, &lt;code>regular&lt;/code>, or &lt;code>stable&lt;/code>, chosen &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-release-channel-and-optional-version">above&lt;/a>. The default is &lt;code>regular&lt;/code>.&lt;/li>
&lt;/ul>
&lt;p>Flag explanations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>--region&lt;/code>: The compute region &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-gke-cluster-mode">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--release-channel&lt;/code>: The release channel &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#choosing-a-release-channel-and-optional-version">you chose above&lt;/a>.&lt;/li>
&lt;li>&lt;code>--autoprovisioning-network-tags&lt;/code>: Defines the tags that will be attached to new nodes in the cluster. This is to grant access through ports via the &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/#creating-the-firewall">firewall created above&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h2 id="setting-up-cluster-credentials">Setting up cluster credentials&lt;/h2>
&lt;p>&lt;code>gcloud container clusters create&lt;/code> configurates credentials for &lt;code>kubectl&lt;/code> automatically. If you ever lose those, run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container clusters get-credentials &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>CLUSTER_NAME&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --region&lt;span style="color:#ce5c00;font-weight:bold">=[&lt;/span>COMPUTE_REGION&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Continue to &lt;a href="http://localhost:1313/docs/installation/install-agones/">Install Code Blind&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Installing Code Blind on Google Kubernetes Engine using Terraform</title><link>http://localhost:1313/docs/installation/terraform/gke/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/terraform/gke/</guid><description>
&lt;h2 id="before-you-begin">Before you begin&lt;/h2>
&lt;p>Take the following steps to enable the Kubernetes Engine API:&lt;/p>
&lt;ol>
&lt;li>Visit the &lt;a href="https://console.cloud.google.com/kubernetes/list">Kubernetes Engine&lt;/a> page in the Google Cloud Platform Console.&lt;/li>
&lt;li>Create or select a project.&lt;/li>
&lt;li>Wait for the API and related services to be enabled. This can take several minutes.&lt;/li>
&lt;li>&lt;a href="https://support.google.com/cloud/answer/6293499#enable-billing">Enable billing&lt;/a> for your project.&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>If you are not an existing GCP user, you may be able to enroll for a $300 US &lt;a href="https://cloud.google.com/free/">Free Trial&lt;/a> credit.&lt;/li>
&lt;/ul>
&lt;h3 id="choosing-a-shell">Choosing a shell&lt;/h3>
&lt;p>To complete this quickstart, we can use either &lt;a href="https://cloud.google.com/shell/">Google Cloud Shell&lt;/a> or a local shell.&lt;/p>
&lt;p>Google Cloud Shell is a shell environment for managing resources hosted on Google Cloud Platform (GCP). Cloud Shell comes preinstalled with the &lt;a href="https://cloud.google.com/sdk/gcloud/">gcloud&lt;/a> and &lt;a href="https://kubernetes.io/docs/reference/kubectl/">kubectl&lt;/a> command-line tools. &lt;code>gcloud&lt;/code> provides the primary command-line interface for GCP, and &lt;code>kubectl&lt;/code> provides the command-line interface for running commands against Kubernetes clusters.&lt;/p>
&lt;p>If you prefer using your local shell, you must install the gcloud and kubectl command-line tools in your environment.&lt;/p>
&lt;h4 id="cloud-shell">Cloud shell&lt;/h4>
&lt;p>To launch Cloud Shell, perform the following steps:&lt;/p>
&lt;ol>
&lt;li>Go to &lt;a href="https://console.cloud.google.com/home/dashboard">Google Cloud Platform Console&lt;/a>&lt;/li>
&lt;li>From the top-right corner of the console, click the
&lt;strong>Activate Google Cloud Shell&lt;/strong> button: &lt;img alt="cloud shell" src="../../../../images/cloud-shell.png">&lt;/li>
&lt;li>A Cloud Shell session opens inside a frame at the bottom of the console. Use this shell to run &lt;code>gcloud&lt;/code> and &lt;code>kubectl&lt;/code> commands.&lt;/li>
&lt;li>Set a compute zone in your geographical region with the following command. The compute zone will be something like &lt;code>us-west1-a&lt;/code>. A full list can be found &lt;a href="https://cloud.google.com/compute/docs/regions-zones/#available">here&lt;/a>.
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud config &lt;span style="color:#204a87">set&lt;/span> compute/zone &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>COMPUTE_ZONE&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="local-shell">Local shell&lt;/h4>
&lt;p>To install &lt;code>gcloud&lt;/code> and &lt;code>kubectl&lt;/code>, perform the following steps:&lt;/p>
&lt;ol>
&lt;li>&lt;a href="https://cloud.google.com/sdk/docs/quickstarts">Install the Google Cloud SDK&lt;/a>, which includes the &lt;code>gcloud&lt;/code> command-line tool.&lt;/li>
&lt;li>Initialize some default configuration by running the following command.
&lt;ul>
&lt;li>When asked &lt;code>Do you want to configure a default Compute Region and Zone? (Y/n)?&lt;/code>, enter &lt;code>Y&lt;/code> and choose a zone in your geographical region of choice.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>Install the &lt;code>kubectl&lt;/code> command-line tool by running the following command:
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud components install kubectl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;p>An example configuration can be found here:
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>Terraform configuration with Code Blind submodule&lt;/a>.&lt;/p>
&lt;p>Copy this file into a local directory where you will execute the terraform commands.&lt;/p>
&lt;p>The GKE cluster created from the example configuration will contain 3 Node Pools:&lt;/p>
&lt;ul>
&lt;li>&lt;code>&amp;quot;default&amp;quot;&lt;/code> node pool with &lt;code>&amp;quot;game-server&amp;quot;&lt;/code> tag, containing 4 nodes.&lt;/li>
&lt;li>&lt;code>&amp;quot;agones-system&amp;quot;&lt;/code> node pool for Code Blind Controller.&lt;/li>
&lt;li>&lt;code>&amp;quot;agones-metrics&amp;quot;&lt;/code> for monitoring and metrics collecting purpose.&lt;/li>
&lt;/ul>
&lt;p>Configurable parameters:&lt;/p>
&lt;ul>
&lt;li>project - your Google Cloud Project ID (required)&lt;/li>
&lt;li>name - the name of the GKE cluster (default is &amp;ldquo;agones-terraform-example&amp;rdquo;)&lt;/li>
&lt;li>agones_version - the version of agones to install (an empty string, which is the default, is the latest version from the &lt;a href="https://agones.dev/chart/stable">Helm repository&lt;/a>)&lt;/li>
&lt;li>machine_type - machine type for hosting game servers (default is &amp;ldquo;e2-standard-4&amp;rdquo;)&lt;/li>
&lt;li>node_count - count of game server nodes for the default node pool (default is &amp;ldquo;4&amp;rdquo;)&lt;/li>
&lt;li>enable_image_streaming - whether or not to enable image streaming for the &lt;code>&amp;quot;default&amp;quot;&lt;/code> node pool (default is true)&lt;/li>
&lt;li>zone - (Deprecated, use location) the name of the &lt;a href="https://cloud.google.com/compute/docs/regions-zones">zone&lt;/a> you want your cluster to be
created in (default is &amp;ldquo;us-west1-c&amp;rdquo;)&lt;/li>
&lt;li>network - the name of the VPC network you want your cluster and firewall rules to be connected to (default is &amp;ldquo;default&amp;rdquo;)&lt;/li>
&lt;li>subnetwork - the name of the subnetwork in which the cluster&amp;rsquo;s instances are launched. (required when using non default network)&lt;/li>
&lt;li>log_level - possible values: Fatal, Error, Warn, Info, Debug (default is &amp;ldquo;info&amp;rdquo;)&lt;/li>
&lt;li>feature_gates - a list of alpha and beta version features to enable. For example, &amp;ldquo;PlayerTracking=true&amp;amp;ContainerPortAllocation=true&amp;rdquo;&lt;/li>
&lt;li>gameserver_minPort - the lower bound of the port range which gameservers will listen on (default is &amp;ldquo;7000&amp;rdquo;)&lt;/li>
&lt;li>gameserver_maxPort - the upper bound of the port range which gameservers will listen on (default is &amp;ldquo;8000&amp;rdquo;)&lt;/li>
&lt;li>gameserver_namespaces - a list of namespaces which will be used to run gameservers (default is &lt;code>[&amp;quot;default&amp;quot;]&lt;/code>). For example &lt;code>[&amp;quot;default&amp;quot;, &amp;quot;xbox-gameservers&amp;quot;, &amp;quot;mobile-gameservers&amp;quot;]&lt;/code>&lt;/li>
&lt;li>force_update - whether or not to force the replacement/update of resource (default is true, false may be required to prevent immutability errors when updating the configuration)&lt;/li>
&lt;li>location - the name of the &lt;a href="https://cloud.google.com/compute/docs/regions-zones">location&lt;/a> you want your cluster to be created in (default is &amp;ldquo;us-west1-c&amp;rdquo;)&lt;/li>
&lt;li>autoscale - whether you want to enable autoscale for the gameserver nodepool (default is false)&lt;/li>
&lt;li>min_node_count - the minimum number of nodes for a nodepool when autoscale is enabled (default is &amp;ldquo;1&amp;rdquo;)&lt;/li>
&lt;li>max_node_count - the maximum number of nodes for a nodepool when autoscale is enabled (default is &amp;ldquo;5&amp;rdquo;)&lt;/li>
&lt;/ul>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>On the lines that read &lt;code>source = &amp;quot;git::https://github.com/googleforgames/agones.git//install/terraform/modules/gke/?ref=main&amp;quot;&lt;/code>
make sure to change &lt;code>?ref=main&lt;/code> to match your targeted Code Blind release, as Terraform modules can change between
releases.&lt;/p>
&lt;p>For example, if you are targeting release-1.38.0, then you will want to have
&lt;code>source = &amp;quot;git::https://github.com/googleforgames/agones.git//install/terraform/modules/gke/?ref=release-1.38.0&amp;quot;&lt;/code>
as your source.&lt;/p>
&lt;/div>
&lt;h3 id="creating-the-cluster">Creating the cluster&lt;/h3>
&lt;p>In the directory where you created &lt;code>module.tf&lt;/code>, run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will cause terraform to clone the Code Blind repository and use the &lt;code>./install/terraform&lt;/code> folder as the starting point of
the Code Blind submodule, which contains all necessary Terraform configuration files.&lt;/p>
&lt;p>Next, make sure that you can authenticate using gcloud:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud auth application-default login
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="option-1-creating-the-cluster-in-the-default-vpc">Option 1: Creating the cluster in the default VPC&lt;/h4>
&lt;p>To create your GKE cluster in the default VPC just specify the project variable.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform apply -var &lt;span style="color:#000">project&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;lt;YOUR_GCP_ProjectID&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="option-2-creating-the-cluster-in-a-custom-vpc">Option 2: Creating the cluster in a custom VPC&lt;/h4>
&lt;p>To create the cluster in a custom VPC you must specify the project, network and subnetwork variables.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform apply -var &lt;span style="color:#000">project&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;lt;YOUR_GCP_ProjectID&amp;gt;&amp;#34;&lt;/span> -var &lt;span style="color:#000">network&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;lt;YOUR_NETWORK_NAME&amp;gt;&amp;#34;&lt;/span> -var &lt;span style="color:#000">subnetwork&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;lt;YOUR_SUBNETWORK_NAME&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To verify that the cluster was created successfully, set up your kubectl credentials:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container clusters get-credentials --zone us-west1-c agones-terraform-example
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Then check that you have access to the Kubernetes cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get nodes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should have 6 nodes in &lt;code>Ready&lt;/code> state.&lt;/p>
&lt;h3 id="uninstall-the-code-blind-and-delete-gke-cluster">Uninstall the Code Blind and delete GKE cluster&lt;/h3>
&lt;p>To delete all resources provisioned by Terraform:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform destroy -var &lt;span style="color:#000">project&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;lt;YOUR_GCP_ProjectID&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="http://localhost:1313/docs/installation/confirm/">Confirm Code Blind is up and running&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Install Code Blind using YAML</title><link>http://localhost:1313/docs/installation/install-agones/yaml/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/install-agones/yaml/</guid><description>
&lt;h2 id="installing-code-blind">Installing Code Blind&lt;/h2>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>Installing Code Blind with the &lt;code>install.yaml&lt;/code> file will use pre-generated, well known TLS
certificates stored in this repository for securing Kubernetes webhooks communication.&lt;/p>
&lt;p>For production workloads, we &lt;strong>strongly&lt;/strong> recommend using the
&lt;a href="http://localhost:1313/docs/installation/install-agones/helm/">helm installation&lt;/a> which allows you to generate
new, unique certificates or provide your own certificates. Alternatively,
you can use &lt;code>helm template&lt;/code> as described &lt;a href="http://localhost:1313/#customizing-your-install">below&lt;/a>
to generate a custom yaml installation file with unique certificates.&lt;/p>
&lt;/div>
&lt;p>Installing Code Blind using the pre-generated &lt;code>install.yaml&lt;/code> file is the quickest,
simplest way to get Code Blind up and running in your Kubernetes cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create namespace agones-system
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl apply --server-side -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/install/yaml/install.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can also find the &lt;code>install.yaml&lt;/code> in the latest &lt;code>agones-install&lt;/code> zip from the &lt;a href="https://github.com/googleforgames/agones/releases">releases&lt;/a> archive.&lt;/p>
&lt;h3 id="customizing-your-install">Customizing your install&lt;/h3>
&lt;p>To change the &lt;a href="https://agones.dev/docs/installation/install-agones/helm/#configuration">configurable parameters&lt;/a>
in the &lt;code>install.yaml&lt;/code> file, you can use &lt;code>helm template&lt;/code> to generate a custom file locally
without needing to use helm to install Code Blind into your cluster.&lt;/p>
&lt;p>The following example sets the &lt;code>featureGates&lt;/code> and &lt;code>generateTLS&lt;/code> helm parameters
and creates a customized &lt;code>install-custom.yaml&lt;/code> file (note that the &lt;code>pull&lt;/code>
command was introduced in Helm version 3):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm pull --untar https://agones.dev/chart/stable/agones-1.38.0.tgz &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>&lt;span style="color:#204a87">cd&lt;/span> agones &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>helm template agones-manual --namespace agones-system . &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set agones.controller.generateTLS&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set agones.allocator.generateTLS&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set agones.allocator.generateClientTLS&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set agones.crds.cleanupOnDelete&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set agones.featureGates&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;PlayerTracking=true&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> &amp;gt; install-custom.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="uninstalling-code-blind">Uninstalling Code Blind&lt;/h2>
&lt;p>To uninstall/delete the &lt;code>Code Blind&lt;/code> deployment and delete &lt;code>agones-system&lt;/code> namespace:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl delete fleets --all --all-namespaces
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl delete gameservers --all --all-namespaces
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl delete -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/install/yaml/install.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl delete namespace agones-system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note: It may take a couple of minutes until all resources described in &lt;code>install.yaml&lt;/code> file are deleted.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="http://localhost:1313/docs/installation/confirm/">Confirm Code Blind is up and running&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Unity Game Server Client SDK</title><link>http://localhost:1313/docs/guides/client-sdks/unity/</link><pubDate>Thu, 13 Jun 2019 10:17:50 +0000</pubDate><guid>http://localhost:1313/docs/guides/client-sdks/unity/</guid><description>
&lt;p>Check the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK Documentation&lt;/a> for more details on each of the SDK functions and how to run the SDK locally.&lt;/p>
&lt;h2 id="sdk-functionality">SDK Functionality&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Area&lt;/th>
&lt;th>Action&lt;/th>
&lt;th>Implemented&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Ready&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Health&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Reserve&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Allocate&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Shutdown&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>GameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>Watch&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetAnnotation&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetLabel&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>IncrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>DecrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>AppendListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>DeleteListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>SetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>ListContains&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListLength&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListValues&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetConnectedPlayers&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCount&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>IsPlayerConnected&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerConnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerDisconnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>SetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Additional methods have been added for ease of use:&lt;/p>
&lt;ul>
&lt;li>Connect&lt;/li>
&lt;/ul>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;p>The client SDK code can be manually downloaded and added to your project hierarchy.&lt;/p>
&lt;p>It can also be imported into your project via the Unity Package Manager (UPM). To do that, open your project&amp;rsquo;s &lt;code>manifest.json&lt;/code> file, and add the following line to the dependencies section:&lt;/p>
&lt;pre tabindex="0">&lt;code>{
&amp;#34;dependencies&amp;#34;: {
&amp;#34;com.googleforgames.agones&amp;#34;: &amp;#34;https://github.com/googleforgames/agones.git?path=/sdks/unity&amp;#34;,
...
&lt;/code>&lt;/pre>&lt;p>If you want a specific release, the dependency can be pinned to that version. For example:&lt;/p>
&lt;p>&lt;code>&amp;quot;com.googleforgames.agones&amp;quot;: &amp;quot;https://github.com/googleforgames/agones.git?path=/sdks/unity#v1.38.0&amp;quot;,&lt;/code>&lt;/p>
&lt;h2 id="download">Download&lt;/h2>
&lt;p>Download the source
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>directly from GitHub&lt;/a>.&lt;/p>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;ul>
&lt;li>Unity &amp;gt;= 2018.x (.NET 4.x)&lt;/li>
&lt;/ul>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Import this script to your unity project and attach it to GameObject.&lt;/p>
&lt;p>To begin working with the SDK, get an instance of it.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">agones&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000">agonesGameObject&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetComponent&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">Code&lt;/span> &lt;span style="color:#000">Blind&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">AgonesSdk&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To connect to the SDK server, either local or when running on Code Blind, run the async &lt;code>Connect()&lt;/code> method.
This will wait for up to 30 seconds if the SDK server has not yet started and the connection cannot be made,
and will return &lt;code>false&lt;/code> if there was an issue connecting.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Connect&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark the game server as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#ready">ready to receive player connections&lt;/a>, call the async method &lt;code>Ready()&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">async&lt;/span> &lt;span style="color:#204a87;font-weight:bold">void&lt;/span> &lt;span style="color:#000">SomeMethod&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Ready&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To get the details on the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#gameserver">backing &lt;code>GameServer&lt;/code>&lt;/a> call &lt;code>GameServer()&lt;/code>.&lt;/p>
&lt;p>Will return &lt;code>null&lt;/code> if there is an error in retrieving the &lt;code>GameServer&lt;/code> record.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">gameserver&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GameServer&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark the GameServer as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#reserveseconds">Reserved&lt;/a> for a duration call
&lt;code>Reserve(TimeSpan duration)&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Reserve&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">duration&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark that the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#shutdown">game session is completed&lt;/a> and the game server should be shut down call &lt;code>Shutdown()&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Shutdown&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Similarly &lt;code>SetAnnotation(string key, string value)&lt;/code> and &lt;code>SetLabel(string key, string value)&lt;/code> are async methods that perform an action.&lt;/p>
&lt;p>And there is no need to call &lt;code>Health()&lt;/code>, it is automatically called.&lt;/p>
&lt;p>To watch when
&lt;a href="http://localhost:1313/docs/guides/client-sdks/#watchgameserverfunctiongameserver">the backing &lt;code>GameServer&lt;/code> configuration changes&lt;/a>
call &lt;code>WatchGameServer(callback)&lt;/code>, where the delegate function &lt;code>callback&lt;/code> will be executed every time the &lt;code>GameServer&lt;/code>
configuration changes.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WatchGameServer&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">gameServer&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#000">Debug&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Log&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">$&amp;#34;Server - Watch {gameServer}&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="player-tracking">Player Tracking&lt;/h2>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>The Player Tracking feature is currently &lt;strong>&lt;a href="http://localhost:1313/docs/guides/feature-stages/#alpha">Alpha&lt;/a>&lt;/strong>,
not enabled by default, and may change in the future.&lt;/p>
&lt;p>Use the FeatureGate &lt;code>PlayerTracking&lt;/code>
to enable and test this feature.&lt;/p>
&lt;p>See the &lt;a href="http://localhost:1313/docs/guides/feature-stages/#feature-gates">Feature Gate documentation&lt;/a> for details on how to enable features.&lt;/p>
&lt;/div>
&lt;p>To use alpha features use the AgonesAlphaSDK class.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">agones&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000">agonesGameObject&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetComponent&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">Code&lt;/span> &lt;span style="color:#000">Blind&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">AgonesAlphaSdk&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-playerconnect">Alpha: PlayerConnect&lt;/h3>
&lt;p>This method increases the SDK’s stored player count by one, and appends this playerID to GameServer.Status.Players.IDs.
Returns true and adds the playerID to the list of playerIDs if the playerIDs was not already in the list of connected playerIDs.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">PlayerConnect&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">playerId&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-playerdisconnect">Alpha: PlayerDisconnect&lt;/h3>
&lt;p>This function decreases the SDK’s stored player count by one, and removes the playerID from GameServer.Status.Players.IDs.
Will return true and remove the supplied playerID from the list of connected playerIDs if the playerID value exists within the list.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">PlayerDisconnect&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">playerId&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-setplayercapacity">Alpha: SetPlayerCapacity&lt;/h3>
&lt;p>Update the &lt;code>GameServer.Status.Players.Capacity&lt;/code> value with a new capacity.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">capacity&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">100&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">SetPlayerCapacity&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">capacity&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-getplayercapacity">Alpha: GetPlayerCapacity&lt;/h3>
&lt;p>This function retrieves the current player capacity &lt;code>GameServer.Status.Players.Capacity&lt;/code>.
This is always accurate from what has been set through this SDK, even if the value has yet to be updated on the GameServer status resource.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">long&lt;/span> &lt;span style="color:#000">capacity&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetPlayerCapacity&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-getplayercount">Alpha: GetPlayerCount&lt;/h3>
&lt;p>Returns the current player count&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">long&lt;/span> &lt;span style="color:#000">count&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetPlayerCount&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-isplayerconnected">Alpha: IsPlayerConnected&lt;/h3>
&lt;p>This returns if the playerID is currently connected to the GameServer.
This is always accurate, even if the value hasn’t been updated to the GameServer status yet.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">isConnected&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">IsPlayerConnected&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">playerId&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-getconnectedplayers">Alpha: GetConnectedPlayers&lt;/h3>
&lt;p>This returns a list of the playerIDs that are currently connected to the GameServer.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">List&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">string&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span> &lt;span style="color:#000">players&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetConnectedPlayers&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>The following code causes deadlock. Do not use a &lt;code>Wait&lt;/code> method with the returned Task.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">void&lt;/span> &lt;span style="color:#000">Deadlock&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Task&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span> &lt;span style="color:#000">t&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Shutdown&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">t&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Wait&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// deadlock!!!&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;h2 id="settings">Settings&lt;/h2>
&lt;p>The properties for the Unity Code Blind SDK can be found in the Inspector.&lt;/p>
&lt;ul>
&lt;li>Health Interval Second
&lt;ul>
&lt;li>Interval of the server sending a health ping to the Code Blind sidecar. (default: &lt;code>5&lt;/code>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Health Enabled
&lt;ul>
&lt;li>Whether the server sends a health ping to the Code Blind sidecar. (default: &lt;code>true&lt;/code>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Log Enabled
&lt;ul>
&lt;li>Debug Logging Enabled. Debug logging for development of this Plugin. (default: &lt;code>false&lt;/code>)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Docs: High Availability Code Blind</title><link>http://localhost:1313/docs/advanced/high-availability-agones/</link><pubDate>Fri, 10 Feb 2023 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/advanced/high-availability-agones/</guid><description>
&lt;h2 id="high-availability-for-code-blind-controller">High Availability for Code Blind Controller&lt;/h2>
&lt;p>The &lt;code>agones-controller&lt;/code> responsibility is split up into &lt;code>agones-controller&lt;/code>, which enacts the Code Blind control loop, and &lt;code>agones-extensions&lt;/code>, which acts as a service endpoint for webhooks and the allocation extension API. Splitting these responsibilities allows the &lt;code>agones-extensions&lt;/code> pod to be &lt;strong>horizontally scaled&lt;/strong>, making the Code Blind control plane &lt;strong>highly available&lt;/strong> and more &lt;strong>resiliant to disruption&lt;/strong>.&lt;/p>
&lt;p>Multiple &lt;code>agones-controller&lt;/code> pods enabled, with a primary controller selected via leader election. Having multiple &lt;code>agones-controller&lt;/code> minimizes downtime of the service from pod disruptions such as deployment updates, autoscaler evictions, and crashes.&lt;/p>
&lt;h2 id="extension-pod-configrations">Extension Pod Configrations&lt;/h2>
&lt;p>The &lt;code>agones-extensions&lt;/code> binary has a similar &lt;code>helm&lt;/code> configuration to &lt;code>agones-controller&lt;/code>, see &lt;a href="http://localhost:1313/docs/installation/install-agones/helm/">here&lt;/a>. If you previously overrode &lt;code>agones.controller.*&lt;/code> settings, you may need to override the same &lt;code>agones.extensions.*&lt;/code> setting.&lt;/p>
&lt;p>To change &lt;code>controller.numWorkers&lt;/code> to 200 from 100 values and through the use of &lt;code>helm --set&lt;/code>, add the follow to the &lt;code>helm&lt;/code> command:&lt;/p>
&lt;div class="alert alert-warning" role="alert">
Important: This will not have any effect on any &lt;code>extensions&lt;/code> values!
&lt;/div>
&lt;pre tabindex="0">&lt;code> ...
--set agones.controller.numWorkers=200
...
&lt;/code>&lt;/pre>&lt;p>An important configuration to note is the PodDisruptionBudget fields, &lt;code>agones.extensions.pdb.minAvailable&lt;/code> and &lt;code>agones.extensions.pdb.maxUnavailable&lt;/code>. Currently, the &lt;code>agones.extensions.pdb.minAvailable&lt;/code> field is set to 1.&lt;/p>
&lt;h2 id="deployment-considerations">Deployment Considerations&lt;/h2>
&lt;p>Leader election will automatically be enabled and &lt;code>agones.controller.replicas&lt;/code> is &amp;gt; 1. &lt;a href="http://localhost:1313/docs/installation/install-agones/helm/#configuration">&lt;code>agones.controller.replicas&lt;/code>&lt;/a> defaults to 2.&lt;/p>
&lt;p>The default configuration now deploys 2 &lt;code>agones-controller&lt;/code> pods and 2 &lt;code>agones-extensions&lt;/code> pods, replacing the previous single &lt;code>agones-controller&lt;/code> pod setup. For example:&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME READY STATUS RESTARTS AGE
agones-allocator-78c6b8c79-h9nqc 1/1 Running 0 23h
agones-allocator-78c6b8c79-l2bzp 1/1 Running 0 23h
agones-allocator-78c6b8c79-rw75j 1/1 Running 0 23h
agones-controller-fbf944f4-vs9xx 1/1 Running 0 23h
agones-controller-fbf944f4-sjk3t 1/1 Running 0 23h
agones-extensions-5648fc7dcf-hm6lk 1/1 Running 0 23h
agones-extensions-5648fc7dcf-qbc6h 1/1 Running 0 23h
agones-ping-5b9647874-2rrl6 1/1 Running 0 27h
agones-ping-5b9647874-rksgg 1/1 Running 0 27h
&lt;/code>&lt;/pre>&lt;p>The number of replicas for &lt;code>agones-extensions&lt;/code> can be set using helm variable &lt;a href="http://localhost:1313/docs/installation/install-agones/helm/#configuration">&lt;code>agones.extensions.replicas&lt;/code>&lt;/a>, but the default is &lt;code>2&lt;/code>.&lt;/p>
&lt;p>We expect the aggregate memory consumption of the pods will be slightly higher than the previous singleton pod, but as the responsibilities are now split across the pods, the aggregate CPU consumption should also be similar.&lt;/p>
&lt;h2 id="feature-design">Feature Design&lt;/h2>
&lt;p>Please see &lt;a href="https://github.com/googleforgames/agones/issues/2797">HA Code Blind&lt;/a>.&lt;/p></description></item><item><title>Docs: Controlling Disruption</title><link>http://localhost:1313/docs/advanced/controlling-disruption/</link><pubDate>Tue, 24 Jan 2023 20:15:26 +0000</pubDate><guid>http://localhost:1313/docs/advanced/controlling-disruption/</guid><description>
&lt;h2 id="disruption-in-kubernetes">Disruption in Kubernetes&lt;/h2>
&lt;p>&lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/disruptions/#voluntary-and-involuntary-disruptions">A &lt;code>Pod&lt;/code> in Kubernetes may be disrupted&lt;/a> for involuntary reasons, e.g. hardware failure, or voluntary reasons, such as when nodes are drained for upgrades.&lt;/p>
&lt;p>By default, Code Blind assumes your game server should never be disrupted voluntarily and configures the &lt;code>Pod&lt;/code> appropriately - but this isn&amp;rsquo;t always the ideal setting. Here we discuss how Code Blind allows you to control the two most significant sources of voluntary &lt;code>Pod&lt;/code> evictions, node upgrades and Cluster Autoscaler, using the &lt;code>eviction&lt;/code> API on the &lt;code>GameServer&lt;/code> object.&lt;/p>
&lt;h2 id="benefits-of-allowing-voluntary-disruption">Benefits of Allowing Voluntary Disruption&lt;/h2>
&lt;p>It&amp;rsquo;s not always easy to write your game server in a way that allows for disruption, but it can have major benefits:&lt;/p>
&lt;ul>
&lt;li>Compaction of your cluster using &lt;a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler">Cluster Autoscaler&lt;/a> can lead to considerable cost savings for your infrastructure.&lt;/li>
&lt;li>Allowing automated node upgrades can save you management toil, and lowers the time it takes to patch security vulnerabilites.&lt;/li>
&lt;/ul>
&lt;h2 id="considerations">Considerations&lt;/h2>
&lt;p>When discussing game server pod disruption, it&amp;rsquo;s important to keep two factors in mind:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>&lt;code>TERM&lt;/code> signal:&lt;/strong> Is your game server tolerant of graceful termination? If you wish to support voluntary disruption, your game server must handle the &lt;code>TERM&lt;/code> signal (even if it runs to completion after receiving &lt;code>TERM&lt;/code>).&lt;/li>
&lt;li>&lt;strong>Termination Grace Period:&lt;/strong> After receiving &lt;code>TERM&lt;/code>, how long does your game server need to run? If you run to completion after receiving &lt;code>TERM&lt;/code>, this is equivalent to the session length - if not, you can think of this as the cleanup time. In general, we bucket the grace period into &amp;ldquo;less than 10 minutes&amp;rdquo;, &amp;ldquo;10 minutes to an hour&amp;rdquo;, and &amp;ldquo;greater than an hour&amp;rdquo;. (See &lt;a href="http://localhost:1313/docs/advanced/controlling-disruption/#whats-special-about-ten-minutes-and-one-hour">below&lt;/a> if you are curious about grace period considerations.)&lt;/li>
&lt;/ul>
&lt;h2 id="eviction-api">&lt;code>eviction&lt;/code> API&lt;/h2>
&lt;p>The &lt;code>eviction&lt;/code> API is specified as part of the &lt;code>GameServerSpec&lt;/code>, like:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;simple-game-server&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">eviction&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">safe&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">...]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can set &lt;code>eviction.safe&lt;/code> based on your game server&amp;rsquo;s tolerance for disruption and session length, based on the following diagram:&lt;/p>
&lt;p>&lt;img alt="Eviction Decision Diagram" src="../../../diagrams/eviction-decision.dot.png">&lt;/p>
&lt;p>In words:&lt;/p>
&lt;ul>
&lt;li>Does the game server support &lt;code>TERM&lt;/code> and terminate within ten minutes?
&lt;ul>
&lt;li>Yes to both: Set &lt;code>safe: Always&lt;/code>, and set &lt;a href="https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#hook-handler-execution">terminationGracePeriodSeconds&lt;/a> to the session length or cleanup time.&lt;/li>
&lt;li>No to either: Does the game server support &lt;code>TERM&lt;/code> and terminate within an hour?
&lt;ul>
&lt;li>Yes to both: Set &lt;code>safe: OnUpgrade&lt;/code>, and configure &lt;a href="https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#hook-handler-execution">terminationGracePeriodSeconds&lt;/a> to the session length or cleanup time.&lt;/li>
&lt;li>No to either: Set &lt;code>safe: Never&lt;/code>. If your game server does not terminate within an hour, see &lt;a href="http://localhost:1313/docs/advanced/controlling-disruption/#considerations-for-long-sessions">below&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
To maintain backward compatibility with Code Blind prior to the introduction of &lt;code>eviction&lt;/code> API, if your game server previously configured the &lt;code>cluster-autoscaler.kubernetes.io/safe-to-evict: true&lt;/code> annotation, we assume &lt;code>eviction.safe: Always&lt;/code> is intended.
&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
GKE Autopilot supports only &lt;code>Never&lt;/code> and &lt;code>Always&lt;/code>, not &lt;code>OnUpgrade&lt;/code>.
&lt;/div>
&lt;h2 id="whats-special-about-ten-minutes-and-one-hour">What&amp;rsquo;s special about ten minutes and one hour?&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Ten minutes:&lt;/strong> Cluster Autoscaler respects &lt;a href="https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#does-ca-respect-gracefultermination-in-scale-down">ten minutes of graceful termination&lt;/a> on scale-down. On some cloud products, you can configure &lt;code>--max-graceful-termination-sec&lt;/code> to change this, but it is not advised: Cluster Autoscaler is currently only capable of scaling down one node at a time, and larger graceful termination windows slow this down farther (see &lt;a href="https://github.com/kubernetes/autoscaler/issues/5079">autoscaler#5079&lt;/a>). If the ten minute limit does not apply to you, generally you should choose between &lt;code>safe: Always&lt;/code> (for sessions less than an hour), or see &lt;a href="http://localhost:1313/docs/advanced/controlling-disruption/#considerations-for-long-sessions">below&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>One hour:&lt;/strong> On many cloud products, &lt;code>PodDisruptionBudget&lt;/code> can only block node upgrade evictions for a certain period of time - on GKE this is 1h. After that, the PDB is ignored, or the node upgrade fails with an error. Controlling &lt;code>Pod&lt;/code> disruption for longer than one hour requires cluster configuration changes outside of Code Blind - see &lt;a href="http://localhost:1313/docs/advanced/controlling-disruption/#considerations-for-long-sessions">below&lt;/a>.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="considerations-for-long-sessions">Considerations for long sessions&lt;/h2>
&lt;p>Outside of Cluster Autoscaler, the main source of disruption for long sessions is node upgrade. On some cloud products, such as GKE Standard, node upgrades are entirely within your control. On others, such as GKE Autopilot, node upgrade is automatic. Typical node upgrades use an eviction based, rolling recreate strategy, and may not honor &lt;code>PodDisruptionBudget&lt;/code> for longer than an hour. See &lt;a href="http://localhost:1313/docs/guides/best-practices/">Best Practices&lt;/a> for information specific to your cloud product.&lt;/p>
&lt;h2 id="implementation--under-the-hood">Implementation / Under the hood&lt;/h2>
&lt;p>Each option uses a slightly different permutation of:&lt;/p>
&lt;ul>
&lt;li>the &lt;code>safe-to-evict&lt;/code> annotation to block &lt;a href="https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#what-types-of-pods-can-prevent-ca-from-removing-a-node">Cluster Autoscaler based eviction&lt;/a>, and&lt;/li>
&lt;li>the &lt;code>agones.dev/safe-to-evict&lt;/code> label selector to select the &lt;code>agones-gameserver-safe-to-evict-false&lt;/code> &lt;code>PodDisruptionBudget&lt;/code>. This blocks &lt;a href="https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#what-types-of-pods-can-prevent-ca-from-removing-a-node">Cluster Autoscaler&lt;/a> and (for a limited time) &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/disruptions/#pod-disruption-budgets">disruption from node upgrades&lt;/a>.
&lt;ul>
&lt;li>Note that PDBs do influence pod preemption as well, but it&amp;rsquo;s not guaranteed.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>As a quick reference:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>evictions.safe setting&lt;/th>
&lt;th>&lt;code>safe-to-evict&lt;/code> pod annotation&lt;/th>
&lt;th>&lt;code>agones.dev/safe-to-evict&lt;/code> label&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>Never&lt;/code> (default)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code> (matches PDB)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>OnUpdate&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code> (does not match PDB)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>Always&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code> (does not match PDB)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="further-reading">Further Reading&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/googleforgames/agones/issues/2794">&lt;code>eviction&lt;/code> design&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Third Party Examples</title><link>http://localhost:1313/docs/third-party-content/examples/</link><pubDate>Thu, 09 Sep 2021 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/third-party-content/examples/</guid><description>
&lt;h2 id="integrations-with-other-projects">Integrations with other projects&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/Octops/agones-discover-openmatch">Octops/Code Blind x Open Match&lt;/a> - How to implement a matchmaking
system using Code Blind and Open Match&lt;/li>
&lt;/ul>
&lt;h2 id="minetest">Minetest&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://www.minetest.net/">Minetest&lt;/a> is a free and open-source sandbox video game available for Linux, FreeBSD,
Microsoft Windows, MacOS, and Android. Minetest game play is very similar to that of Minecraft. Players explore a blocky 3D world, discover and extract raw materials, craft tools and items, and build structures and landscapes.&lt;/li>
&lt;li>&lt;a href="https://github.com/paulhkim80/agones-example-minetest">Minetest server for Code Blind&lt;/a> is an example of the Minetest
server hosted on Kubernetes using Code Blind. It wraps the Minetest server with a &lt;a href="https://golang.org">Go&lt;/a> binary, and introspects stdout to provide the event hooks for the SDK integration. The wrapper is from &lt;a href="https://github.com/googleforgames/agones/blob/main/examples/xonotic/main.go">Xonotic Example&lt;/a> with a few changes to look for the Minetest ready output message.&lt;/li>
&lt;/ul>
&lt;p>You will need to download the Minetest client separately to play.&lt;/p>
&lt;h2 id="quilkin">Quilkin&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/googleforgames/quilkin">Quilkin&lt;/a> is a non-transparent UDP proxy specifically designed for use with large scale multiplayer dedicated game server deployments, to ensure security, access control, telemetry data, metrics and more.&lt;/li>
&lt;li>&lt;a href="https://github.com/googleforgames/quilkin/tree/main/examples">Quilkin with Code Blind&lt;/a> is an example of running &lt;a href="https://xonotic.org/">Xonotic&lt;/a> with Quilkin on an Code Blind cluster, utilising either &lt;a href="https://github.com/googleforgames/quilkin/tree/main/examples/agones-xonotic-sidecar">the sidecar integration pattern&lt;/a> or via the the &lt;a href="https://github.com/googleforgames/quilkin/tree/main/examples/agones-xonotic-xds">Quilkin xDS Code Blind provider&lt;/a> with a TokenRouter to provide routing and access control to the allocated GameServer instance.&lt;/li>
&lt;/ul>
&lt;p>You will need to download the Xonotic client to interact with the demo.&lt;/p>
&lt;h2 id="shulker">Shulker&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/jeremylvln/Shulker">Shulker&lt;/a> is a Kubernetes operator for managing complex and dynamic Minecraft
infrastructure at scale, including game servers and proxies.&lt;/li>
&lt;li>It builds on top Code Blind &lt;code>GameServer&lt;/code> and &lt;code>Fleet&lt;/code> primitives to provide simplified abstractions specifically tailored
to orchestrating Minecraft workloads.&lt;/li>
&lt;/ul>
&lt;p>Shulker requires you to have a genuine Minecraft account. You&amp;rsquo;ll need to &lt;a href="https://www.minecraft.net/en-us/article/how-create-minecraft-account" data-proofer-ignore>purchase the game&lt;/a>
to test the &amp;ldquo;Getting Started&amp;rdquo; example.&lt;/p></description></item><item><title>Docs: Matchmaker requires game server process registration</title><link>http://localhost:1313/docs/integration-patterns/matchmaker-registration/</link><pubDate>Tue, 27 Jul 2021 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/integration-patterns/matchmaker-registration/</guid><description>
&lt;p>In this scenario, the &lt;code>GameServer&lt;/code> process will need to self Allocate when informed by the matchmaker that players
are being sent to them.&lt;/p>
&lt;p>&lt;img alt="Reserved Lifecycle Sequence Diagram" src="../../../diagrams/gameserver-reserved.puml.png">&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
This does relinquish control over how &lt;code>GameServers&lt;/code> are packed across the cluster to the external matchmaker. It is likely
it will not do as good a job at packing and scaling as Code Blind.
&lt;/div>
&lt;h2 id="next-steps">Next Steps:&lt;/h2>
&lt;ul>
&lt;li>Read the various references, including the
&lt;a href="http://localhost:1313/docs/reference/gameserver/">GameServer&lt;/a> and &lt;a href="http://localhost:1313/docs/reference/fleet/">Fleet&lt;/a>
reference materials.&lt;/li>
&lt;li>Review the specifics of &lt;a href="http://localhost:1313/docs/guides/health-checking/">Health Checking&lt;/a>.&lt;/li>
&lt;li>See all the commands the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK&lt;/a> provides - we only show a
few here!&lt;/li>
&lt;li>If you aren&amp;rsquo;t familiar with the term &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/">Pod&lt;/a>, this should
provide a reference.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Windows Gameservers</title><link>http://localhost:1313/docs/guides/windows-gameservers/</link><pubDate>Mon, 19 Apr 2021 21:14:19 +0000</pubDate><guid>http://localhost:1313/docs/guides/windows-gameservers/</guid><description>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
Running &lt;code>GameServers&lt;/code> on Windows nodes is currently Alpha, and any feedback
would be appreciated.
&lt;/div>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;p>The following prerequisites are required to create a GameServer:&lt;/p>
&lt;ol>
&lt;li>A Kubernetes cluster with the UDP port range 7000-8000 open on each node.&lt;/li>
&lt;li>Code Blind controller installed in the targeted cluster&lt;/li>
&lt;li>kubectl properly configured&lt;/li>
&lt;li>Netcat which is already installed on most Linux/macOS distributions, for windows you can use &lt;a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">WSL&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>If you don’t have a Kubernetes cluster you can follow &lt;a href="http://localhost:1313/docs/installation/">these instructions&lt;/a> to create a cluster on Google Kubernetes Engine (GKE), Minikube or Azure Kubernetes Service (AKS), and install Code Blind.&lt;/p>
&lt;p>For the purpose of this guide we’re going to use the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/examples/simple-game-server/" target="_blank" data-proofer-ignore>simple-game-server&lt;/a>
example as the GameServer container. This example is a very simple UDP server written in Go. Don’t hesitate to look at the code of this example for more information.&lt;/p>
&lt;p>Ensure that you have some nodes to your cluster that are running Windows.&lt;/p>
&lt;h2 id="objectives">Objectives&lt;/h2>
&lt;ul>
&lt;li>Create a GameServer on a Windows node.&lt;/li>
&lt;li>Connect to the GameServer.&lt;/li>
&lt;/ul>
&lt;h3 id="1-create-a-gameserver">1. Create a GameServer&lt;/h3>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Starting with version 0.3, the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>simple-game-server&lt;/a> example is compiled as a multi-arch docker image that will run on both Linux and Windows. To ensure that the game server runs on a Windows node, a nodeSelector of &lt;code>&amp;quot;kubernetes.io/os&amp;quot;: windows&lt;/code> must be added to the game server specification.
&lt;/div>
&lt;p>Create a GameServer using the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/gameserver-windows.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see a successful output similar to this:&lt;/p>
&lt;pre tabindex="0">&lt;code>gameserver.agones.dev/simple-game-server-4ss4j created
&lt;/code>&lt;/pre>&lt;p>Verify that the GameServer becomes Ready by running:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gameservers
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It should look something like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-7pjrq Ready 35.233.183.43 7190 agones 3m
&lt;/code>&lt;/pre>&lt;p>Take a note of the Game Server IP address and ports.&lt;/p>
&lt;p>For the full details of the YAML file head to the &lt;a href="http://localhost:1313/docs/reference/gameserver/">GameServer Specification Guide&lt;/a>&lt;/p>
&lt;h3 id="2-connect-to-the-gameserver">2. Connect to the GameServer&lt;/h3>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
If you have Code Blind installed on Google Kubernetes Engine, and are using
Cloud Shell for your terminal, UDP is blocked. For this step, we recommend
SSH&amp;rsquo;ing into a running VM in your project, such as a Kubernetes node.
You can click the &amp;lsquo;SSH&amp;rsquo; button on the &lt;a href="https://console.cloud.google.com/compute/instances">Google Compute Engine Instances&lt;/a>
page to do this.
Run &lt;code>toolbox&lt;/code> on GKE Node to run docker container with tools and then &lt;code>nc&lt;/code> command would be available.
&lt;/div>
&lt;p>You can now communicate with the Game Server:&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>If you do not have netcat installed
(i.e. you get a response of &lt;code>nc: command not found&lt;/code>),
you can install netcat by running &lt;code>sudo apt install netcat&lt;/code>.&lt;/p>
&lt;p>If you are on Windows, you can alternatively install netcat on
&lt;a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">WSL&lt;/a>,
or download a version of netcat for Windows from &lt;a href="https://nmap.org/ncat/">nmap.org&lt;/a>.&lt;/p>
&lt;/div>
&lt;pre tabindex="0">&lt;code>nc -u {IP} {PORT}
Hello World !
ACK: Hello World !
EXIT
&lt;/code>&lt;/pre>&lt;p>You can finally type &lt;code>EXIT&lt;/code> which tells the SDK to run the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#shutdown">Shutdown command&lt;/a>, and therefore shuts down the &lt;code>GameServer&lt;/code>.&lt;/p>
&lt;p>If you run &lt;code>kubectl describe gameserver&lt;/code> again - either the GameServer will be gone completely, or it will be in &lt;code>Shutdown&lt;/code> state, on the way to being deleted.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Make a local copy of the simple-game-server
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>fleet configuration&lt;/a>,
modify it to include a node selector, and use it to go through the &lt;a href="http://localhost:1313/docs/getting-started/create-fleet/">Quickstart: Create a Game Server Fleet&lt;/a>.&lt;/li>
&lt;li>If you want to use your own GameServer container make sure you have properly integrated the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Code Blind SDK&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Installing Code Blind on AWS Elastic Kubernetes Service using Terraform</title><link>http://localhost:1313/docs/installation/terraform/eks/</link><pubDate>Tue, 21 Jan 2020 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/terraform/eks/</guid><description>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;p>You can use Terraform to provision your Amazon EKS (Elastic Kubernetes Service) cluster and install Code Blind on it using the Helm Terraform provider.&lt;/p>
&lt;p>An example of the EKS submodule config file can be found here:
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>Terraform configuration with Code Blind submodule&lt;/a>&lt;/p>
&lt;p>Copy this file into a separate folder.&lt;/p>
&lt;p>Configure your AWS CLI tool &lt;a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html">CLI configure&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>aws configure
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Initialise your terraform:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="creating-cluster">Creating Cluster&lt;/h3>
&lt;p>By editing &lt;code>modules.tf&lt;/code> you can change the parameters that you need to. For instance, the - &lt;code>machine_type&lt;/code> variable.&lt;/p>
&lt;p>Configurable parameters:&lt;/p>
&lt;ul>
&lt;li>cluster_name - the name of the EKS cluster (default is &amp;ldquo;agones-terraform-example&amp;rdquo;)&lt;/li>
&lt;li>agones_version - the version of agones to install (an empty string, which is the default, is the latest version from the &lt;a href="https://agones.dev/chart/stable">Helm repository&lt;/a>)&lt;/li>
&lt;li>machine_type - EC2 instance type for hosting game servers (default is &amp;ldquo;t2.large&amp;rdquo;)&lt;/li>
&lt;li>region - the location of the cluster (default is &amp;ldquo;us-west-2&amp;rdquo;)&lt;/li>
&lt;li>node_count - count of game server nodes for the default node pool (default is &amp;ldquo;4&amp;rdquo;)&lt;/li>
&lt;li>log_level - possible values: Fatal, Error, Warn, Info, Debug (default is &amp;ldquo;info&amp;rdquo;)&lt;/li>
&lt;li>feature_gates - a list of alpha and beta version features to enable. For example, &amp;ldquo;PlayerTracking=true&amp;amp;ContainerPortAllocation=true&amp;rdquo;&lt;/li>
&lt;li>gameserver_minPort - the lower bound of the port range which gameservers will listen on (default is &amp;ldquo;7000&amp;rdquo;)&lt;/li>
&lt;li>gameserver_maxPort - the upper bound of the port range which gameservers will listen on (default is &amp;ldquo;8000&amp;rdquo;)&lt;/li>
&lt;li>gameserver_namespaces - a list of namespaces which will be used to run gameservers (default is &lt;code>[&amp;quot;default&amp;quot;]&lt;/code>). For example &lt;code>[&amp;quot;default&amp;quot;, &amp;quot;xbox-gameservers&amp;quot;, &amp;quot;mobile-gameservers&amp;quot;]&lt;/code>&lt;/li>
&lt;li>force_update - whether or not to force the replacement/update of resource (default is true, false may be required to prevent immutability errors when updating the configuration)&lt;/li>
&lt;/ul>
&lt;p>Now you can create an EKS cluster and deploy Code Blind on EKS:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform apply &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>-var &lt;span style="color:#000">agones_version&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1.38.0&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>After deploying the cluster with Code Blind, you can get or update your kubeconfig by using:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>aws eks --region us-west-2 update-kubeconfig --name agones-cluster
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>With the following output:&lt;/p>
&lt;pre tabindex="0">&lt;code>Added new context arn:aws:eks:us-west-2:601646756426:cluster/agones-cluster to /Users/user/.kube/config
&lt;/code>&lt;/pre>&lt;p>Switch &lt;code>kubectl&lt;/code> context to the recently created one:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl config use-context arn:aws:eks:us-west-2:601646756426:cluster/agones-cluster
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Check that you are authenticated against the recently created Kubernetes cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get nodes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="uninstall-the-code-blind-and-delete-eks-cluster">Uninstall the Code Blind and delete EKS cluster&lt;/h3>
&lt;p>Run the following commands to delete all Terraform provisioned resources:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform destroy -target module.helm_agones.helm_release.agones -auto-approve &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> sleep &lt;span style="color:#0000cf;font-weight:bold">60&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>terraform destroy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
There is an issue with the AWS Terraform provider:
&lt;a href="https://github.com/terraform-providers/terraform-provider-aws/issues/9101">https://github.com/terraform-providers/terraform-provider-aws/issues/9101&lt;/a>
Due to this issue you should remove helm release first (as stated above),
otherwise &lt;code>terraform destroy&lt;/code> will timeout and never succeed.
Remove all created resources manually in that case, namely: 3 Auto Scaling groups, EKS cluster, and a VPC with all dependent resources.
&lt;/div></description></item><item><title>Docs: Third Party Podcasts</title><link>http://localhost:1313/docs/third-party-content/podcasts/</link><pubDate>Wed, 15 Jan 2020 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/third-party-content/podcasts/</guid><description>
&lt;h2 id="2019">2019&lt;/h2>
&lt;ul>
&lt;li>Nov 6 - [Google Cloud Platform Podcast: Supersolid with Kami May]
(&lt;a href="https://gcppodcast.com/post/episode-202-supersolid-with-kami-may/">https://gcppodcast.com/post/episode-202-supersolid-with-kami-may/&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h2 id="2018">2018&lt;/h2>
&lt;ul>
&lt;li>Oct 23 - [Kubernetes Podcast: Code Blind, with Cyril Tovena and Mark Mandel]
(&lt;a href="https://kubernetespodcast.com/episode/026-agones/">https://kubernetespodcast.com/episode/026-agones/&lt;/a>)&lt;/li>
&lt;li>Aug 15 - [Google Cloud Platform Podcast: Code Blind with Mark Mandel and Cyril Tovena]
(&lt;a href="https://gcppodcast.com/post/episode-142-agones-with-mark-mandel-and-cyril-tovena/">https://gcppodcast.com/post/episode-142-agones-with-mark-mandel-and-cyril-tovena/&lt;/a>)&lt;/li>
&lt;/ul></description></item><item><title>Docs: Fleet Updates</title><link>http://localhost:1313/docs/guides/fleet-updates/</link><pubDate>Tue, 27 Aug 2019 03:58:19 +0000</pubDate><guid>http://localhost:1313/docs/guides/fleet-updates/</guid><description>
&lt;h2 id="rolling-update-strategy">Rolling Update Strategy&lt;/h2>
&lt;p>When Fleets are edited and updated, the default strategy of Code Blind is to roll the new version of the &lt;code>GameServer&lt;/code>
out to the entire &lt;code>Fleet&lt;/code>, in a step by step increment and decrement by adding a chunk of the new version and removing
a chunk of the current set of &lt;code>GameServers&lt;/code>.&lt;/p>
&lt;p>This is done while ensuring that &lt;code>Allocated&lt;/code> &lt;code>GameServers&lt;/code> are not deleted
until they are specifically shutdown through the game servers SDK, as they are expected to have players on them.&lt;/p>
&lt;p>You can see this in the &lt;code>Fleet.Spec.Strategy&lt;/code> &lt;a href="http://localhost:1313/docs/reference/fleet/">reference&lt;/a>, with controls for how
much of the &lt;code>Fleet&lt;/code> is incremented and decremented at one time:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">strategy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">RollingUpdate&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">rollingUpdate&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxSurge&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">25&lt;/span>&lt;span style="color:#000">%&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxUnavailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">25&lt;/span>&lt;span style="color:#000">%&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>So when a Fleet is edited (any field other than &lt;code>replicas&lt;/code>, see note below), either through &lt;code>kubectl&lt;/code> &lt;code>edit&lt;/code>/&lt;code>apply&lt;/code> or via the Kubernetes API, this performs the following operations:&lt;/p>
&lt;ol>
&lt;li>Adds the &lt;code>maxSurge&lt;/code> number of &lt;code>GameServers&lt;/code> to the Fleet.&lt;/li>
&lt;li>Shutdown the &lt;code>maxUnavailable&lt;/code> number of &lt;code>GameServers&lt;/code> in the Fleet, skipping &lt;code>Allocated&lt;/code> &lt;code>GameServers&lt;/code>.&lt;/li>
&lt;li>Repeat above steps until all the previous &lt;code>GameServer&lt;/code> configurations have been &lt;code>Shutdown&lt;/code> and deleted.&lt;/li>
&lt;/ol>
&lt;p>By default, a Fleet will wait for new &lt;code>GameSevers&lt;/code> to become &lt;code>Ready&lt;/code> during a Rolling Update before continuing to shutdown additional &lt;code>GameServers&lt;/code>, only counting &lt;code>GameServers&lt;/code> that are &lt;code>Ready&lt;/code> as being available when calculating the current &lt;code>maxUnavailable&lt;/code> value which controls the rate at which &lt;code>GameServers&lt;/code> are updated.
This ensures that a Fleet cannot accidentally have zero &lt;code>GameServers&lt;/code> in the &lt;code>Ready&lt;/code> state if something goes wrong during a Rolling Update or if &lt;code>GameServers&lt;/code> have a long delay before moving to the &lt;code>Ready&lt;/code> state.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>When &lt;code>Fleet&lt;/code> update contains only changes to the &lt;code>replicas&lt;/code> parameter, then new GameServers will be created/deleted straight away,
which means in that case &lt;code>maxSurge&lt;/code> and &lt;code>maxUnavailable&lt;/code> parameters for a RollingUpdate will not be used.
The RollingUpdate strategy takes place when you update &lt;code>spec&lt;/code> parameters other than &lt;code>replicas&lt;/code>.&lt;/p>
&lt;p>If you are using a Fleet which is scaled by a FleetAutoscaler, &lt;a href="http://localhost:1313/docs/getting-started/create-fleetautoscaler/#7-change-autoscaling-parameters">read the Fleetautoscaler guide&lt;/a> for more details on how RollingUpdates with FleetAutoscalers need to be implemented.&lt;/p>
&lt;p>You could also check the behaviour of the Fleet with a RollingUpdate strategy on a test &lt;code>Fleet&lt;/code> to preview your upcoming updates.
Use &lt;code>kubectl describe fleet&lt;/code> to track scaling events in a Fleet.&lt;/p>
&lt;/div>
&lt;h2 id="recreate-strategy">Recreate Strategy&lt;/h2>
&lt;p>This is an optimal &lt;code>Fleet&lt;/code> update strategy if you want to replace all &lt;code>GameServers&lt;/code> that are not &lt;code>Allocated&lt;/code>
with a new version as quickly as possible.&lt;/p>
&lt;p>You can see this in the &lt;code>Fleet.Spec.Strategy&lt;/code> &lt;a href="http://localhost:1313/docs/reference/fleet/">reference&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">strategy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Recreate&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>So when a Fleet is edited, either through &lt;code>kubectl&lt;/code> &lt;code>edit&lt;/code>/&lt;code>apply&lt;/code> or via the Kubernetes API, this performs the following operations:&lt;/p>
&lt;ol>
&lt;li>&lt;code>Shutdown&lt;/code> all &lt;code>GameServers&lt;/code> in the Fleet that are not currently &lt;code>Allocated&lt;/code>.&lt;/li>
&lt;li>Create the same number of the new version of the &lt;code>GameServers&lt;/code> that were previously deleted.&lt;/li>
&lt;li>Repeat above steps until all the previous &lt;code>GameServer&lt;/code> configurations have been &lt;code>Shutdown&lt;/code> and deleted.&lt;/li>
&lt;/ol>
&lt;h2 id="two-or-more-fleets-strategy">Two (or more) Fleets Strategy&lt;/h2>
&lt;p>If you want very fine-grained control over the rate that new versions of a &lt;code>GameServer&lt;/code> configuration is rolled out, or
if you want to do some version of A/B testing or smoke test between different versions, running two (or more) &lt;code>Fleets&lt;/code> at the same time is a
good solution for this.&lt;/p>
&lt;p>To do this, create a second &lt;code>Fleet&lt;/code> inside your cluster, starting with zero replicas. From there you can scale this newer &lt;code>Fleet&lt;/code>
up and the older &lt;code>Fleet&lt;/code> down as required by your specific rollout strategy.&lt;/p>
&lt;p>This also allows you to rollback if issues arise with the newer version, as you can delete the newer &lt;code>Fleet&lt;/code>
and scale up the old Fleet to its previous levels, resulting in minimal impact to the players.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
For GameServerAllocation, you will need to have at least a single shared label between the &lt;code>GameServers&lt;/code> in each
Fleet.
&lt;/div>
&lt;h3 id="gameserverallocation-across-fleets">GameServerAllocation Across Fleets&lt;/h3>
&lt;p>Since &lt;code>GameServerAllocation&lt;/code> is powered by label selectors, it is possible to allocate across multiple fleets, and/or
give preference to particular sets of &lt;code>GameServers&lt;/code> over others. You can see details of this in
the &lt;code>GameServerAllocation&lt;/code> &lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">reference&lt;/a>.&lt;/p>
&lt;p>In a scenario where a new &lt;code>v2&lt;/code> version of a &lt;code>Fleet&lt;/code> is being slowly scaled up in a separate Fleet from the previous &lt;code>v1&lt;/code>
Fleet, we can specify that we &lt;code>prefer&lt;/code> allocation to occur from the &lt;code>v2&lt;/code> Fleet, and if none are available, fallback to
the &lt;code>v1&lt;/code> Fleet, like so:&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-5" role="tablist">
&lt;li class="nav-item">
&lt;button class="nav-link active"
id="tabs-05-00-tab" data-bs-toggle="tab" data-bs-target="#tabs-05-00" role="tab"
data-td-tp-persist="yaml" aria-controls="tabs-05-00" aria-selected="true">
selectors
&lt;/button>
&lt;/li>&lt;li class="nav-item">
&lt;button class="nav-link"
id="tabs-05-01-tab" data-bs-toggle="tab" data-bs-target="#tabs-05-01" role="tab"
aria-controls="tabs-05-01" aria-selected="false">
required &amp;amp; preferred (deprecated)
&lt;/button>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-5-content">
&lt;div class="tab-pane fade show active"
id="tabs-05-00" role="tabpanel" aria-labelled-by="tabs-05-00-tab" tabindex="5">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;allocation.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServerAllocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">selectors&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">v2&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">game&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">my-awesome-game&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade"
id="tabs-05-01" role="tabpanel" aria-labelled-by="tabs-05-01-tab" tabindex="5">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;allocation.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServerAllocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Deprecated, use field selectors instead.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">required&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">game&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">my-awesome-game&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Deprecated, use field selectors instead.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">preferred&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">v2&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>In this example, all &lt;code>GameServers&lt;/code> have the label &lt;code>game: my-awesome-game&lt;/code>, so the Allocation will search across both
Fleets through that mechanism. The &lt;code>selectors&lt;/code> label matching selector tells the allocation system to first search
all &lt;code>GameServers&lt;/code> with the &lt;code>v2&lt;/code> &lt;code>Fleet&lt;/code> label, and if not found, search through the rest of the set.&lt;/p>
&lt;p>The above &lt;code>GameServerAllocation&lt;/code> can then be used while you scale up the &lt;code>v2&lt;/code> Fleet and scale down the original Fleet at
the rate that you deem fit for your specific rollout.&lt;/p>
&lt;h2 id="notifying-gameservers-on-fleet-updatedownscale">Notifying GameServers on Fleet Update/Downscale&lt;/h2>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>The Allocated GameSever Overflow Notification feature is currently &lt;strong>&lt;a href="http://localhost:1313/docs/guides/feature-stages/#beta">Beta&lt;/a>&lt;/strong>,
and while it is enabled by default it may change in the future.&lt;/p>
&lt;p>Use the Feature Gate &lt;code>FleetAllocationOverflow&lt;/code> to disable this feature.&lt;/p>
&lt;p>See the &lt;a href="http://localhost:1313/docs/guides/feature-stages/#feature-gates">Feature Gate documentation&lt;/a> for details on how to disable features.&lt;/p>
&lt;/div>
&lt;p>When &lt;code>Allocated&lt;/code> &lt;code>GameServers&lt;/code> are utilised for a long time, such as a Lobby &lt;code>GameServer&lt;/code>,
or a &lt;code>GameServer&lt;/code> that is being reused multiple times in a row, it can be useful
to notify an &lt;code>Allocated&lt;/code> &lt;code>GameServer&lt;/code> process when its backing Fleet has been updated.
When an update occurs, the &lt;code>Allocated&lt;/code> &lt;code>GameServer&lt;/code>, may want to actively perform a graceful shutdown and release its
resources such that it can be replaced by a new version, or similar actions.&lt;/p>
&lt;p>To do this, we provide the ability to apply a user-provided set of labels and/or annotations to the &lt;code>Allocated&lt;/code>
&lt;code>GameServers&lt;/code> when a &lt;code>Fleet&lt;/code> update occurs that updates its &lt;code>GameServer&lt;/code> template, or generally
causes the &lt;code>Fleet&lt;/code> replica count to drop below the number of currently &lt;code>Allocated&lt;/code> &lt;code>GameServers&lt;/code>.&lt;/p>
&lt;p>This provides two useful capabilities:&lt;/p>
&lt;ol>
&lt;li>The &lt;code>GameServer&lt;/code> &lt;a href="http://localhost:1313/docs/guides/client-sdks/#watchgameserverfunctiongameserver">&lt;code>SDK.WatchGameServer()&lt;/code>&lt;/a>
command can be utilised to react to this annotation and/or label change to
indicate the Fleet system change, and the game server binary could execute code accordingly.&lt;/li>
&lt;li>This can also be used to proactively update &lt;code>GameServer&lt;/code> labels, to effect change in allocation strategy - such as
preferring the newer &lt;code>GameServers&lt;/code> when allocating, but falling back to the older version if there aren&amp;rsquo;t enough
of the new ones yet spun up.&lt;/li>
&lt;/ol>
&lt;p>The labels and/or annotations are applied to &lt;code>GameServers&lt;/code> in a &lt;code>Fleet&lt;/code> in the order designated by their configured &lt;a href="http://localhost:1313/docs/advanced/scheduling-and-autoscaling/#fleet-scheduling">Fleet scheduling&lt;/a>.&lt;/p>
&lt;p>Example yaml configuration:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Fleet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">replicas&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">2&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">allocationOverflow&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># This specifies which annotations and/or labels are applied&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mykey&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">myvalue&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">version&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># empty an existing label value, so it&amp;#39;s no longer in the allocation selection&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">event&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">overflow&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7654&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">us-docker.pkg.dev/agones-images/examples/simple-game-server:0.27&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>See the &lt;a href="http://localhost:1313/docs/reference/fleet/">Fleet reference&lt;/a> for more details.&lt;/p>
&lt;!-- This is the only way I could get the alert to work in a feature code -->
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
This works the same across Fleet resizing and Rolling/Recreate Updates, in that the implementation responds to the
underlying &lt;code>GameServerSet&lt;/code>&amp;rsquo;s replicas being shrunk to a value smaller than the number of &lt;code>Allocated&lt;/code>
&lt;code>GameServers&lt;/code> it controls. Therefore, this functionality works equally well with a rolling update as it does with an
update strategy that requires at least two &lt;code>Fleets&lt;/code>.
&lt;/div></description></item><item><title>Docs: Fleet Specification</title><link>http://localhost:1313/docs/reference/fleet/</link><pubDate>Thu, 03 Jan 2019 03:58:52 +0000</pubDate><guid>http://localhost:1313/docs/reference/fleet/</guid><description>
&lt;p>To allocate a &lt;code>GameServer&lt;/code> from a &lt;code>Fleet&lt;/code>, use a &lt;code>GameServerAllocation&lt;/code>.&lt;/p>
&lt;p>Like any other Kubernetes resource you describe a &lt;code>Fleet&lt;/code>&amp;rsquo;s desired state via a specification written in YAML or JSON to the Kubernetes API. The Code Blind controller will then change the actual state to the desired state.&lt;/p>
&lt;p>A full &lt;code>Fleet&lt;/code> specification is available below and in the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>example folder&lt;/a> for reference :&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Fleet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Fleet Metadata&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># https://v1-27.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#objectmeta-v1-meta&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">fleet-example&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the number of GameServers to keep Ready or Allocated in this Fleet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">replicas&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">2&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># defines how GameServers are organised across the cluster.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Options include:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;#34;Packed&amp;#34; (default) is aimed at dynamic Kubernetes clusters, such as cloud providers, wherein we want to bin pack&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># resources&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;#34;Distributed&amp;#34; is aimed at static Kubernetes clusters, wherein we want to distribute resources across the entire&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># cluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">scheduling&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Packed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># a GameServer template - see:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># https://agones.dev/docs/reference/gameserver/ for all the options&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">strategy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The replacement strategy for when the GameServer template is changed. Default option is &amp;#34;RollingUpdate&amp;#34;,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;#34;RollingUpdate&amp;#34; will increment by maxSurge value on each iteration, while decrementing by maxUnavailable on each&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># iteration, until all GameServers have been switched from one version to another.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;#34;Recreate&amp;#34; terminates all non-allocated GameServers, and starts up a new set with the new details to replace them.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">RollingUpdate&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Only relevant when `type: RollingUpdate`&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">rollingUpdate&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the amount to increment the new GameServers by. Defaults to 25%&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxSurge&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">25&lt;/span>&lt;span style="color:#000">%&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the amount to decrements GameServers by. Defaults to 25%&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxUnavailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">25&lt;/span>&lt;span style="color:#000">%&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Beta]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:FleetAllocationOverflow]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Labels and/or Annotations to apply to overflowing GameServers when the number of Allocated GameServers is more&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># than the desired replicas on the underlying `GameServerSet`&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">allocationOverflow&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mykey&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">myvalue&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">version&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># empty an existing label value&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">otherkey&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">setthisvalue&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">#&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:CountsAndLists]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Which gameservers in the Fleet are most important to keep around - impacts scale down logic.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># priorities:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - type: Counter # Sort by a “Counter”&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># key: player # The name of the Counter. No impact if no GameServer found.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># order: Descending # Default is &amp;#34;Ascending&amp;#34; so smaller capacity will be removed first on down scaling.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - type: List # Sort by a “List”&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># key: room # The name of the List. No impact if no GameServer found.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># order: Ascending # Default is &amp;#34;Ascending&amp;#34; so smaller capacity will be removed first on down scaling.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># GameServer metadata&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">foo&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">bar&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># GameServer specification&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">portPolicy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Dynamic&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">26000&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">health&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">initialDelaySeconds&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">30&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">periodSeconds&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">60&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Parameters for game server sidecar&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sdkServer&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">logLevel&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Info&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">grpcPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">9357&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">httpPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">9358&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The GameServer&amp;#39;s Pod template&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">us-docker.pkg.dev/codeblind/examples/simple-server:0.27&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Since Code Blind defines a new
&lt;a href="https://kubernetes.io/docs/concepts/api-extension/custom-resources/">Custom Resources Definition (CRD)&lt;/a>
we can define a new resource using the kind &lt;code>Fleet&lt;/code> with the custom group &lt;code>agones.dev&lt;/code> and API
version &lt;code>v1&lt;/code>.&lt;/p>
&lt;p>You can use the metadata field to target a specific
&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/">namespaces&lt;/a> but also
attach specific &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">annotations&lt;/a>
and &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">labels&lt;/a> to your resource.
This is a very common pattern in the Kubernetes ecosystem.&lt;/p>
&lt;p>The length of the &lt;code>name&lt;/code> field of the fleet should be at most 63 characters.&lt;/p>
&lt;p>The &lt;code>spec&lt;/code> field is the actual &lt;code>Fleet&lt;/code> specification and it is composed as follow:&lt;/p>
&lt;ul>
&lt;li>&lt;code>replicas&lt;/code> is the number of &lt;code>GameServers&lt;/code> to keep Ready or Allocated in this Fleet&lt;/li>
&lt;li>&lt;code>scheduling&lt;/code> defines how GameServers are organised across the cluster. Affects backing Pod scheduling, as well as scale
down mechanics.
&amp;ldquo;Packed&amp;rdquo; (default) is aimed at dynamic Kubernetes clusters, such as cloud providers, wherein we want to bin pack
resources. &amp;ldquo;Distributed&amp;rdquo; is aimed at static Kubernetes clusters, wherein we want to distribute resources across the entire
cluster. See &lt;a href="http://localhost:1313/docs/advanced/scheduling-and-autoscaling/">Scheduling and Autoscaling&lt;/a> for more details.&lt;/li>
&lt;li>&lt;code>strategy&lt;/code> is the &lt;code>GameServer&lt;/code> replacement strategy for when the &lt;code>GameServer&lt;/code> template is edited.
&lt;ul>
&lt;li>&lt;code>type&lt;/code> is replacement strategy for when the GameServer template is changed. Default option is &amp;ldquo;RollingUpdate&amp;rdquo;, but &amp;ldquo;Recreate&amp;rdquo; is also available.
&lt;ul>
&lt;li>&lt;code>RollingUpdate&lt;/code> will increment by &lt;code>maxSurge&lt;/code> value on each iteration, while decrementing by &lt;code>maxUnavailable&lt;/code> on each iteration, until all GameServers have been switched from one version to another.&lt;/li>
&lt;li>&lt;code>Recreate&lt;/code> terminates all non-allocated &lt;code>GameServers&lt;/code>, and starts up a new set with the new &lt;code>GameServer&lt;/code> configuration to replace them.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>rollingUpdate&lt;/code> is only relevant when &lt;code>type: RollingUpdate&lt;/code>
&lt;ul>
&lt;li>&lt;code>maxSurge&lt;/code> is the amount to increment the new GameServers by. Defaults to 25%&lt;/li>
&lt;li>&lt;code>maxUnavailable&lt;/code> is the amount to decrements GameServers by. Defaults to 25%&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>allocationOverflow&lt;/code> (Beta, requires &lt;code>FleetAllocationOverflow&lt;/code> flag) The labels and/or Annotations to apply to
GameServers when the number of Allocated GameServers exceeds the desired replicas in the underlying
&lt;code>GameServerSet&lt;/code>.
&lt;ul>
&lt;li>&lt;code>labels&lt;/code> the map of labels to be applied&lt;/li>
&lt;li>&lt;code>annotations&lt;/code> the map of annotations to be applied&lt;/li>
&lt;li>&lt;code>Fleet's Scheduling Strategy&lt;/code>: The GameServers associated with the GameServerSet are sorted based on either &lt;code>Packed&lt;/code> or &lt;code>Distributed&lt;/code> strategy.
&lt;ul>
&lt;li>&lt;code>Packed&lt;/code>: Code Blind maximizes resource utilization by trying to populate nodes that are already in use before allocating GameServers to other nodes.&lt;/li>
&lt;li>&lt;code>Distributed&lt;/code>: Code Blind employs this strategy to spread out GameServer allocations, ensuring an even distribution of GameServers across the available nodes.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>priorities&lt;/code>: (Alpha, requires &lt;code>CountsAndLists&lt;/code> feature flag): Defines which gameservers in the Fleet are most important to keep around - impacts scale down logic.
&lt;ul>
&lt;li>&lt;code>type&lt;/code>: Sort by a &amp;ldquo;Counter&amp;rdquo; or a &amp;ldquo;List&amp;rdquo;.&lt;/li>
&lt;li>&lt;code>key&lt;/code>: The name of the Counter or List. If not found on the GameServer, has no impact.&lt;/li>
&lt;li>&lt;code>order&lt;/code>: Order: Sort by “Ascending” or “Descending”. “Descending” a bigger Capacity is preferred. “Ascending” would be smaller Capacity is preferred.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>template&lt;/code> a full &lt;code>GameServer&lt;/code> configuration template.
See the &lt;a href="http://localhost:1313/docs/reference/gameserver/">GameServer&lt;/a> reference for all available fields.&lt;/li>
&lt;/ul>
&lt;h2 id="fleet-scale-subresource-specification">Fleet Scale Subresource Specification&lt;/h2>
&lt;p>Scale subresource is defined for a Fleet. Please refer to &lt;a href="https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions/#subresources">Kubernetes docs&lt;/a>.&lt;/p>
&lt;p>You can use the following command to scale the fleet with name simple-game-server:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl scale fleet simple-game-server --replicas&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>fleet.agones.dev/simple-game-server scaled
&lt;/code>&lt;/pre>&lt;p>You can also use &lt;a href="http://localhost:1313/docs/guides/access-api/">Kubernetes API&lt;/a> to get or update the Replicas count:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl http://localhost:8001/apis/agones.dev/v1/namespaces/default/fleets/simple-game-server/scale
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>{
&amp;#34;kind&amp;#34;: &amp;#34;Scale&amp;#34;,
&amp;#34;apiVersion&amp;#34;: &amp;#34;autoscaling/v1&amp;#34;,
&amp;#34;metadata&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;simple-game-server&amp;#34;,
&amp;#34;namespace&amp;#34;: &amp;#34;default&amp;#34;,
&amp;#34;selfLink&amp;#34;: &amp;#34;/apis/agones.dev/v1/namespaces/default/fleets/simple-game-server/scale&amp;#34;,
&amp;#34;uid&amp;#34;: &amp;#34;4dfaa310-2566-11e9-afd1-42010a8a0058&amp;#34;,
&amp;#34;resourceVersion&amp;#34;: &amp;#34;292652&amp;#34;,
&amp;#34;creationTimestamp&amp;#34;: &amp;#34;2019-01-31T14:41:33Z&amp;#34;
},
&amp;#34;spec&amp;#34;: {
&amp;#34;replicas&amp;#34;: 10
},
&amp;#34;status&amp;#34;: {
&amp;#34;replicas&amp;#34;: 10
}
&lt;/code>&lt;/pre>&lt;p>Also exposing a Scale subresource would allow you to configure HorizontalPodAutoscaler and PodDisruptionBudget for a fleet in the future. However these features have not been tested, and are not currently supported - but if you are looking for these features, please be sure to let us know in the &lt;a href="https://github.com/googleforgames/agones/issues/553">ticket&lt;/a>.&lt;/p></description></item><item><title>Docs: GameServer Health Checking</title><link>http://localhost:1313/docs/guides/health-checking/</link><pubDate>Thu, 03 Jan 2019 01:20:19 +0000</pubDate><guid>http://localhost:1313/docs/guides/health-checking/</guid><description>
&lt;h2 id="disabling-health-checking">Disabling Health Checking&lt;/h2>
&lt;p>By default, health checking is enabled, but it can be turned off by setting the &lt;code>spec.health.disabled&lt;/code> property to
true.&lt;/p>
&lt;h2 id="sdk-api">SDK API&lt;/h2>
&lt;p>The &lt;code>Health()&lt;/code> function on the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">SDK object&lt;/a> needs to be called at an
interval less than the &lt;code>spec.health.periodSeconds&lt;/code>
threshold time to be considered before it will be considered a &lt;code>failure&lt;/code>.&lt;/p>
&lt;p>The health check will also need to have not been called a consecutive number of times (&lt;code>spec.health.failureThreshold&lt;/code>),
giving it a chance to heal if it there is an issue.&lt;/p>
&lt;h2 id="health-failure-strategy">Health Failure Strategy&lt;/h2>
&lt;p>The following is the process for what happens to a &lt;code>GameServer&lt;/code> when it is unhealthy.&lt;/p>
&lt;ol>
&lt;li>If the &lt;code>GameServer&lt;/code> container exits with an error before the &lt;code>GameServer&lt;/code> moves to &lt;code>Ready&lt;/code> then,
it is restarted as per the &lt;code>restartPolicy&lt;/code> (which defaults to &amp;ldquo;Always&amp;rdquo;).&lt;/li>
&lt;li>If the &lt;code>GameServer&lt;/code> fails health checking at any point, then it doesn&amp;rsquo;t restart,
but moves to an &lt;code>Unhealthy&lt;/code> state.&lt;/li>
&lt;li>If the &lt;code>GameServer&lt;/code> container exits while in &lt;code>Ready&lt;/code>, &lt;code>Allocated&lt;/code> or &lt;code>Reserved&lt;/code> state, it will be restarted
as per the &lt;code>restartPolicy&lt;/code> (which defaults to &amp;ldquo;Always&amp;rdquo;, since &lt;code>RestartPolicy&lt;/code> is a &lt;code>Pod&lt;/code> wide setting),
but will immediately move to an &lt;code>Unhealthy&lt;/code> state.&lt;/li>
&lt;li>If the SDK sidecar fails, then it will be restarted, assuming the &lt;code>RestartPolicy&lt;/code> is Always/OnFailure.&lt;/li>
&lt;/ol>
&lt;h2 id="fleet-management-of-unhealthy-gameservers">Fleet Management of Unhealthy GameServers&lt;/h2>
&lt;p>If a &lt;code>GameServer&lt;/code> moves into an &lt;code>Unhealthy&lt;/code> state when it is not part of a Fleet, the &lt;code>GameServer&lt;/code> will remain in the
Unhealthy state until explicitly deleted. This is useful for debugging &lt;code>Unhealthy&lt;/code> &lt;code>GameServers&lt;/code>, or if you are
creating your own &lt;code>GameServer&lt;/code> management layer, you can explicitly choose what to do if a &lt;code>GameServer&lt;/code> becomes
&lt;code>Unhealthy&lt;/code>.&lt;/p>
&lt;p>If a &lt;code>GameServer&lt;/code> is part of a &lt;code>Fleet&lt;/code>, the &lt;code>Fleet&lt;/code> management system will &lt;em>delete&lt;/em> any &lt;code>Unhealthy&lt;/code> &lt;code>GameServers&lt;/code> and
immediately replace them with a brand new &lt;code>GameServer&lt;/code> to ensure it has the configured number of Replicas.&lt;/p>
&lt;h2 id="configuration-reference">Configuration Reference&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Health checking for the running game server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">health&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Disable health checking. defaults to false, but can be set to true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disabled&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Number of seconds after the container has started before health check is initiated. Defaults to 5 seconds&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">initialDelaySeconds&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># If the `Health()` function doesn&amp;#39;t get called at least once every period (seconds), then&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the game server is not healthy. Defaults to 5&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">periodSeconds&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Minimum consecutive failures for the health probe to be considered failed after having succeeded.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Defaults to 3. Minimum value is 1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">failureThreshold&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">3&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>See the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>full GameServer example&lt;/a> for more details&lt;/p>
&lt;h2 id="example">Example&lt;/h2>
&lt;h3 id="c">C++&lt;/h3>
&lt;p>For a configuration that requires a health ping every 5 seconds, the example below sends a request every 2 seconds
to be sure that the GameServer is under the threshold.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">void&lt;/span> &lt;span style="color:#000">doHealth&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">SDK&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">while&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87">true&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">!&lt;/span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">Health&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">cout&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Health ping failed&amp;#34;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">endl&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span> &lt;span style="color:#204a87;font-weight:bold">else&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">cout&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Health ping sent&amp;#34;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">endl&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">this_thread&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">sleep_for&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">chrono&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">seconds&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">2&lt;/span>&lt;span style="color:#000;font-weight:bold">));&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">int&lt;/span> &lt;span style="color:#000">main&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">SDK&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">sdk&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">new&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">SDK&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">connected&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">Connect&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">!&lt;/span>&lt;span style="color:#000">connected&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#204a87;font-weight:bold">thread&lt;/span> &lt;span style="color:#000">health&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">doHealth&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// ... run the game server code
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="full-game-server">Full Game Server&lt;/h3>
&lt;p>Also look in the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>examples&lt;/a> directory.&lt;/p></description></item><item><title>Docs: C++ Game Server Client SDK</title><link>http://localhost:1313/docs/guides/client-sdks/cpp/</link><pubDate>Wed, 02 Jan 2019 10:17:50 +0000</pubDate><guid>http://localhost:1313/docs/guides/client-sdks/cpp/</guid><description>
&lt;p>Check the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK Documentation&lt;/a> for more details on each of the SDK functions and how to run the SDK locally.&lt;/p>
&lt;h2 id="sdk-functionality">SDK Functionality&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Area&lt;/th>
&lt;th>Action&lt;/th>
&lt;th>Implemented&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Ready&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Health&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Reserve&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Allocate&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Shutdown&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>GameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>WatchGameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetAnnotation&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetLabel&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>IncrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>DecrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>AppendListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>DeleteListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>SetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>ListContains&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListLength&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListValues&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;h3 id="download">Download&lt;/h3>
&lt;p>Download the source from the &lt;a href="https://github.com/googleforgames/agones/releases">Releases Page&lt;/a> or
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>directly from GitHub&lt;/a>.&lt;/p>
&lt;h3 id="building-the-libraries-from-source">Building the Libraries from source&lt;/h3>
&lt;p>CMake is used to build SDK for all supported platforms (Linux/Window/macOS).&lt;/p>
&lt;h3 id="prerequisites">Prerequisites&lt;/h3>
&lt;ul>
&lt;li>CMake &amp;gt;= 3.15.0&lt;/li>
&lt;li>Git&lt;/li>
&lt;li>C++17 compiler&lt;/li>
&lt;/ul>
&lt;h3 id="dependencies">Dependencies&lt;/h3>
&lt;p>Code Blind SDK only depends on the &lt;a href="https://grpc.io/">gRPC&lt;/a> library.&lt;/p>
&lt;p>If CMake cannot find gRPC with find_package(), it downloads and builds gRPC.
There are some extra prerequisites for OpenSSL on Windows, see &lt;a href="https://github.com/openssl/openssl/blob/OpenSSL_1_1_1-stable/NOTES.WIN">documentation&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>Perl&lt;/li>
&lt;li>NASM&lt;/li>
&lt;/ul>
&lt;p>Note that OpenSSL is not used in Code Blind SDK, but it is required to have a successful build of gRPC.&lt;/p>
&lt;h2 id="options">Options&lt;/h2>
&lt;p>Following options are available:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>AGONES_THIRDPARTY_INSTALL_PATH&lt;/strong> (default is CMAKE_INSTALL_PREFIX) - installation path for Code Blind prerequisites (used only if gRPC and Protobuf are not found by find_package)&lt;/li>
&lt;li>&lt;strong>AGONES_ZLIB_STATIC&lt;/strong> (default is ON) - use static version of zlib for gRPC&lt;/li>
&lt;/ul>
&lt;p>(Windows only):&lt;/p>
&lt;ul>
&lt;li>&lt;strong>AGONES_BUILD_THIRDPARTY_DEBUG&lt;/strong> (default is OFF) - build both debug and release versions of SDK&amp;rsquo;s prerequisites. Option is not used if you already have built gRPC.&lt;/li>
&lt;li>&lt;strong>AGONES_OPENSSL_CONFIG_STRING&lt;/strong> (default is VC-WIN64A) - arguments to configure OpenSSL build (&lt;a href="https://github.com/openssl/openssl/blob/OpenSSL_1_1_1-stable/INSTALL">documentation&lt;/a>). Used only if OpenSSL and gRPC is built by Code Blind.&lt;/li>
&lt;/ul>
&lt;h2 id="linux--macos">Linux / MacOS&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>mkdir -p .build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">cd&lt;/span> .build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cmake .. -DCMAKE_BUILD_TYPE&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>Release -G &lt;span style="color:#4e9a06">&amp;#34;Unix Makefiles&amp;#34;&lt;/span> -DCMAKE_INSTALL_PREFIX&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>./install
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cmake --build . --target install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="windows">Windows&lt;/h2>
&lt;p>Building with Visual Studio:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>md .build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">cd&lt;/span> .build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cmake .. -G &lt;span style="color:#4e9a06">&amp;#34;Visual Studio 15 2017 Win64&amp;#34;&lt;/span> -DCMAKE_INSTALL_PREFIX&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>./install
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cmake --build . --config Release --target install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Building with NMake&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>md .build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87">cd&lt;/span> .build
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cmake .. -G &lt;span style="color:#4e9a06">&amp;#34;NMake Makefiles&amp;#34;&lt;/span> -DCMAKE_BUILD_TYPE&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>Release -DCMAKE_INSTALL_PREFIX&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>./install
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cmake --build . --target install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>CMAKE_INSTALL_PREFIX&lt;/strong> may be skipped if it is OK to install Code Blind SDK to a default location (usually /usr/local or c:/Program Files/Code Blind).&lt;/p>
&lt;p>CMake option &lt;code>-Wno-dev&lt;/code> is specified to suppress &lt;a href="https://cmake.org/cmake/help/v3.13/policy/CMP0048.html">CMP0048&lt;/a> deprecation warning for gRPC build.&lt;/p>
&lt;p>If &lt;strong>AGONES_ZLIB_STATIC&lt;/strong> is set to OFF, ensure that you have installed zlib. For Windows, it&amp;rsquo;s enough to copy zlib.dll near to gameserver executable. For Linux/Mac usually no actions are needed.&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;h3 id="using-sdk">Using SDK&lt;/h3>
&lt;p>In CMake-based projects it&amp;rsquo;s enough to specify a folder where SDK is installed with &lt;code>CMAKE_PREFIX_PATH&lt;/code> and use &lt;code>find_package(agones CONFIG REQUIRED)&lt;/code> command. For example:
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>cpp-simple&lt;/a>.
It may be useful to disable some &lt;a href="https://github.com/protocolbuffers/protobuf/blob/master/cmake/README.md#notes-on-compiler-warnings">protobuf warnings&lt;/a> in your project.&lt;/p>
&lt;h2 id="usage-1">Usage&lt;/h2>
&lt;p>The C++ SDK is specifically designed to be as simple as possible, and deliberately doesn&amp;rsquo;t include any kind
of singleton management, or threading/asynchronous processing to allow developers to manage these aspects as they deem
appropriate for their system.&lt;/p>
&lt;p>We may consider these types of features in the future, depending on demand.&lt;/p>
&lt;p>To begin working with the SDK, create an instance of it:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">SDK&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">sdk&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">new&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">SDK&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To connect to the SDK server, either local or when running on Code Blind, run the &lt;code>sdk-&amp;gt;Connect()&lt;/code> method.
This will block for up to 30 seconds if the SDK server has not yet started and the connection cannot be made,
and will return &lt;code>false&lt;/code> if there was an issue connecting.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">Connect&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To send a &lt;a href="http://localhost:1313/docs/guides/client-sdks/#health">health check&lt;/a> call &lt;code>sdk-&amp;gt;Health()&lt;/code>. This is a synchronous request that will
return &lt;code>false&lt;/code> if it has failed in any way. Read &lt;a href="http://localhost:1313/docs/guides/health-checking/">GameServer Health Checking&lt;/a> for more
details on the game server health checking strategy.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">Health&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark the game server as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#ready">ready to receive player connections&lt;/a>, call &lt;code>sdk-&amp;gt;Ready()&lt;/code>.
This will return a grpc::Status object, from which we can call &lt;code>status.ok()&lt;/code> to determine
if the function completed successfully.&lt;/p>
&lt;p>For more information you can also look at the &lt;a href="https://grpc.io/grpc/cpp/classgrpc_1_1_status.html">gRPC Status reference&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">grpc&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">Status&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">Ready&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">!&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ok&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000;font-weight:bold">...&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark the game server as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#allocate">allocated&lt;/a>, call &lt;code>sdk-&amp;gt;Allocate()&lt;/code>.
This will return a grpc::Status object, from which we can call &lt;code>status.ok()&lt;/code> to determine
if the function completed successfully.&lt;/p>
&lt;p>For more information you can also look at the &lt;a href="https://grpc.io/grpc/cpp/classgrpc_1_1_status.html">gRPC Status reference&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">grpc&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">Status&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">Allocate&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">!&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ok&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000;font-weight:bold">...&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark the game server as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#reserveseconds">reserved&lt;/a>, call
&lt;code>sdk-&amp;gt;Reserve(seconds)&lt;/code>. This will return a grpc::Status object, from which we can call &lt;code>status.ok()&lt;/code> to determine
if the function completed successfully.&lt;/p>
&lt;p>For more information you can also look at the &lt;a href="https://grpc.io/grpc/cpp/classgrpc_1_1_status.html">gRPC Status reference&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">grpc&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">Status&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">Reserve&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">chrono&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">seconds&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">N&lt;/span>&lt;span style="color:#000;font-weight:bold">));&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">!&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ok&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000;font-weight:bold">...&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark that the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#shutdown">game session is completed&lt;/a> and the game server should be shut down call &lt;code>sdk-&amp;gt;Shutdown()&lt;/code>.
This will return a grpc::Status object, from which we can call &lt;code>status.ok()&lt;/code> to determine
if the function completed successfully.&lt;/p>
&lt;p>For more information you can also look at the &lt;a href="https://grpc.io/grpc/cpp/classgrpc_1_1_status.html">gRPC Status reference&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">grpc&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">Status&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">Shutdown&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">!&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ok&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000;font-weight:bold">...&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To &lt;a href="http://localhost:1313/docs/guides/client-sdks/#setlabelkey-value">set a Label&lt;/a> on the backing &lt;code>GameServer&lt;/code> call
&lt;code>sdk-&amp;gt;SetLabel(key, value)&lt;/code>.
This will return a grpc::Status object, from which we can call &lt;code>status.ok()&lt;/code> to determine
if the function completed successfully.&lt;/p>
&lt;p>For more information you can also look at the &lt;a href="https://grpc.io/grpc/cpp/classgrpc_1_1_status.html">gRPC Status reference&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">grpc&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">Status&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">SetLabel&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;test-label&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;test-value&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">!&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ok&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000;font-weight:bold">...&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To &lt;a href="http://localhost:1313/docs/guides/client-sdks/#setannotationkey-value">set an Annotation&lt;/a> on the backing &lt;code>GameServer&lt;/code> call
&lt;code>sdk-&amp;gt;SetAnnotation(key, value)&lt;/code>.
This will return a grpc::Status object, from which we can call &lt;code>status.ok()&lt;/code> to determine
if the function completed successfully.&lt;/p>
&lt;p>For more information you can also look at the &lt;a href="https://grpc.io/grpc/cpp/classgrpc_1_1_status.html">gRPC Status reference&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">status&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">SetAnnotation&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;test-annotation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;test value&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">!&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ok&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000;font-weight:bold">...&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To get the details on the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#gameserver">backing &lt;code>GameServer&lt;/code>&lt;/a> call &lt;code>sdk-&amp;gt;GameServer(&amp;amp;gameserver)&lt;/code>,
passing in a &lt;code>agones::dev::sdk::GameServer*&lt;/code> to push the results of the &lt;code>GameServer&lt;/code> configuration into.&lt;/p>
&lt;p>This function will return a grpc::Status object, from which we can call &lt;code>status.ok()&lt;/code> to determine
if the function completed successfully.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">dev&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">GameServer&lt;/span> &lt;span style="color:#000">gameserver&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">grpc&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">Status&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">GameServer&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">gameserver&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">!&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ok&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span> &lt;span style="color:#000;font-weight:bold">{...}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To get &lt;a href="http://localhost:1313/docs/guides/client-sdks/#watchgameserverfunctiongameserver">updates on the backing &lt;code>GameServer&lt;/code>&lt;/a> as they happen,
call &lt;code>sdk-&amp;gt;WatchGameServer([](const agones::dev::sdk::GameServer&amp;amp; gameserver){...})&lt;/code>.&lt;/p>
&lt;p>This will call the passed in &lt;code>std::function&lt;/code>
synchronously (this is a blocking function, so you may want to run it in its own thread) whenever the backing &lt;code>GameServer&lt;/code>
is updated.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#000">WatchGameServer&lt;/span>&lt;span style="color:#000;font-weight:bold">([](&lt;/span>&lt;span style="color:#204a87;font-weight:bold">const&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">dev&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">GameServer&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span> &lt;span style="color:#000">gameserver&lt;/span>&lt;span style="color:#000;font-weight:bold">){&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">cout&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;GameServer Update:&lt;/span>&lt;span style="color:#4e9a06">\n&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span> &lt;span style="color:#8f5902;font-style:italic">//
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#4e9a06">\t&lt;/span>&lt;span style="color:#4e9a06">name: &amp;#34;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#000">gameserver&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">object_meta&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#4e9a06">\n&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span> &lt;span style="color:#8f5902;font-style:italic">//
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#4e9a06">\t&lt;/span>&lt;span style="color:#4e9a06">state: &amp;#34;&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#000">gameserver&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">state&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#4e9a06">\n&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#000">std&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">::&lt;/span>&lt;span style="color:#000">flush&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Read the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">SDK Overview&lt;/a> to review all SDK functionality&lt;/li>
&lt;li>Look at the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>C++ example for a full build template&lt;/a>.&lt;/li>
&lt;li>Check out
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>sdk.h&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Quickstart: Create a Game Server Fleet</title><link>http://localhost:1313/docs/getting-started/create-fleet/</link><pubDate>Wed, 02 Jan 2019 06:42:20 +0000</pubDate><guid>http://localhost:1313/docs/getting-started/create-fleet/</guid><description>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;p>The following prerequisites are required to create a GameServer:&lt;/p>
&lt;ol>
&lt;li>A Kubernetes cluster with the UDP port range 7000-8000 open on each node.&lt;/li>
&lt;li>Code Blind controller installed in the targeted cluster&lt;/li>
&lt;li>kubectl properly configured&lt;/li>
&lt;li>Netcat which is already installed on most Linux/macOS distributions, for windows you can use &lt;a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">WSL&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>If you don’t have a Kubernetes cluster you can follow &lt;a href="http://localhost:1313/docs/installation/">these instructions&lt;/a> to create a cluster on Google Kubernetes Engine (GKE), Minikube or Azure Kubernetes Service (AKS), and install Code Blind.&lt;/p>
&lt;p>For the purpose of this guide we’re going to use the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/examples/simple-game-server/" target="_blank" data-proofer-ignore>simple-game-server&lt;/a>
example as the GameServer container. This example is a very simple UDP server written in Go. Don’t hesitate to look at the code of this example for more information.&lt;/p>
&lt;p>While not required, you may wish to go through the &lt;a href="http://localhost:1313/docs/getting-started/create-gameserver/">Create a Game Server&lt;/a> quickstart before this one.&lt;/p>
&lt;h2 id="objectives">Objectives&lt;/h2>
&lt;ul>
&lt;li>Create a &lt;a href="https://agones.dev/docs/reference/fleet/">Fleet&lt;/a> in Kubernetes using an Code Blind custom resource.&lt;/li>
&lt;li>Scale the Fleet up from its initial configuration.&lt;/li>
&lt;li>Request a GameServer allocation from the Fleet to play on.&lt;/li>
&lt;li>Connect to the allocated GameServer.&lt;/li>
&lt;li>Deploy a new GameServer configuration to the Fleet.&lt;/li>
&lt;/ul>
&lt;h3 id="1-create-a-fleet">1. Create a Fleet&lt;/h3>
&lt;p>Let&amp;rsquo;s create a Fleet using the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/fleet.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see a successful output similar to this :&lt;/p>
&lt;pre tabindex="0">&lt;code>fleet.agones.dev/simple-game-server created
&lt;/code>&lt;/pre>&lt;p>This has created a Fleet record inside Kubernetes, which in turn creates two warm &lt;a href="http://localhost:1313/docs/reference/gameserver/">GameServers&lt;/a>
that are available to be allocated for a game session.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get fleet
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It should look something like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME SCHEDULING DESIRED CURRENT ALLOCATED READY AGE
simple-game-server Packed 2 3 0 2 9m
&lt;/code>&lt;/pre>&lt;p>You can also see the GameServers that have been created by the Fleet by running &lt;code>kubectl get gameservers&lt;/code>,
the GameServer will be prefixed by &lt;code>simple-game-server&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-llg4x-rx6rc Ready 192.168.122.205 7752 minikube 9m
simple-game-server-llg4x-v6g2r Ready 192.168.122.205 7623 minikube 9m
&lt;/code>&lt;/pre>&lt;p>For the full details of the YAML file head to the &lt;a href="http://localhost:1313/docs/reference/fleet/">Fleet Specification Guide&lt;/a>&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
The game servers deployed from a &lt;code>Fleet&lt;/code> resource will be deployed in the same namespace. The above example omits specifying a namespace, which implies both the &lt;code>Fleet&lt;/code> and the associated &lt;code>GameServer&lt;/code> resources will be deployed to the &lt;code>default&lt;/code> namespace.
&lt;/div>
&lt;h3 id="2-fetch-the-fleet-status">2. Fetch the Fleet status&lt;/h3>
&lt;p>Let&amp;rsquo;s wait for the two &lt;code>GameServers&lt;/code> to become ready.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>watch kubectl describe fleet simple-game-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>Name: simple-game-server
Namespace: default
Labels: &amp;lt;none&amp;gt;
Annotations: kubectl.kubernetes.io/last-applied-configuration={&amp;#34;apiVersion&amp;#34;:&amp;#34;agones.dev/v1&amp;#34;,&amp;#34;kind&amp;#34;:&amp;#34;Fleet&amp;#34;,&amp;#34;metadata&amp;#34;:{&amp;#34;annotations&amp;#34;:{},&amp;#34;name&amp;#34;:&amp;#34;simple-game-server&amp;#34;,&amp;#34;namespace&amp;#34;:&amp;#34;default&amp;#34;},&amp;#34;spec&amp;#34;:{&amp;#34;replicas&amp;#34;:2,...
API Version: agones.dev/v1
Kind: Fleet
Metadata:
Cluster Name:
Creation Timestamp: 2018-07-01T18:55:35Z
Generation: 1
Resource Version: 24685
Self Link: /apis/agones.dev/v1/namespaces/default/fleets/simple-game-server
UID: 56710a91-7d60-11e8-b2dd-08002703ef08
Spec:
Replicas: 2
Strategy:
Rolling Update:
Max Surge: 25%
Max Unavailable: 25%
Type: RollingUpdate
Template:
Metadata:
Creation Timestamp: &amp;lt;nil&amp;gt;
Spec:
Health:
Ports:
Container Port: 7654
Name: default
Port Policy: Dynamic
Template:
Metadata:
Creation Timestamp: &amp;lt;nil&amp;gt;
Spec:
Containers:
Image: us-docker.pkg.dev/codeblind/examples/simple-server:0.27
Name: simple-game-server
Resources:
Status:
Allocated Replicas: 0
Ready Replicas: 2
Replicas: 2
Events:
Type Reason Age From Message
---- ------ ---- ---- -------
Normal CreatingGameServerSet 13s fleet-controller Created GameServerSet simple-game-server-wlqnd
&lt;/code>&lt;/pre>&lt;p>If you look towards the bottom, you can see there is a section of &lt;code>Status &amp;gt; Ready Replicas&lt;/code> which will tell you
how many &lt;code>GameServers&lt;/code> are currently in a Ready state. After a short period, there should be 2 &lt;code>Ready Replicas&lt;/code>.&lt;/p>
&lt;h3 id="3-scale-up-the-fleet">3. Scale up the Fleet&lt;/h3>
&lt;p>Let&amp;rsquo;s scale up the &lt;code>Fleet&lt;/code> from 2 &lt;code>replicates&lt;/code> to 5.&lt;/p>
&lt;p>Run &lt;code>kubectl scale fleet simple-game-server --replicas=5&lt;/code> to change Replicas count from 2 to 5.&lt;/p>
&lt;p>If we now run &lt;code>kubectl get gameservers&lt;/code> we should see 5 &lt;code>GameServers&lt;/code> prefixed by &lt;code>simple-game-server&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-sdhzn-kcmh6 Ready 192.168.122.205 7191 minikube 52m
simple-game-server-sdhzn-pdpk5 Ready 192.168.122.205 7752 minikube 53m
simple-game-server-sdhzn-r4d6x Ready 192.168.122.205 7623 minikube 52m
simple-game-server-sdhzn-wng5k Ready 192.168.122.205 7709 minikube 53m
simple-game-server-sdhzn-wnhsw Ready 192.168.122.205 7478 minikube 52m
&lt;/code>&lt;/pre>&lt;h3 id="4-allocate-a-game-server-from-the-fleet">4. Allocate a Game Server from the Fleet&lt;/h3>
&lt;p>Since we have a fleet of warm gameservers, we need a way to request one of them for usage, and mark that it has
players accessing it (and therefore, it should not be deleted until they are finished with it).&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
In production, you would likely do the following through a &lt;a href="http://localhost:1313/docs/guides/access-api/">Kubernetes API call&lt;/a>, but we can also
do this through &lt;code>kubectl&lt;/code> as well, and ask it to return the response in yaml so that we can see what has happened.
&lt;/div>
&lt;p>We can do the allocation of a GameServer for usage through a &lt;code>GameServerAllocation&lt;/code>, which will both
return to us the details of a &lt;code>GameServer&lt;/code> (assuming one is available), and also move it to the &lt;code>Allocated&lt;/code> state,
which demarcates that it has players on it, and should not be removed until &lt;code>SDK.Shutdown()&lt;/code> is called, or it is manually deleted.&lt;/p>
&lt;p>It is worth noting that there is nothing specific that ties a &lt;code>GameServerAllocation&lt;/code> to a fleet.
A &lt;code>GameServerAllocation&lt;/code> uses a &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">label selector&lt;/a>
to determine what group of &lt;code>GameServers&lt;/code> it will attempt to allocate out of. That being said, a &lt;code>Fleet&lt;/code> and &lt;code>GameServerAllocation&lt;/code>
are often used in conjunction.&lt;/p>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>This example&lt;/a> uses the label selector to specifically target the &lt;code>simple-game-server&lt;/code> fleet that we just created.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/gameserverallocation.yaml -o yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For the full details of the YAML file head to the &lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">GameServerAllocation Specification Guide&lt;/a>&lt;/p>
&lt;p>You should get back a response that looks like the following:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">allocation.agones.dev/v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServerAllocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">creationTimestamp&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">2019-02-19T02:13:12Z&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server-dph9b-hfk24&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">namespace&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">required&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">scheduling&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Packed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">status&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">address&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">192.168.122.152&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">gameServerName&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server-dph9b-hfk24&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">nodeName&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">minikube&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">port&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7714&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">state&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Allocated&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you look at the &lt;code>status&lt;/code> section, there are several things to take note of. The &lt;code>state&lt;/code> value will tell if
a &lt;code>GameServer&lt;/code> was allocated or not. If a &lt;code>GameServer&lt;/code> could not be found, this will be set to &lt;code>UnAllocated&lt;/code>.
If there are too many concurrent requests overwhelmed the system, &lt;code>state&lt;/code> will be set to
&lt;code>Contention&lt;/code> even though there are available &lt;code>GameServers&lt;/code>.&lt;/p>
&lt;p>However, we see that the &lt;code>status.state&lt;/code> value was set to &lt;code>Allocated&lt;/code>.
This means you have been successfully allocated a &lt;code>GameServer&lt;/code> out of the fleet, and you can now connect your players to it!&lt;/p>
&lt;p>You can see various immutable details of the &lt;code>GameServer&lt;/code> in the status - the &lt;code>address&lt;/code>, &lt;code>ports&lt;/code> and the name
of the &lt;code>GameServer&lt;/code>, in case you want to use it to retrieve more details.&lt;/p>
&lt;p>We can also check to see how many &lt;code>GameServers&lt;/code> you have &lt;code>Allocated&lt;/code> vs &lt;code>Ready&lt;/code> with the following command
(&amp;ldquo;gs&amp;rdquo; is shorthand for &amp;ldquo;gameserver&amp;rdquo;).&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will get you a list of all the current &lt;code>GameServers&lt;/code> and their &lt;code>Status.State&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-sdhzn-kcmh6 Ready 192.168.122.205 7191 minikube 52m
simple-game-server-sdhzn-pdpk5 Ready 192.168.122.205 7752 minikube 53m
simple-game-server-sdhzn-r4d6x Allocated 192.168.122.205 7623 minikube 52m
simple-game-server-sdhzn-wng5k Ready 192.168.122.205 7709 minikube 53m
simple-game-server-sdhzn-wnhsw Ready 192.168.122.205 7478 minikube 52m
&lt;/code>&lt;/pre>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;code>GameServerAllocations&lt;/code> are create only and not stored for performance reasons, so you won&amp;rsquo;t be able to list
them after they have been created - but you can see their effects on &lt;code>GameServers&lt;/code>
&lt;/div>
&lt;p>A handy trick for checking to see how many &lt;code>GameServers&lt;/code> you have &lt;code>Allocated&lt;/code> vs &lt;code>Ready&lt;/code>, run the following:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will get you a list of all the current &lt;code>GameServers&lt;/code> and their &lt;code>Status &amp;gt; State&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-tfqn7-c9tqz Ready 192.168.39.150 7136 minikube 52m
simple-game-server-tfqn7-g8fhq Allocated 192.168.39.150 7148 minikube 53m
simple-game-server-tfqn7-p8wnl Ready 192.168.39.150 7453 minikube 52m
simple-game-server-tfqn7-t6bwp Ready 192.168.39.150 7228 minikube 53m
simple-game-server-tfqn7-wkb7b Ready 192.168.39.150 7226 minikube 52m
&lt;/code>&lt;/pre>&lt;h3 id="5-scale-down-the-fleet">5. Scale down the Fleet&lt;/h3>
&lt;p>Not only can we scale our fleet up, but we can scale it down as well.&lt;/p>
&lt;p>The nice thing about Code Blind is that it is smart enough to know when &lt;code>GameServers&lt;/code> have been moved to &lt;code>Allocated&lt;/code>
and will automatically leave them running on scale down &amp;ndash; as we assume that players are playing on this game server,
and we shouldn&amp;rsquo;t disconnect them!&lt;/p>
&lt;p>Let&amp;rsquo;s scale down our Fleet to 0 (yep! you can do that!), and watch what happens.&lt;/p>
&lt;p>Run &lt;code>kubectl scale fleet simple-game-server --replicas=0&lt;/code> to change Replicas count from 5 to 0.&lt;/p>
&lt;p>It may take a moment for all the &lt;code>GameServers&lt;/code> to shut down, so let&amp;rsquo;s watch them all and see what happens:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>watch kubectl get gs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Eventually, one by one they will be removed from the list, and you should simply see:&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATUS ADDRESS PORT NODE AGE
simple-game-server-tfqn7-g8fhq Allocated 192.168.39.150 7148 minikube 55m
&lt;/code>&lt;/pre>&lt;p>That lone &lt;code>Allocated&lt;/code> &lt;code>GameServer&lt;/code> is left all alone, but still running!&lt;/p>
&lt;p>If you would like, try editing the &lt;code>Fleet&lt;/code> configuration &lt;code>replicas&lt;/code> field and watch the list of &lt;code>GameServers&lt;/code>
grow and shrink.&lt;/p>
&lt;h3 id="6-connect-to-the-gameserver">6. Connect to the GameServer&lt;/h3>
&lt;p>Since we&amp;rsquo;ve only got one allocation, we&amp;rsquo;ll just grab the details of the IP and port of the
only allocated &lt;code>GameServer&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gameservers &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep Allocated &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk &lt;span style="color:#4e9a06">&amp;#39;{print $3&amp;#34;:&amp;#34;$4 }&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This should output your Game Server IP address and port. (eg &lt;code>10.130.65.208:7936&lt;/code>)&lt;/p>
&lt;p>You can now communicate with the &lt;code>GameServer&lt;/code>:&lt;/p>
&lt;pre tabindex="0">&lt;code>nc -u {IP} {PORT}
Hello World !
ACK: Hello World !
EXIT
&lt;/code>&lt;/pre>&lt;p>You can finally type &lt;code>EXIT&lt;/code> which tells the SDK to run the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#shutdown">Shutdown command&lt;/a>, and therefore shuts down the &lt;code>GameServer&lt;/code>.&lt;/p>
&lt;p>If you run &lt;code>kubectl describe gs | grep State&lt;/code> again - either the GameServer will be replaced with a new, &lt;code>Ready&lt;/code> &lt;code>GameServer&lt;/code>
, or it will be in &lt;code>Shutdown&lt;/code> state, on the way to being deleted.&lt;/p>
&lt;p>Since we are running a &lt;code>Fleet&lt;/code>, Code Blind will always do it&amp;rsquo;s best to ensure there are always the configured number
of &lt;code>GameServers&lt;/code> in the pool in either a &lt;code>Ready&lt;/code> or &lt;code>Allocated&lt;/code> state.&lt;/p>
&lt;h3 id="7-deploy-a-new-version-of-the-gameserver-on-the-fleet">7. Deploy a new version of the GameServer on the Fleet&lt;/h3>
&lt;p>We can also change the configuration of the &lt;code>GameServer&lt;/code> of the running &lt;code>Fleet&lt;/code>, and have the changes
roll out, without interrupting the currently &lt;code>Allocated&lt;/code> &lt;code>GameServers&lt;/code>.&lt;/p>
&lt;p>Let&amp;rsquo;s take this for a spin! Run &lt;code>kubectl scale fleet simple-game-server --replicas=5&lt;/code> to return Replicas count back to 5.&lt;/p>
&lt;p>Let&amp;rsquo;s also allocate ourselves a &lt;code>GameServer&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/gameserverallocation.yaml -o yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>We should now have four &lt;code>Ready&lt;/code> &lt;code>GameServers&lt;/code> and one &lt;code>Allocated&lt;/code>.&lt;/p>
&lt;p>We can check this by running &lt;code>kubectl get gs&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-tfqn7-c9tz7 Ready 192.168.39.150 7136 minikube 5m
simple-game-server-tfqn7-g8fhq Allocated 192.168.39.150 7148 minikube 5m
simple-game-server-tfqn7-n0wnl Ready 192.168.39.150 7453 minikube 5m
simple-game-server-tfqn7-hiiwp Ready 192.168.39.150 7228 minikube 5m
simple-game-server-tfqn7-w8z7b Ready 192.168.39.150 7226 minikube 5m
&lt;/code>&lt;/pre>&lt;p>In production, we&amp;rsquo;d likely be changing a &lt;code>containers &amp;gt; image&lt;/code> configuration to update our &lt;code>Fleet&lt;/code>
to run a new game server process, but to make this example simple, change &lt;code>containerPort&lt;/code> from &lt;code>7654&lt;/code>
to &lt;code>6000&lt;/code>.&lt;/p>
&lt;p>Run &lt;code>kubectl edit fleet simple-game-server&lt;/code>, and make the necessary changes, and then save and exit your editor.&lt;/p>
&lt;p>This will start the deployment of a new set of &lt;code>GameServers&lt;/code> running
with a Container Port of &lt;code>6000&lt;/code>.&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
This will make it such that you can no longer connect to the simple-game-server game server.
&lt;/div>
&lt;p>Run &lt;code>kubectl describe gs | grep &amp;quot;Container Port&amp;quot;&lt;/code>
until you can see that there is
one with a containerPort of &lt;code>7654&lt;/code>, which is the &lt;code>Allocated&lt;/code> &lt;code>GameServer&lt;/code>, and four instances with a containerPort of &lt;code>6000&lt;/code> which
is the new configuration. You can also run &lt;code>kubectl get gs&lt;/code> and look at the &lt;strong>Age&lt;/strong> column to see that one &lt;code>GameServer&lt;/code> is much
older than the other four.&lt;/p>
&lt;p>You have now deployed a new version of your game!&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Have a look at the &lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">GameServerAllocation specification&lt;/a>, and see
how the extra functionality can enable smoke testing, server information communication, and more.&lt;/li>
&lt;li>You can now create a fleet autoscaler to automatically resize your fleet based on the actual usage.
See &lt;a href="http://localhost:1313/docs/getting-started/create-fleetautoscaler/">Create a Fleet Autoscaler&lt;/a>.&lt;/li>
&lt;li>Have a look at the &lt;a href="http://localhost:1313/docs/integration-patterns/">GameServer Integration Patterns&lt;/a>,
to give you a set of examples on how all the pieces fit together with your matchmaker and other systems.&lt;/li>
&lt;li>Or if you want to try to use your own GameServer container make sure you have properly integrated the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Code Blind SDK&lt;/a>.&lt;/li>
&lt;li>If you would like to learn how to programmatically allocate a Game Server from the fleet, see how to &lt;a href="http://localhost:1313/docs/guides/access-api/">Access Code Blind via the Kubernetes API&lt;/a> or alternatively use the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">Allocator Service&lt;/a>, depending on your needs.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Amazon Elastic Kubernetes Service</title><link>http://localhost:1313/docs/installation/creating-cluster/eks/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/creating-cluster/eks/</guid><description>
&lt;p>Create your EKS Cluster using the &lt;a href="https://docs.aws.amazon.com/eks/latest/userguide/getting-started.html">Getting Started Guide&lt;/a>.&lt;/p>
&lt;p>Possible steps are the following:&lt;/p>
&lt;ol>
&lt;li>Create new IAM role for cluster management.&lt;/li>
&lt;li>Run &lt;code>aws configure&lt;/code> to authorize your &lt;code>awscli&lt;/code> with proper &lt;code>AWS Access Key ID&lt;/code> and &lt;code>AWS Secret Access Key&lt;/code>.&lt;/li>
&lt;li>Create an example cluster:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>eksctl create cluster &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--name prod &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--version 1.28 &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--nodegroup-name standard-workers &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--node-type t3.medium &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--nodes &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--nodes-min &lt;span style="color:#0000cf;font-weight:bold">3&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--nodes-max &lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
EKS does not use the normal Kubernetes networking since it
is &lt;a href="https://itnext.io/kubernetes-is-hard-why-eks-makes-it-easier-for-network-and-security-architects-ea6d8b2ca965">incompatible with Amazon VPC networking&lt;/a>.
&lt;/div>
&lt;h2 id="allowing-udp-traffic">Allowing UDP Traffic&lt;/h2>
&lt;p>For Code Blind to work correctly, we need to allow UDP traffic to pass through to our EKS cluster worker nodes. To achieve this, we must update the workers&amp;rsquo; nodepool SG (Security Group) with the proper rule. A simple way to do that is:&lt;/p>
&lt;ul>
&lt;li>Log in to the AWS Management Console&lt;/li>
&lt;li>Go to the VPC Dashboard and select &lt;strong>Security Groups&lt;/strong>&lt;/li>
&lt;li>Find the Security Group for the workers nodepool, which will be named something like &lt;code>eksctl-[cluster-name]-nodegroup-[cluster-name]-workers/SG&lt;/code>&lt;/li>
&lt;li>Select &lt;strong>Inbound Rules&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Edit Rules&lt;/strong> to add a new &lt;strong>Custom UDP Rule&lt;/strong> with a 7000-8000 port range and an appropriate &lt;strong>Source&lt;/strong> CIDR range (&lt;code>0.0.0.0/0&lt;/code> allows all traffic)&lt;/li>
&lt;/ul>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Continue to &lt;a href="http://localhost:1313/docs/installation/install-agones/">Install Code Blind&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Installing Code Blind on Azure Kubernetes Service using Terraform</title><link>http://localhost:1313/docs/installation/terraform/aks/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/terraform/aks/</guid><description>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;p>Install &lt;code>az&lt;/code> utility by following &lt;a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest">these instructions&lt;/a>.&lt;/p>
&lt;p>The example of AKS submodule configuration could be found here:
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>Terraform configuration with Code Blind submodule&lt;/a>&lt;/p>
&lt;p>Copy &lt;code>module.tf&lt;/code> file into a separate folder.&lt;/p>
&lt;p>Log in to Azure CLI:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>az login
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Configure your terraform:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Create a service principal and configure its access to Azure resources:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>az ad sp create-for-rbac
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now you can deploy your cluster (use values from the above command output):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform apply -var &lt;span style="color:#000">client_id&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;lt;appId&amp;gt;&amp;#34;&lt;/span> -var &lt;span style="color:#000">client_secret&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;lt;password&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Once you created all resources on AKS you can get the credentials so that you can use &lt;code>kubectl&lt;/code> to configure your cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>az aks get-credentials --resource-group agonesRG --name test-cluster
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Check that you have access to the Kubernetes cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get nodes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Configurable parameters:&lt;/p>
&lt;ul>
&lt;li>log_level - possible values: Fatal, Error, Warn, Info, Debug (default is &amp;ldquo;info&amp;rdquo;)&lt;/li>
&lt;li>cluster_name - the name of the AKS cluster (default is &amp;ldquo;agones-terraform-example&amp;rdquo;)&lt;/li>
&lt;li>agones_version - the version of agones to install (an empty string, which is the default, is the latest version from the &lt;a href="https://agones.dev/chart/stable">Helm repository&lt;/a>)&lt;/li>
&lt;li>machine_type - node machine type for hosting game servers (default is &amp;ldquo;Standard_D2_v2&amp;rdquo;)&lt;/li>
&lt;li>disk_size - disk size of the node&lt;/li>
&lt;li>region - the location of the cluster&lt;/li>
&lt;li>node_count - count of game server nodes for the default node pool (default is &amp;ldquo;4&amp;rdquo;)&lt;/li>
&lt;li>feature_gates - a list of alpha and beta version features to enable. For example, &amp;ldquo;PlayerTracking=true&amp;amp;ContainerPortAllocation=true&amp;rdquo;&lt;/li>
&lt;li>gameserver_minPort - the lower bound of the port range which gameservers will listen on (default is &amp;ldquo;7000&amp;rdquo;)&lt;/li>
&lt;li>gameserver_maxPort - the upper bound of the port range which gameservers will listen on (default is &amp;ldquo;8000&amp;rdquo;)&lt;/li>
&lt;li>gameserver_namespaces - a list of namespaces which will be used to run gameservers (default is &lt;code>[&amp;quot;default&amp;quot;]&lt;/code>). For example &lt;code>[&amp;quot;default&amp;quot;, &amp;quot;xbox-gameservers&amp;quot;, &amp;quot;mobile-gameservers&amp;quot;]&lt;/code>&lt;/li>
&lt;li>force_update - whether or not to force the replacement/update of resource (default is true, false may be required to prevent immutability errors when updating the configuration)&lt;/li>
&lt;/ul>
&lt;h2 id="uninstall-the-code-blind-and-delete-aks-cluster">Uninstall the Code Blind and delete AKS cluster&lt;/h2>
&lt;p>Run next command to delete all Terraform provisioned resources:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>terraform destroy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="reference">Reference&lt;/h2>
&lt;p>Details on how you can authenticate your AKS terraform provider using official &lt;a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/guides/service_principal_client_secret">instructions&lt;/a>.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="http://localhost:1313/docs/installation/confirm/">Confirm Code Blind is up and running&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Install Code Blind using Helm</title><link>http://localhost:1313/docs/installation/install-agones/helm/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/install-agones/helm/</guid><description>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://helm.sh/">Helm&lt;/a> package manager 3.2.3+&lt;/li>
&lt;li>&lt;a href="http://localhost:1313/docs/installation/#usage-requirements">Supported Kubernetes Cluster&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="helm-3">Helm 3&lt;/h2>
&lt;h3 id="installing-the-chart">Installing the Chart&lt;/h3>
&lt;p>To install the chart with the release name &lt;code>my-release&lt;/code> using our stable helm repository:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm repo add agones https://agones.dev/chart/stable
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>helm repo update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>helm install my-release --namespace agones-system --create-namespace agones/agones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>We recommend installing Code Blind in its own namespaces, such as &lt;code>agones-system&lt;/code> as shown above.
If you want to use a different namespace, you can use the helm &lt;code>--namespace&lt;/code> parameter to specify.&lt;/em>&lt;/p>
&lt;p>When running in production, Code Blind should be scheduled on a dedicated pool of nodes, distinct from where Game Servers are scheduled for better isolation and resiliency. By default Code Blind prefers to be scheduled on nodes labeled with &lt;code>agones.dev/agones-system=true&lt;/code> and tolerates node taint &lt;code>agones.dev/agones-system=true:NoExecute&lt;/code>. If no dedicated nodes are available, Code Blind will
run on regular nodes, but that&amp;rsquo;s not recommended for production use. For instructions on setting up a dedicated node
pool for Code Blind, see the &lt;a href="http://localhost:1313/docs/installation/">Code Blind installation instructions&lt;/a> for your preferred environment.&lt;/p>
&lt;p>The command deploys Code Blind on the Kubernetes cluster with the default configuration. The &lt;a href="http://localhost:1313/docs/installation/install-agones/helm/#configuration">configuration&lt;/a> section lists the parameters that can be configured during installation.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Tip&lt;/h4>
List all releases using &lt;code>helm list --all-namespaces&lt;/code>
&lt;/div>
&lt;h3 id="namespaces">Namespaces&lt;/h3>
&lt;p>By default Code Blind is configured to work with game servers deployed in the &lt;code>default&lt;/code> namespace. If you are planning to use another namespace you can configure Code Blind via the parameter &lt;code>gameservers.namespaces&lt;/code>.&lt;/p>
&lt;p>For example to use &lt;code>default&lt;/code> &lt;strong>and&lt;/strong> &lt;code>xbox&lt;/code> namespaces:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create namespace xbox
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>helm install my-release agones/agones --set &lt;span style="color:#4e9a06">&amp;#34;gameservers.namespaces={default,xbox}&amp;#34;&lt;/span> --namespace agones-system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
You need to create your namespaces before installing Code Blind.
&lt;/div>
&lt;p>If you want to add a new namespace afterward upgrade your release:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create namespace ps4
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>helm upgrade my-release agones/agones --reuse-values --set &lt;span style="color:#4e9a06">&amp;#34;gameservers.namespaces={default,xbox,ps4}&amp;#34;&lt;/span> --namespace agones-system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="uninstalling-the-chart">Uninstalling the Chart&lt;/h3>
&lt;p>To uninstall/delete the &lt;code>my-release&lt;/code> deployment:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm uninstall my-release --namespace&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>agones-system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="rbac">RBAC&lt;/h2>
&lt;p>By default, &lt;code>agones.rbacEnabled&lt;/code> is set to true. This enables RBAC support in Code Blind and must be true if RBAC is enabled in your cluster.&lt;/p>
&lt;p>The chart will take care of creating the required service accounts and roles for Code Blind.&lt;/p>
&lt;p>If you have RBAC disabled, or to put it another way, ABAC enabled, you should set this value to &lt;code>false&lt;/code>.&lt;/p>
&lt;h2 id="configuration">Configuration&lt;/h2>
&lt;p>The following tables lists the configurable parameters of the Code Blind chart and their default values.&lt;/p>
&lt;h3 id="general">General&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>agones.featureGates&lt;/code>&lt;/td>
&lt;td>A URL query encoded string of Flags to enable/disable e.g. &lt;code>Example=true&amp;amp;OtherThing=false&lt;/code>. Any value accepted by &lt;a href="https://golang.org/pkg/strconv/#ParseBool">strconv.ParseBool(string)&lt;/a> can be used as a boolean value&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.rbacEnabled&lt;/code>&lt;/td>
&lt;td>Creates RBAC resources. Must be set for any cluster configured with RBAC&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.registerWebhooks&lt;/code>&lt;/td>
&lt;td>Registers the webhooks used for the admission controller&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.registerApiService&lt;/code>&lt;/td>
&lt;td>Registers the apiservice(s) used for the Kubernetes API extension&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.registerServiceAccounts&lt;/code>&lt;/td>
&lt;td>Attempts to create service accounts for the controllers&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.createPriorityClass&lt;/code>&lt;/td>
&lt;td>Attempts to create priority classes for the controllers&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.priorityClassName&lt;/code>&lt;/td>
&lt;td>Name of the priority classes to create&lt;/td>
&lt;td>&lt;code>agones-system&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.requireDedicatedNodes&lt;/code>&lt;/td>
&lt;td>Forces Code Blind system components to be scheduled on dedicated nodes, only applies to the GKE Standard without node auto-provisioning&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="custom-resource-definitions">Custom Resource Definitions&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>agones.crds.install&lt;/code>&lt;/td>
&lt;td>Install the CRDs with this chart. Useful to disable if you want to subchart (since crd-install hook is broken), so you can copy the CRDs into your own chart.&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.crds.cleanupOnDelete&lt;/code>&lt;/td>
&lt;td>Run the pre-delete hook to delete all GameServers and their backing Pods when deleting the helm chart, so that all CRDs can be removed on chart deletion&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.crds.cleanupJobTTL&lt;/code>&lt;/td>
&lt;td>The number of seconds for Kubernetes to delete the associated Job and Pods of the pre-delete hook after it completes, regardless if the Job is successful or not. Set to &lt;code>0&lt;/code> to disable cleaning up the Job or the associated Pods.&lt;/td>
&lt;td>&lt;code>60&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="metrics">Metrics&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>agones.metrics.prometheusServiceDiscovery&lt;/code>&lt;/td>
&lt;td>Adds annotations for Prometheus ServiceDiscovery (and also Strackdriver)&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.metrics.prometheusEnabled&lt;/code>&lt;/td>
&lt;td>Enables controller metrics on port &lt;code>8080&lt;/code> and path &lt;code>/metrics&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.metrics.stackdriverEnabled&lt;/code>&lt;/td>
&lt;td>Enables Stackdriver exporter of controller metrics&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.metrics.stackdriverProjectID&lt;/code>&lt;/td>
&lt;td>This overrides the default gcp project id for use with stackdriver&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.metrics.stackdriverLabels&lt;/code>&lt;/td>
&lt;td>A set of default labels to add to all stackdriver metrics generated in form of key value pair (&lt;code>key=value,key2=value2&lt;/code>). By default metadata are automatically added using Kubernetes API and GCP metadata enpoint.&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.metrics.serviceMonitor.interval&lt;/code>&lt;/td>
&lt;td>Default scraping interval for ServiceMonitor&lt;/td>
&lt;td>&lt;code>30s&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="service-accounts">Service Accounts&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>agones.serviceaccount.controller.name&lt;/code>&lt;/td>
&lt;td>Service account name for the controller&lt;/td>
&lt;td>&lt;code>agones-controller&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.serviceaccount.controller.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind controller service account&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.serviceaccount.sdk.name&lt;/code>&lt;/td>
&lt;td>Service account name for the sdk&lt;/td>
&lt;td>&lt;code>agones-sdk&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.serviceaccount.sdk.annotations&lt;/code>&lt;/td>
&lt;td>A map of namespaces to maps of &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind SDK service account for the specified namespaces&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.serviceaccount.allocator.name&lt;/code>&lt;/td>
&lt;td>Service account name for the allocator&lt;/td>
&lt;td>&lt;code>agones-allocator&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.serviceaccount.allocator.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind allocator service account&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="container-images">Container Images&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>agones.image.registry&lt;/code>&lt;/td>
&lt;td>Global image registry for all the Code Blind system images&lt;/td>
&lt;td>&lt;code>us-docker.pkg.dev/agones-images/release&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.tag&lt;/code>&lt;/td>
&lt;td>Global image tag for all images&lt;/td>
&lt;td>&lt;code>1.38.0&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.controller.name&lt;/code>&lt;/td>
&lt;td>Image name for the controller&lt;/td>
&lt;td>&lt;code>agones-controller&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.controller.pullPolicy&lt;/code>&lt;/td>
&lt;td>Image pull policy for the controller&lt;/td>
&lt;td>&lt;code>IfNotPresent&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.controller.pullSecret&lt;/code>&lt;/td>
&lt;td>Image pull secret for the controller, allocator, sdk and ping image. Should be created both in &lt;code>agones-system&lt;/code> and &lt;code>default&lt;/code> namespaces&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.sdk.name&lt;/code>&lt;/td>
&lt;td>Image name for the sdk&lt;/td>
&lt;td>&lt;code>agones-sdk&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.sdk.tag&lt;/code>&lt;/td>
&lt;td>Image tag for the sdk&lt;/td>
&lt;td>value of &lt;code>agones.image.tag&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.sdk.cpuRequest&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/tasks/administer-cluster/manage-resources/cpu-constraint-namespace/">cpu request&lt;/a> for sdk server container&lt;/td>
&lt;td>&lt;code>30m&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.sdk.cpuLimit&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/tasks/administer-cluster/manage-resources/cpu-constraint-namespace/">cpu limit&lt;/a> for the sdk server container&lt;/td>
&lt;td>&lt;code>0&lt;/code> (none)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.sdk.memoryRequest&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/tasks/administer-cluster/manage-resources/memory-constraint-namespace/">memory request&lt;/a> for sdk server container&lt;/td>
&lt;td>&lt;code>0&lt;/code> (none)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.sdk.memoryLimit&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/tasks/administer-cluster/manage-resources/memory-constraint-namespace/">memory limit&lt;/a> for the sdk server container&lt;/td>
&lt;td>&lt;code>0&lt;/code> (none)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.sdk.alwaysPull&lt;/code>&lt;/td>
&lt;td>Tells if the sdk image should always be pulled&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.ping.name&lt;/code>&lt;/td>
&lt;td>Image name for the ping service&lt;/td>
&lt;td>&lt;code>agones-ping&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.ping.tag&lt;/code>&lt;/td>
&lt;td>Image tag for the ping service&lt;/td>
&lt;td>value of &lt;code>agones.image.tag&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.ping.pullPolicy&lt;/code>&lt;/td>
&lt;td>Image pull policy for the ping service&lt;/td>
&lt;td>&lt;code>IfNotPresent&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.extensions.name&lt;/code>&lt;/td>
&lt;td>Image name for extensions&lt;/td>
&lt;td>&lt;code>agones-extensions&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.image.extensions.pullPolicy&lt;/code>&lt;/td>
&lt;td>Image pull policy for extensions&lt;/td>
&lt;td>&lt;code>IfNotPresent&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="code-blind-controller">Code Blind Controller&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>agones.controller.replicas&lt;/code>&lt;/td>
&lt;td>The number of replicas to run in the &lt;code>agones-controller&lt;/code> deployment.&lt;/td>
&lt;td>&lt;code>2&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.pdb.minAvailable&lt;/code>&lt;/td>
&lt;td>Description of the number of pods from that set that must still be available after the eviction, even in the absence of the evicted pod. Can be either an absolute number or a percentage. Mutually Exclusive with &lt;code>maxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.pdb.maxUnavailable&lt;/code>&lt;/td>
&lt;td>Description of the number of pods from that set that can be unavailable after the eviction. It can be either an absolute number or a percentage Mutually Exclusive with &lt;code>minAvailable&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.http.port&lt;/code>&lt;/td>
&lt;td>Port to use for liveness probe service and metrics&lt;/td>
&lt;td>&lt;code>8080&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.healthCheck.initialDelaySeconds&lt;/code>&lt;/td>
&lt;td>Initial delay before performing the first probe (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.healthCheck.periodSeconds&lt;/code>&lt;/td>
&lt;td>Seconds between every liveness probe (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.healthCheck.failureThreshold&lt;/code>&lt;/td>
&lt;td>Number of times before giving up (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.healthCheck.timeoutSeconds&lt;/code>&lt;/td>
&lt;td>Number of seconds after which the probe times out (in seconds)&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.resources&lt;/code>&lt;/td>
&lt;td>Controller &lt;a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/">resource requests/limit&lt;/a>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.generateTLS&lt;/code>&lt;/td>
&lt;td>Set to true to generate TLS certificates or false to provide your own certificates&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.tlsCert&lt;/code>&lt;/td>
&lt;td>Custom TLS certificate provided as a string&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.tlsKey&lt;/code>&lt;/td>
&lt;td>Custom TLS private key provided as a string&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.nodeSelector&lt;/code>&lt;/td>
&lt;td>Controller &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector">node labels&lt;/a> for pod assignment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.tolerations&lt;/code>&lt;/td>
&lt;td>Controller &lt;a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">toleration&lt;/a> labels for pod assignment&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.affinity&lt;/code>&lt;/td>
&lt;td>Controller &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">affinity&lt;/a> settings for pod assignment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind controller pods&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.numWorkers&lt;/code>&lt;/td>
&lt;td>Number of workers to spin per resource type&lt;/td>
&lt;td>&lt;code>100&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.apiServerQPS&lt;/code>&lt;/td>
&lt;td>Maximum sustained queries per second that controller should be making against API Server&lt;/td>
&lt;td>&lt;code>400&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.apiServerQPSBurst&lt;/code>&lt;/td>
&lt;td>Maximum burst queries per second that controller should be making against API Server&lt;/td>
&lt;td>&lt;code>500&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.logLevel&lt;/code>&lt;/td>
&lt;td>Code Blind Controller Log level. Log only entries with that severity and above&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.persistentLogs&lt;/code>&lt;/td>
&lt;td>Store Code Blind controller logs in a temporary volume attached to a container for debugging&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.persistentLogsSizeLimitMB&lt;/code>&lt;/td>
&lt;td>Maximum total size of all Code Blind container logs in MB&lt;/td>
&lt;td>&lt;code>10000&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.disableSecret&lt;/code>&lt;/td>
&lt;td>Disables the creation of any allocator secrets. If true, you MUST provide the &lt;code>{agones.releaseName}-cert&lt;/code> secrets before installation.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.customCertSecretPath&lt;/code>&lt;/td>
&lt;td>Remap cert-manager path to server.crt and server.key&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.allocationApiService.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind apiregistration&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.allocationApiService.disableCaBundle&lt;/code>&lt;/td>
&lt;td>Disable ca-bundle so it can be injected by cert-manager&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.validatingWebhook.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind validating webhook&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.validatingWebhook.disableCaBundle&lt;/code>&lt;/td>
&lt;td>Disable ca-bundle so it can be injected by cert-manager&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.mutatingWebhook.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind mutating webhook&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.mutatingWebhook.disableCaBundle&lt;/code>&lt;/td>
&lt;td>Disable ca-bundle so it can be injected by cert-manager&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.allocationBatchWaitTime&lt;/code>&lt;/td>
&lt;td>Wait time between each allocation batch when performing allocations in controller mode&lt;/td>
&lt;td>&lt;code>500ms&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.controller.topologySpreadConstraints&lt;/code>&lt;/td>
&lt;td>Ensures better resource utilization and high availability by evenly distributing Pods in the agones-system namespace&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="ping-service">Ping Service&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>agones.ping.install&lt;/code>&lt;/td>
&lt;td>Whether to install the &lt;a href="http://localhost:1313/docs/guides/ping-service/">ping service&lt;/a>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.replicas&lt;/code>&lt;/td>
&lt;td>The number of replicas to run in the deployment&lt;/td>
&lt;td>&lt;code>2&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.http.expose&lt;/code>&lt;/td>
&lt;td>Expose the http ping service via a Service&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.http.response&lt;/code>&lt;/td>
&lt;td>The string response returned from the http service&lt;/td>
&lt;td>&lt;code>ok&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.http.port&lt;/code>&lt;/td>
&lt;td>The port to expose on the service&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.http.serviceType&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/">Service Type&lt;/a> of the HTTP Service&lt;/td>
&lt;td>&lt;code>LoadBalancer&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.http.nodePort&lt;/code>&lt;/td>
&lt;td>Static node port to use for HTTP ping service. (Only applies when &lt;code>agones.ping.http.serviceType&lt;/code> is &lt;code>NodePort&lt;/code>.)&lt;/td>
&lt;td>&lt;code>0&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.http.loadBalancerIP&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer">Load Balancer IP&lt;/a> of the HTTP Service load balancer. Only works if the Kubernetes provider supports this option.&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.http.loadBalancerSourceRanges&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer">Load Balancer SourceRanges&lt;/a> of the HTTP Service load balancer. Only works if the Kubernetes provider supports this option.&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.http.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind ping http service&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.udp.expose&lt;/code>&lt;/td>
&lt;td>Expose the udp ping service via a Service&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.udp.rateLimit&lt;/code>&lt;/td>
&lt;td>Number of UDP packets the ping service handles per instance, per second, per sender&lt;/td>
&lt;td>&lt;code>20&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.udp.port&lt;/code>&lt;/td>
&lt;td>The port to expose on the service&lt;/td>
&lt;td>&lt;code>80&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.udp.serviceType&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/">Service Type&lt;/a> of the UDP Service&lt;/td>
&lt;td>&lt;code>LoadBalancer&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.udp.nodePort&lt;/code>&lt;/td>
&lt;td>Static node port to use for UDP ping service. (Only applies when &lt;code>agones.ping.udp.serviceType&lt;/code> is &lt;code>NodePort&lt;/code>.)&lt;/td>
&lt;td>&lt;code>0&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.udp.loadBalancerIP&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer">Load Balancer IP&lt;/a> of the UDP Service load balancer. Only works if the Kubernetes provider supports this option.&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.udp.loadBalancerSourceRanges&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer">Load Balancer SourceRanges&lt;/a> of the UDP Service load balancer. Only works if the Kubernetes provider supports this option.&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.udp.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind ping udp service&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.healthCheck.initialDelaySeconds&lt;/code>&lt;/td>
&lt;td>Initial delay before performing the first probe (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.healthCheck.periodSeconds&lt;/code>&lt;/td>
&lt;td>Seconds between every liveness probe (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.healthCheck.failureThreshold&lt;/code>&lt;/td>
&lt;td>Number of times before giving up (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.healthCheck.timeoutSeconds&lt;/code>&lt;/td>
&lt;td>Number of seconds after which the probe times out (in seconds)&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.resources&lt;/code>&lt;/td>
&lt;td>Ping pods &lt;a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/">resource requests/limit&lt;/a>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.nodeSelector&lt;/code>&lt;/td>
&lt;td>Ping &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector">node labels&lt;/a> for pod assignment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.tolerations&lt;/code>&lt;/td>
&lt;td>Ping &lt;a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">toleration&lt;/a> labels for pod assignment&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.affinity&lt;/code>&lt;/td>
&lt;td>Ping &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">affinity&lt;/a> settings for pod assignment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind ping pods&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.updateStrategy&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#strategy">strategy&lt;/a> to apply to the allocator deployment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.pdb.enabled&lt;/code>&lt;/td>
&lt;td>Set to &lt;code>true&lt;/code> to enable the creation of a &lt;a href="https://kubernetes.io/docs/tasks/run-application/configure-pdb/">PodDisruptionBudget&lt;/a> for the ping deployment&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.pdb.minAvailable&lt;/code>&lt;/td>
&lt;td>Description of the number of pods from that set that must still be available after the eviction, even in the absence of the evicted pod. Can be either an absolute number or a percentage. Mutually Exclusive with &lt;code>maxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.pdb.maxUnavailable&lt;/code>&lt;/td>
&lt;td>Description of the number of pods from that set that can be unavailable after the eviction. It can be either an absolute number or a percentage Mutually Exclusive with &lt;code>minAvailable&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.ping.topologySpreadConstraints&lt;/code>&lt;/td>
&lt;td>Ensures better resource utilization and high availability by evenly distributing Pods in the agones-system namespace&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="allocator-service">Allocator Service&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>agones.allocator.apiServerQPS&lt;/code>&lt;/td>
&lt;td>Maximum sustained queries per second that an allocator should be making against API Server&lt;/td>
&lt;td>&lt;code>400&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.apiServerQPSBurst&lt;/code>&lt;/td>
&lt;td>Maximum burst queries per second that an allocator should be making against API Server&lt;/td>
&lt;td>&lt;code>500&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.remoteAllocationTimeout&lt;/code>&lt;/td>
&lt;td>Remote allocation call timeout.&lt;/td>
&lt;td>&lt;code>10s&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.totalRemoteAllocationTimeout&lt;/code>&lt;/td>
&lt;td>Total remote allocation timeout including retries.&lt;/td>
&lt;td>&lt;code>30s&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.logLevel&lt;/code>&lt;/td>
&lt;td>Code Blind Allocator Log level. Log only entries with that severity and above&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.install&lt;/code>&lt;/td>
&lt;td>Whether to install the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">allocator service&lt;/a>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.replicas&lt;/code>&lt;/td>
&lt;td>The number of replicas to run in the deployment&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.name&lt;/code>&lt;/td>
&lt;td>Service name for the allocator&lt;/td>
&lt;td>&lt;code>agones-allocator&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.serviceType&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/">Service Type&lt;/a> of the HTTP Service&lt;/td>
&lt;td>&lt;code>LoadBalancer&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.clusterIP&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#type-clusterip">Cluster IP&lt;/a> of the Code Blind allocator. If you want &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#headless-services">Headless Service&lt;/a> for Code Blind Allocator, you can set &lt;code>None&lt;/code> to clusterIP.&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.loadBalancerIP&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer">Load Balancer IP&lt;/a> of the Code Blind allocator load balancer. Only works if the Kubernetes provider supports this option.&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.loadBalancerSourceRanges&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer">Load Balancer SourceRanges&lt;/a> of the Code Blind allocator load balancer. Only works if the Kubernetes provider supports this option.&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind allocator service&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.http.enabled&lt;/code>&lt;/td>
&lt;td>If true the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">allocator service&lt;/a> will respond to &lt;a href="http://localhost:1313/docs/advanced/allocator-service/#using-rest">REST requests&lt;/a>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.http.appProtocol&lt;/code>&lt;/td>
&lt;td>The &lt;code>appProtocol&lt;/code> to set on the Service for the http allocation port. If left blank, no value is set.&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.http.port&lt;/code>&lt;/td>
&lt;td>The port that is exposed externally by the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">allocator service&lt;/a> for &lt;a href="http://localhost:1313/docs/advanced/allocator-service/#using-rest">REST requests&lt;/a>&lt;/td>
&lt;td>&lt;code>443&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.http.portName&lt;/code>&lt;/td>
&lt;td>The name of exposed port&lt;/td>
&lt;td>&lt;code>http&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.http.targetPort&lt;/code>&lt;/td>
&lt;td>The port that is used by the allocator pod to listen for &lt;a href="http://localhost:1313/docs/advanced/allocator-service/#using-rest">REST requests&lt;/a>. Note that the allocator server cannot bind to low numbered ports.&lt;/td>
&lt;td>&lt;code>8443&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.http.nodePort&lt;/code>&lt;/td>
&lt;td>If the ServiceType is set to &amp;ldquo;NodePort&amp;rdquo;, this is the NodePort that the allocator http service is exposed on.&lt;/td>
&lt;td>&lt;code>30000-32767&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.grpc.enabled&lt;/code>&lt;/td>
&lt;td>If true the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">allocator service&lt;/a> will respond to &lt;a href="http://localhost:1313/docs/advanced/allocator-service/#using-grpc">gRPC requests&lt;/a>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.grpc.port&lt;/code>&lt;/td>
&lt;td>The port that is exposed externally by the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">allocator service&lt;/a> for &lt;a href="http://localhost:1313/docs/advanced/allocator-service/#using-grpc">gRPC requests&lt;/a>&lt;/td>
&lt;td>&lt;code>443&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.grpc.portName&lt;/code>&lt;/td>
&lt;td>The name of exposed port&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.grpc.appProtocol&lt;/code>&lt;/td>
&lt;td>The &lt;code>appProtocol&lt;/code> to set on the Service for the gRPC allocation port. If left blank, no value is set.&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.grpc.nodePort&lt;/code>&lt;/td>
&lt;td>If the ServiceType is set to &amp;ldquo;NodePort&amp;rdquo;, this is the NodePort that the allocator gRPC service is exposed on.&lt;/td>
&lt;td>&lt;code>30000-32767&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.service.grpc.targetPort&lt;/code>&lt;/td>
&lt;td>The port that is used by the allocator pod to listen for &lt;a href="http://localhost:1313/docs/advanced/allocator-service/#using-grpc">gRPC requests&lt;/a>. Note that the allocator server cannot bind to low numbered ports.&lt;/td>
&lt;td>&lt;code>8443&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.generateClientTLS&lt;/code>&lt;/td>
&lt;td>Set to true to generate client TLS certificates or false to provide certificates in &lt;code>certs/allocator/allocator-client.default/*&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.generateTLS&lt;/code>&lt;/td>
&lt;td>Set to true to generate TLS certificates or false to provide your own certificates&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.disableMTLS&lt;/code>&lt;/td>
&lt;td>Turns off client cert authentication for incoming connections to the allocator.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.disableTLS&lt;/code>&lt;/td>
&lt;td>Turns off TLS security for incoming connections to the allocator.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.disableSecretCreation&lt;/code>&lt;/td>
&lt;td>Disables the creation of any allocator secrets. If true, you MUST provide the &lt;code>allocator-tls&lt;/code>, &lt;code>allocator-tls-ca&lt;/code>, and &lt;code>allocator-client-ca&lt;/code> secrets before installation.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.tlsCert&lt;/code>&lt;/td>
&lt;td>Custom TLS certificate provided as a string&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.tlsKey&lt;/code>&lt;/td>
&lt;td>Custom TLS private key provided as a string&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.clientCAs&lt;/code>&lt;/td>
&lt;td>A map of secret key names to allowed client CA certificates provided as strings&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.tolerations&lt;/code>&lt;/td>
&lt;td>Allocator &lt;a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">toleration&lt;/a> labels for pod assignment&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.affinity&lt;/code>&lt;/td>
&lt;td>Allocator &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">affinity&lt;/a> settings for pod assignment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind allocator pods&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.resources&lt;/code>&lt;/td>
&lt;td>Allocator pods &lt;a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/">resource requests/limit&lt;/a>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.labels&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">Labels&lt;/a> Added to the Code Blind Allocator pods&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.readiness.initialDelaySeconds&lt;/code>&lt;/td>
&lt;td>Initial delay before performing the first probe (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.readiness.periodSeconds&lt;/code>&lt;/td>
&lt;td>Seconds between every liveness probe (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.readiness.failureThreshold&lt;/code>&lt;/td>
&lt;td>Number of times before giving up (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.nodeSelector&lt;/code>&lt;/td>
&lt;td>Allocator &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector">node labels&lt;/a> for pod assignment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.serviceMetrics.name&lt;/code>&lt;/td>
&lt;td>Second Service name for the allocator&lt;/td>
&lt;td>&lt;code>agones-allocator-metrics-service&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.serviceMetrics.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind allocator second Service&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.serviceMetrics.http.port&lt;/code>&lt;/td>
&lt;td>The port that is exposed within cluster by the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">allocator service&lt;/a> for http requests&lt;/td>
&lt;td>&lt;code>8080&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.serviceMetrics.http.portName&lt;/code>&lt;/td>
&lt;td>The name of exposed port&lt;/td>
&lt;td>&lt;code>http&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.allocationBatchWaitTime&lt;/code>&lt;/td>
&lt;td>Wait time between each allocation batch when performing allocations in allocator mode&lt;/td>
&lt;td>&lt;code>500ms&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.updateStrategy&lt;/code>&lt;/td>
&lt;td>The &lt;a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#strategy">strategy&lt;/a> to apply to the ping deployment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.pdb.enabled&lt;/code>&lt;/td>
&lt;td>Set to &lt;code>true&lt;/code> to enable the creation of a &lt;a href="https://kubernetes.io/docs/tasks/run-application/configure-pdb/">PodDisruptionBudget&lt;/a> for the allocator deployment&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.pdb.minAvailable&lt;/code>&lt;/td>
&lt;td>Description of the number of pods from that set that must still be available after the eviction, even in the absence of the evicted pod. Can be either an absolute number or a percentage. Mutually Exclusive with &lt;code>maxUnavailable&lt;/code>&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.pdb.maxUnavailable&lt;/code>&lt;/td>
&lt;td>Description of the number of pods from that set that can be unavailable after the eviction. It can be either an absolute number or a percentage. Mutually Exclusive with &lt;code>minAvailable&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.allocator.topologySpreadConstraints&lt;/code>&lt;/td>
&lt;td>Ensures better resource utilization and high availability by evenly distributing Pods in the agones-system namespace&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="extensions">Extensions&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>agones.extensions.http.port&lt;/code>&lt;/td>
&lt;td>Port to use for liveness probe service and metrics&lt;/td>
&lt;td>&lt;code>8080&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.healthCheck.initialDelaySeconds&lt;/code>&lt;/td>
&lt;td>Initial delay before performing the first probe (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.healthCheck.periodSeconds&lt;/code>&lt;/td>
&lt;td>Seconds between every liveness probe (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.healthCheck.failureThreshold&lt;/code>&lt;/td>
&lt;td>Number of times before giving up (in seconds)&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.healthCheck.timeoutSeconds&lt;/code>&lt;/td>
&lt;td>Number of seconds after which the probe times out (in seconds)&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.resources&lt;/code>&lt;/td>
&lt;td>Extensions &lt;a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/">resource requests/limit&lt;/a>&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.generateTLS&lt;/code>&lt;/td>
&lt;td>Set to true to generate TLS certificates or false to provide your own certificates&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.tlsCert&lt;/code>&lt;/td>
&lt;td>Custom TLS certificate provided as a string&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.tlsKey&lt;/code>&lt;/td>
&lt;td>Custom TLS private key provided as a string&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.nodeSelector&lt;/code>&lt;/td>
&lt;td>Extensions &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector">node labels&lt;/a> for pod assignment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.tolerations&lt;/code>&lt;/td>
&lt;td>Extensions &lt;a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">toleration&lt;/a> labels for pod assignment&lt;/td>
&lt;td>&lt;code>[]&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.affinity&lt;/code>&lt;/td>
&lt;td>Extensions &lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">affinity&lt;/a> settings for pod assignment&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind extensions pods&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.numWorkers&lt;/code>&lt;/td>
&lt;td>Number of workers to spin per resource type&lt;/td>
&lt;td>&lt;code>100&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.apiServerQPS&lt;/code>&lt;/td>
&lt;td>Maximum sustained queries per second that extensions should be making against API Server&lt;/td>
&lt;td>&lt;code>400&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.apiServerQPSBurst&lt;/code>&lt;/td>
&lt;td>Maximum burst queries per second that extensions should be making against API Server&lt;/td>
&lt;td>&lt;code>500&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.logLevel&lt;/code>&lt;/td>
&lt;td>Code Blind Extensions Log level. Log only entries with that severity and above&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.persistentLogs&lt;/code>&lt;/td>
&lt;td>Store Code Blind extensions logs in a temporary volume attached to a container for debugging&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.persistentLogsSizeLimitMB&lt;/code>&lt;/td>
&lt;td>Maximum total size of all Code Blind container logs in MB&lt;/td>
&lt;td>&lt;code>10000&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.disableSecret&lt;/code>&lt;/td>
&lt;td>Disables the creation of any allocator secrets. If true, you MUST provide the &lt;code>{agones.releaseName}-cert&lt;/code> secrets before installation.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.customCertSecretPath&lt;/code>&lt;/td>
&lt;td>Remap cert-manager path to server.crt and server.key&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.allocationApiService.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind apiregistration&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.allocationApiService.disableCaBundle&lt;/code>&lt;/td>
&lt;td>Disable ca-bundle so it can be injected by cert-manager&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.validatingWebhook.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind validating webhook&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.validatingWebhook.disableCaBundle&lt;/code>&lt;/td>
&lt;td>Disable ca-bundle so it can be injected by cert-manager&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.mutatingWebhook.annotations&lt;/code>&lt;/td>
&lt;td>&lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Annotations&lt;/a> added to the Code Blind mutating webhook&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.mutatingWebhook.disableCaBundle&lt;/code>&lt;/td>
&lt;td>Disable ca-bundle so it can be injected by cert-manager&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.allocationBatchWaitTime&lt;/code>&lt;/td>
&lt;td>Wait time between each allocation batch when performing allocations in controller mode&lt;/td>
&lt;td>&lt;code>500ms&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.pdb.minAvailable&lt;/code>&lt;/td>
&lt;td>Description of the number of pods from that set that must still be available after the eviction, even in the absence of the evicted pod. Can be either an absolute number or a percentage. Mutually Exclusive with maxUnavailable&lt;/td>
&lt;td>&lt;code>1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.pdb.maxUnavailable&lt;/code>&lt;/td>
&lt;td>Description of the number of pods from that set that can be unavailable after the eviction. It can be either an absolute number or a percentage Mutually Exclusive with &lt;code>minAvailable&lt;/code>&lt;/td>
&lt;td>``&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.replicas&lt;/code>&lt;/td>
&lt;td>The number of replicas to run in the deployment&lt;/td>
&lt;td>&lt;code>2&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>agones.extensions.topologySpreadConstraints&lt;/code>&lt;/td>
&lt;td>Ensures better resource utilization and high availability by evenly distributing Pods in the agones-system namespace&lt;/td>
&lt;td>&lt;code>{}&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="gameservers">GameServers&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>gameservers.namespaces&lt;/code>&lt;/td>
&lt;td>a list of namespaces you are planning to use to deploy game servers&lt;/td>
&lt;td>&lt;code>[&amp;quot;default&amp;quot;]&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gameservers.minPort&lt;/code>&lt;/td>
&lt;td>Minimum port to use for dynamic port allocation&lt;/td>
&lt;td>&lt;code>7000&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gameservers.maxPort&lt;/code>&lt;/td>
&lt;td>Maximum port to use for dynamic port allocation&lt;/td>
&lt;td>&lt;code>8000&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>gameservers.podPreserveUnknownFields&lt;/code>&lt;/td>
&lt;td>Disable &lt;a href="https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#field-pruning">field pruning&lt;/a> and schema validation on the Pod template for a &lt;a href="http://localhost:1313/docs/reference/gameserver/">GameServer&lt;/a> definition&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="helm-installation">Helm Installation&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>helm.installTests&lt;/code>&lt;/td>
&lt;td>Add an ability to run &lt;code>helm test agones&lt;/code> to verify the installation&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Specify each parameter using the &lt;code>--set key=value[,key=value]&lt;/code> argument to &lt;code>helm install&lt;/code>. For example,&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm install my-release --namespace agones-system &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set gameservers.minPort&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>1000,gameservers.maxPort&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5000&lt;/span> agones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The above command will deploy Code Blind controllers to &lt;code>agones-system&lt;/code> namespace. Additionally Code Blind will use a dynamic GameServers&amp;rsquo; port allocation range of 1000-5000.&lt;/p>
&lt;p>Alternatively, a YAML file that specifies the values for the parameters can be provided while installing the chart. For example,&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm install my-release --namespace agones-system -f values.yaml agones/agones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Tip&lt;/h4>
You can use the default
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>values.yaml&lt;/a>
&lt;/div>
&lt;h2 id="helm-test">Helm test&lt;/h2>
&lt;p>This test would create a &lt;code>GameServer&lt;/code> resource and delete it afterwards.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Tip&lt;/h4>
In order to use &lt;code>helm test&lt;/code> command described in this section you need to set &lt;code>helm.installTests&lt;/code> helm parameter to &lt;code>true&lt;/code>.
&lt;/div>
&lt;p>Check the Code Blind installation by running the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm &lt;span style="color:#204a87">test&lt;/span> my-release -n agones-system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see a successful output similar to this :&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME: my-release
LAST DEPLOYED: Wed Mar 29 06:13:23 2023
NAMESPACE: agones-system
STATUS: deployed
REVISION: 4
TEST SUITE: my-release-test
Last Started: Wed Mar 29 06:17:52 2023
Last Completed: Wed Mar 29 06:18:10 2023
Phase: Succeeded
&lt;/code>&lt;/pre>&lt;h2 id="controller-tls-certificates">Controller TLS Certificates&lt;/h2>
&lt;p>By default agones chart generates tls certificates used by the admission controller, while this is handy, it requires the agones controller to restart on each &lt;code>helm upgrade&lt;/code> command.&lt;/p>
&lt;h3 id="manual">Manual&lt;/h3>
&lt;p>For most use cases the controller would have required a restart anyway (eg: controller image updated). However if you really need to avoid restarts we suggest that you turn off tls automatic generation (&lt;code>agones.controller.generateTLS&lt;/code> to &lt;code>false&lt;/code>) and provide your own certificates (&lt;code>certs/server.crt&lt;/code>,&lt;code>certs/server.key&lt;/code>).&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Tip&lt;/h4>
You can use our script located at
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>cert.sh&lt;/a> to generate them.
&lt;/div>
&lt;h3 id="cert-manager">Cert-Manager&lt;/h3>
&lt;p>Another approach is to use &lt;a href="https://cert-manager.io/">cert-manager.io&lt;/a> solution for cluster level certificate management.&lt;/p>
&lt;p>In order to use the cert-manager solution, first &lt;a href="https://cert-manager.io/docs/installation/kubernetes/">install cert-manager&lt;/a> on the cluster.
Then, &lt;a href="https://cert-manager.io/docs/configuration/">configure&lt;/a> an &lt;code>Issuer&lt;/code>/&lt;code>ClusterIssuer&lt;/code> resource and
last &lt;a href="https://cert-manager.io/docs/usage/certificate/">configure&lt;/a> a &lt;code>Certificate&lt;/code> resource to manage controller &lt;code>Secret&lt;/code>.
Make sure to configure the &lt;code>Certificate&lt;/code> based on your system&amp;rsquo;s requirements, including the validity &lt;code>duration&lt;/code>.&lt;/p>
&lt;p>Here is an example of using a self-signed &lt;code>ClusterIssuer&lt;/code> for configuring controller &lt;code>Secret&lt;/code> where secret name is &lt;code>my-release-cert&lt;/code> or &lt;code>{{ template &amp;quot;agones.fullname&amp;quot; . }}-cert&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Create a self-signed ClusterIssuer&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF | kubectl apply -f -
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">apiVersion: cert-manager.io/v1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">kind: ClusterIssuer
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">metadata:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> name: selfsigned
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">spec:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> selfSigned: {}
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Create a Certificate with IP for the my-release-cert )&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat &lt;span style="color:#4e9a06">&amp;lt;&amp;lt;EOF | kubectl apply -f -
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">apiVersion: cert-manager.io/v1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">kind: Certificate
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">metadata:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> name: my-release-agones-cert
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> namespace: agones-system
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">spec:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> dnsNames:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> - agones-controller-service.agones-system.svc
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> secretName: my-release-agones-cert
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> issuerRef:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> name: selfsigned
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> kind: ClusterIssuer
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>After the certificates are generated, we will want to &lt;a href="https://cert-manager.io/docs/concepts/ca-injector/">inject caBundle&lt;/a> into the controller and extensions webhook and disable the controller and extensions secret creation through the following values.yaml file.:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">controller&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disableSecret&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">customCertSecretPath&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ca.crt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ca.crt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">tls.crt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">server.crt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">tls.key&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">server.key&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">allocationApiService&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cert-manager.io/inject-ca-from&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">agones-system/my-release-agones-cert&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disableCaBundle&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">validatingWebhook&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cert-manager.io/inject-ca-from&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">agones-system/my-release-agones-cert&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disableCaBundle&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mutatingWebhook&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cert-manager.io/inject-ca-from&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">agones-system/my-release-agones-cert&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disableCaBundle&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">extensions&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disableSecret&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">customCertSecretPath&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ca.crt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ca.crt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">tls.crt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">server.crt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">tls.key&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">server.key&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">allocationApiService&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cert-manager.io/inject-ca-from&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">agones-system/my-release-agones-cert&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disableCaBundle&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">validatingWebhook&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cert-manager.io/inject-ca-from&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">agones-system/my-release-agones-cert&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disableCaBundle&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mutatingWebhook&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cert-manager.io/inject-ca-from&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">agones-system/my-release-agones-cert&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">disableCaBundle&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>After copying the above yaml into a &lt;code>values.yaml&lt;/code> file, use below command to install Code Blind:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm install my-release --namespace agones-system --create-namespace --values values.yaml agones/agones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="reserved-allocator-load-balancer-ip">Reserved Allocator Load Balancer IP&lt;/h2>
&lt;p>In order to reuse the existing load balancer IP on upgrade or install the &lt;code>agones-allocator&lt;/code> service as a &lt;code>LoadBalancer&lt;/code> using a reserved static IP, a user can specify the load balancer&amp;rsquo;s IP with the &lt;code>agones.allocator.http.loadBalancerIP&lt;/code> helm configuration parameter value. By setting the &lt;code>loadBalancerIP&lt;/code> value:&lt;/p>
&lt;ol>
&lt;li>The &lt;code>LoadBalancer&lt;/code> is created with the specified IP, if supported by the cloud provider.&lt;/li>
&lt;li>A self-signed server TLS certificate is generated for the IP, used by the &lt;code>agones-allocator&lt;/code> service.&lt;/li>
&lt;/ol>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="http://localhost:1313/docs/installation/confirm/">Confirm Code Blind is up and running&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Canary Testing a new Fleet</title><link>http://localhost:1313/docs/integration-patterns/canary-testing/</link><pubDate>Tue, 27 Jul 2021 23:49:14 +0000</pubDate><guid>http://localhost:1313/docs/integration-patterns/canary-testing/</guid><description>
&lt;p>To &lt;a href="https://martinfowler.com/bliki/CanaryRelease.html">canary release/test&lt;/a> a new &lt;code>Fleet&lt;/code>,
we can run a small, fixed size &lt;code>Fleet&lt;/code> of the new version of our GameServer, while also running the current stable
production version.&lt;/p>
&lt;p>&lt;code>Allocations&lt;/code> can then &lt;code>prefer&lt;/code> to come from the canary &lt;code>Fleet&lt;/code>, but if all &lt;code>GameServers&lt;/code> are already allocated from the
canary &lt;code>Fleet&lt;/code>, players will be allocated to the current stable Fleets.&lt;/p>
&lt;p>Over time, if the monitoring of those playing on the canary &lt;code>Fleet&lt;/code> is working as expected, the size of the canary
&lt;code>Fleet&lt;/code> can be grown until you feel confident in its stability.&lt;/p>
&lt;p>Once confidence has been achieved, the configuration for stable &lt;code>Fleet&lt;/code> can be updated to match the canary (usually
triggering a &lt;a href="http://localhost:1313/docs/guides/fleet-updates/#rolling-update-strategy">rolling update&lt;/a>). The
canary &lt;code>Fleet&lt;/code> can then be deleted or updated to a new testing version of the game server process.&lt;/p>
&lt;a href="../../../diagrams/canary-testing.puml.png" target="_blank">
&lt;img src="../../../diagrams/canary-testing.puml.png" alt="Canary Fleet Diagram" />
&lt;/a>
&lt;h2 id="sample-gameserverallocation">Sample &lt;code>GameServerAllocation&lt;/code>&lt;/h2>
&lt;p>To ensure we don&amp;rsquo;t have to change the Allocation system every time we have a canary &lt;code>Fleet&lt;/code>, in this example, we will
state that in our system, the label &lt;code>canary: &amp;quot;true&amp;quot;&lt;/code> will be added to any canary &lt;code>Fleet&lt;/code> in the cluster.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;allocation.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServerAllocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">preferred&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">canary&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">required&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stable&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The above &lt;code>Allocation&lt;/code> will then preferentially choose the &lt;code>Fleet&lt;/code> that has &lt;code>GameServers&lt;/code> with the label and key
value of&lt;code>canary:&amp;quot;true&amp;quot;&lt;/code>, if it exists, and has remaining Ready &lt;code>GameServers&lt;/code>, and if not, will apply the
&lt;code>Allocation&lt;/code> to the &lt;code>Fleet&lt;/code> named &amp;ldquo;stable&amp;rdquo;.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Read about different &lt;a href="http://localhost:1313/docs/guides/fleet-updates/">&lt;code>Fleet&lt;/code> update&lt;/a> options and strategies that are
available.&lt;/li>
&lt;li>Have a look at all the options available on a
&lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">&lt;code>GameServerAllocation&lt;/code>&lt;/a>.&lt;/li>
&lt;li>Review the &lt;a href="http://localhost:1313/docs/reference/fleet/">&lt;code>Fleet&lt;/code> reference&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Player Tracking</title><link>http://localhost:1313/docs/guides/player-tracking/</link><pubDate>Tue, 19 May 2020 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/guides/player-tracking/</guid><description>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>The Player Tracking feature is currently &lt;strong>&lt;a href="http://localhost:1313/docs/guides/feature-stages/#alpha">Alpha&lt;/a>&lt;/strong>,
not enabled by default, and may change in the future.&lt;/p>
&lt;p>Use the FeatureGate &lt;code>PlayerTracking&lt;/code>
to enable and test this feature.&lt;/p>
&lt;p>See the &lt;a href="http://localhost:1313/docs/guides/feature-stages/#feature-gates">Feature Gate documentation&lt;/a> for details on how to enable features.&lt;/p>
&lt;/div>
&lt;h2 id="managing-gameserver-capacities">Managing GameServer Capacities&lt;/h2>
&lt;p>To track your &lt;code>GameServer&lt;/code> current player capacity, Code Blind gives you the ability to both set an initial capacity at
&lt;code>GameServer&lt;/code> creation, as well be able to change it during the lifecycle of the &lt;code>GameServer&lt;/code> through the Code Blind SDK.&lt;/p>
&lt;p>To set the initial capacity, you can do so via &lt;code>GameServer.Spec.Players.InitialCapacity&lt;/code> like so:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;gs-example&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># ...&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">players&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># set this GameServer&amp;#39;s initial player capacity to 10&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">initialCapacity&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">10&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>From there, if you need to change the capacity of the GameSever as gameplay is in progress, you can also do so via
&lt;a href="http://localhost:1313/docs/guides/client-sdks/#alphasetplayercapacitycount">&lt;code>SDK.Alpha().SetPlayerCapacity(count)&lt;/code>&lt;/a>&lt;/p>
&lt;p>The current player capacity is represented in &lt;code>GameServer.Status.Players.Capacity&lt;/code> resource value.&lt;/p>
&lt;p>We can see this in action, when we look at the Status section of a GameServer resource
, wherein the capacity has been set to 20:&lt;/p>
&lt;pre tabindex="0">&lt;code>...
Status:
Address: 14.81.195.72
Node Name: gke-test-cluster-default-6cd0ba67-1mps
Players:
Capacity: 20
Count: 0
Ids: &amp;lt;nil&amp;gt;
Ports:
Name: gameport
Port: 7983
Reserved Until: &amp;lt;nil&amp;gt;
State: Ready
&lt;/code>&lt;/pre>&lt;p>From the SDK, the game server binary can also retrieve the current player capacity
via &lt;a href="http://localhost:1313/docs/guides/client-sdks/#alphagetplayercapacity">&lt;code>SDK.Alpha().GetPlayerCapacity()&lt;/code>&lt;/a>.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>Changing the capacity value here has no impact on players actually
connected to or trying to connect to your server, as that is not a responsibility of Code Blind.&lt;/p>
&lt;p>This functionality is for tracking purposes only.&lt;/p>
&lt;/div>
&lt;h2 id="connecting-and-disconnecting-players">Connecting and Disconnecting Players&lt;/h2>
&lt;p>As players connect and disconnect from your game, the Player Tracking functions enable you to track which players
are currently connected.&lt;/p>
&lt;p>It assumed that each player that connects has a unique token that identifies them as a player.&lt;/p>
&lt;p>When a player connects to the game server binary,
calling &lt;a href="http://localhost:1313/docs/guides/client-sdks/#alphaplayerconnectplayerid">&lt;code>SDK.Alpha().PlayerConnect(playerID)&lt;/code>&lt;/a>
with the unique player token will register them as connected, and store their player id.&lt;/p>
&lt;p>At disconnection time,
call &lt;a href="http://localhost:1313/docs/guides/client-sdks/#alphaplayerdisconnectplayerid">&lt;code>SDK.Alpha().PlayerDisconnect(playerID)&lt;/code>&lt;/a>
, which will deregister them and remove their player id from the list.&lt;/p>
&lt;p>Each of these &lt;code>playerIDs&lt;/code> is stored on &lt;code>GameServer.Status.Players.IDs&lt;/code>, and the current count of connected players
can be seen in &lt;code>GameServer.Status.Players.Count&lt;/code>.&lt;/p>
&lt;p>You can see this in action below in the &lt;code>GameServer&lt;/code> Status section, where there are 4 players connected:&lt;/p>
&lt;pre tabindex="0">&lt;code>...
Status:
Address: 39.82.196.74
Node Name: gke-test-cluster-default-6cd0ba77-1mps
Players:
Capacity: 10
Count: 4
Ids:
xy8a
m0ux
71nj
lpq5
Ports:
Name: gameport
Port: 7166
Reserved Until: &amp;lt;nil&amp;gt;
State: Ready
&lt;/code>&lt;/pre>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>Calling &lt;code>PlayerConnect&lt;/code> or &lt;code>PlayerDisconnect&lt;/code> functions will not
connect or disconnect players, as that is not under the control of Code Blind.&lt;/p>
&lt;p>This functionality is for tracking purposes only.&lt;/p>
&lt;/div>
&lt;h2 id="checking-player-data">Checking Player Data&lt;/h2>
&lt;p>Not only is the connected player data stored on the &lt;code>GameServer&lt;/code> resource, it is also stored in memory within the
SDK, so that it can be used from within the game server binary as a realtime, thread safe, registry of connected
players.&lt;/p>
&lt;p>Therefore, if you want to:&lt;/p>
&lt;ul>
&lt;li>Get the current player count, call &lt;a href="http://localhost:1313/docs/guides/client-sdks/#alphagetplayercount">&lt;code>SDK.Alpha().GetPlayerCount()&lt;/code>&lt;/a>&lt;/li>
&lt;li>Check if a specific player is connected, call &lt;a href="http://localhost:1313/docs/guides/client-sdks/#alphaisplayerconnectedplayerid">&lt;code>SDK.Alpha().IsPlayerConnected(playerID)&lt;/code>&lt;/a>&lt;/li>
&lt;li>Retrieve the full list of connected players, call &lt;a href="http://localhost:1313/docs/guides/client-sdks/#alphagetconnectedplayers">&lt;code>SDK.Alpha().GetConnectedPlayers()&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Review the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#player-tracking">Player Tracking SDK Reference&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Third Party Libraries and Tools</title><link>http://localhost:1313/docs/third-party-content/libraries-tools/</link><pubDate>Fri, 15 May 2020 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/third-party-content/libraries-tools/</guid><description>
&lt;h2 id="client-sdks">Client SDKs&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/Cubxity/AgonesKt">Cubxity/AgonesKt&lt;/a> - Code Blind Client SDK for &lt;strong>Kotlin&lt;/strong>&lt;/li>
&lt;li>&lt;a href="https://github.com/AndreMicheletti/godot-agones-sdk">AndreMicheletti/godot-agones-sdk&lt;/a> - Code Blind Client SDK for &lt;strong>Godot Engine&lt;/strong>&lt;/li>
&lt;li>&lt;a href="https://github.com/infumia/agones4j">Infumia/agones4j&lt;/a> - Code Blind Client SDK for &lt;strong>Java&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="messaging">Messaging&lt;/h2>
&lt;p>Libraries or applications that implement messaging systems.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/Octops/agones-event-broadcaster">Octops/Code Blind Event Broadcaster&lt;/a> - Broadcast Code Blind events to the external world&lt;/li>
&lt;li>&lt;a href="https://github.com/Octops/agones-broadcaster-http">Octops/Code Blind Broadcaster HTTP&lt;/a> - Expose Code Blind GameServers information via HTTP&lt;/li>
&lt;li>&lt;a href="https://github.com/Octops/agones-relay-http">Octops/Code Blind Relay HTTP&lt;/a> - Publish Code Blind GameServers and Fleets details to HTTP endpoints&lt;/li>
&lt;/ul>
&lt;h2 id="controllers">Controllers&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/Octops/gameserver-ingress-controller">Octops/Game Server Ingress Controller&lt;/a> - Automatic Ingress configuration for Game Servers managed by Code Blind&lt;/li>
&lt;li>&lt;a href="https://github.com/Octops/octops-image-syncer">Octops/Image Syncer&lt;/a> - Watch Fleets and pre-pull images of game servers on every node running in the cluster&lt;/li>
&lt;li>&lt;a href="https://github.com/Octops/octops-fleet-gc">Octops/Fleet Garbage Collector&lt;/a> - Delete Fleets based on its TTL&lt;/li>
&lt;/ul>
&lt;h2 id="allocation">Allocation&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/FairwindsOps/agones-allocator-client">agones-allocator-client&lt;/a> - A client for testing allocation servers.
Made by &lt;a href="https://fairwinds.com">Fairwinds&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/aws-samples/multi-cluster-allocation-demo-for-agones-on-eks">Multi-cluster allocation demo&lt;/a> - A demo project for multi-cluster allocation on Amazon EKS with Terraform templates.&lt;/li>
&lt;/ul>
&lt;h2 id="development-tools">Development Tools&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/comerford/minikube-agones-cluster">Minikube Code Blind Cluster&lt;/a> - Automates the creation of a complete Kubernetes/Code Blind Cluster locally, using Xonotic as a sample gameserver. Intended to provide a local environment for developers which approximates a production Code Blind deployment.&lt;/li>
&lt;/ul></description></item><item><title>Docs: GameServerAllocation Specification</title><link>http://localhost:1313/docs/reference/gameserverallocation/</link><pubDate>Sun, 07 Jul 2019 03:58:52 +0000</pubDate><guid>http://localhost:1313/docs/reference/gameserverallocation/</guid><description>
&lt;p>Allocation is the process of selecting the optimal &lt;code>GameServer&lt;/code> that matches the filters defined in the &lt;code>GameServerAllocation&lt;/code> specification below, and returning its details.&lt;/p>
&lt;p>A successful Alloction moves the &lt;code>GameServer&lt;/code> to the &lt;code>Allocated&lt;/code> state, which indicates that it is currently active, likely with players on it, and should not be removed until SDK.Shutdown() is called, or it is explicitly manually deleted.&lt;/p>
&lt;p>A full &lt;code>GameServerAllocation&lt;/code> specification is available below and in the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>example folder&lt;/a> for reference:&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-1" role="tablist">
&lt;li class="nav-item">
&lt;button class="nav-link active"
id="tabs-01-00-tab" data-bs-toggle="tab" data-bs-target="#tabs-01-00" role="tab"
data-td-tp-persist="yaml" aria-controls="tabs-01-00" aria-selected="true">
selectors
&lt;/button>
&lt;/li>&lt;li class="nav-item">
&lt;button class="nav-link"
id="tabs-01-01-tab" data-bs-toggle="tab" data-bs-target="#tabs-01-01" role="tab"
aria-controls="tabs-01-01" aria-selected="false">
required &amp;amp; preferred (deprecated)
&lt;/button>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-1-content">
&lt;div class="tab-pane fade show active"
id="tabs-01-00" role="tabpanel" aria-labelled-by="tabs-01-00-tab" tabindex="1">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;allocation.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServerAllocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># GameServer selector from which to choose GameServers from.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Defaults to all GameServers.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># matchLabels, matchExpressions, gameServerState and player filters can be used for filtering.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># See: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details on label selectors.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># An ordered list of GameServer label selectors.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># If the first selector is not matched, the selection attempts the second selector, and so on.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># This is useful for things like smoke testing of new game servers.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">selectors&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">green-fleet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:PlayerAllocationFilter]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">players&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">minAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">99&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">blue-fleet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">game&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">my-game&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">matchExpressions&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- {&lt;span style="color:#204a87;font-weight:bold">key: tier, operator: In, values&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">cache]}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Specifies which State is the filter to be used when attempting to retrieve a GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># via Allocation. Defaults to &amp;#34;Ready&amp;#34;. The only other option is &amp;#34;Allocated&amp;#34;, which can be used in conjunction with&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># label/annotation/player selectors to retrieve an already Allocated GameServer.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">gameServerState&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Ready&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:CountsAndLists]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># counters: # selector for counter current values of a GameServer count&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># rooms:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># minCount: 1 # minimum value. Defaults to 0.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># maxCount: 5 # maximum value. Defaults to max(int64)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># minAvailable: 1 # minimum available (current capacity - current count). Defaults to 0.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># maxAvailable: 10 # maximum available (current capacity - current count) Defaults to max(int64)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># lists:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># players:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># containsValue: &amp;#34;x6k8z&amp;#34; # only match GameServers who has this value in the list. Defaults to &amp;#34;&amp;#34;, which is all.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># minAvailable: 1 # minimum available (current capacity - current count). Defaults to 0.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># maxAvailable: 10 # maximum available (current capacity - current count) Defaults to 0, which translates to max(int64)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha] &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:PlayerAllocationFilter]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Provides a filter on minimum and maximum values for player capacity when retrieving a GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># through Allocation. Defaults to no limits.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">players&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">minAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">99&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># defines how GameServers are organised across the cluster.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Options include:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;#34;Packed&amp;#34; (default) is aimed at dynamic Kubernetes clusters, such as cloud providers, wherein we want to bin pack&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># resources&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;#34;Distributed&amp;#34; is aimed at static Kubernetes clusters, wherein we want to distribute resources across the entire&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># cluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">scheduling&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Packed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Optional custom metadata that is added to the game server at allocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># You can use this to tell the server necessary session data&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mode&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">deathmatch&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">garden22&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:CountsAndLists]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The first Priority on the array of Priorities is the most important for sorting. The allocator will&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># use the first priority for sorting GameServers by available Capacity in the Selector set. Acts as a&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># tie-breaker after sorting the game servers by State and Strategy Packed. Impacts which GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># is checked first. Optional.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># priorities:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - type: List # Whether a Counter or a List.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># key: rooms # The name of the Counter or List.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># order: Ascending # &amp;#34;Ascending&amp;#34; lists smaller available capacity first.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:CountsAndLists]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Counter actions to perform during allocation. Optional.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># counters:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># rooms:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># action: increment # Either &amp;#34;Increment&amp;#34; or &amp;#34;Decrement&amp;#34; the Counter’s Count.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># amount: 1 # Amount is the amount to increment or decrement the Count. Must be a positive integer.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># capacity: 5 # Amount to update the maximum capacity of the Counter to this number. Min 0, Max int64.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># List actions to perform during allocation. Optional.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># lists:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># players:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># addValues: # appends values to a List’s Values array. Any duplicate values will be ignored&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - x7un&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># - 8inz&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># capacity: 40 # Updates the maximum capacity of the Counter to this number. Min 0, Max 1000.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade"
id="tabs-01-01" role="tabpanel" aria-labelled-by="tabs-01-01-tab" tabindex="1">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;allocation.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServerAllocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Deprecated, use field selectors instead.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># GameServer selector from which to choose GameServers from.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Defaults to all GameServers.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># matchLabels, matchExpressions, gameServerState and player filters can be used for filtering.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># See: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ for more details on label selectors.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Deprecated, use field selectors instead.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">required&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">game&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">my-game&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">matchExpressions&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- {&lt;span style="color:#204a87;font-weight:bold">key: tier, operator: In, values&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">cache]}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Specifies which State is the filter to be used when attempting to retrieve a GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># via Allocation. Defaults to &amp;#34;Ready&amp;#34;. The only other option is &amp;#34;Allocated&amp;#34;, which can be used in conjunction with&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># label/annotation/player selectors to retrieve an already Allocated GameServer.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">gameServerState&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Ready&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:PlayerAllocationFilter]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Provides a filter on minimum and maximum values for player capacity when retrieving a GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># through Allocation. Defaults to no limits.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">players&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">minAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">99&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Deprecated, use field selectors instead.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># An ordered list of preferred GameServer label selectors&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># that are optional to be fulfilled, but will be searched before the `required` selector.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># If the first selector is not matched, the selection attempts the second selector, and so on.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># If any of the preferred selectors are matched, the required selector is not considered.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># This is useful for things like smoke testing of new game servers.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># This also support matchExpressions, gameServerState and player filters.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">preferred&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">green-fleet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [Stage:Alpha]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># [FeatureFlag:PlayerAllocationFilter]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">players&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">minAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">99&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">blue-fleet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># defines how GameServers are organised across the cluster.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Options include:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;#34;Packed&amp;#34; (default) is aimed at dynamic Kubernetes clusters, such as cloud providers, wherein we want to bin pack&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># resources&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;#34;Distributed&amp;#34; is aimed at static Kubernetes clusters, wherein we want to distribute resources across the entire&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># cluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">scheduling&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Packed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Optional custom metadata that is added to the game server at allocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># You can use this to tell the server necessary session data&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mode&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">deathmatch&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">map&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">garden22&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>The &lt;code>spec&lt;/code> field is the actual &lt;code>GameServerAllocation&lt;/code> specification, and it is composed as follows:&lt;/p>
&lt;ul>
&lt;li>Deprecated, use &lt;code>selectors&lt;/code> instead. If &lt;code>selectors&lt;/code> is set, this field will be ignored.
&lt;code>required&lt;/code> is a &lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#allocation.agones.dev/v1.GameServerSelector">GameServerSelector&lt;/a>
(matchLabels. matchExpressions, gameServerState and player filters) from which to choose GameServers from.&lt;/li>
&lt;li>Deprecated, use &lt;code>selectors&lt;/code> instead. If &lt;code>selectors&lt;/code> is set, this field will be ignored.
&lt;code>preferred&lt;/code> is an ordered list of preferred &lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#allocation.agones.dev/v1.GameServerSelector">GameServerSelector&lt;/a>
that are &lt;em>optional&lt;/em> to be fulfilled, but will be searched before the &lt;code>required&lt;/code> selector.
If the first selector is not matched, the selection attempts the second selector, and so on.
If any of the &lt;code>preferred&lt;/code> selectors are matched, the &lt;code>required&lt;/code> selector is not considered.
This is useful for things like smoke testing of new game servers.&lt;/li>
&lt;li>&lt;code>selectors&lt;/code> is an ordered list of &lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#allocation.agones.dev/v1.GameServerSelector">GameServerSelector&lt;/a>.
If the first selector is not matched, the selection attempts the second selector, and so on.
This is useful for things like smoke testing of new game servers.&lt;/li>
&lt;li>&lt;code>matchLabels&lt;/code> is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element
of matchExpressions, whose key field is &amp;ldquo;key&amp;rdquo;, the operator is &amp;ldquo;In&amp;rdquo;, and the values array contains only &amp;ldquo;value&amp;rdquo;.
The requirements are ANDed. Optional.&lt;/li>
&lt;li>&lt;code>matchExpressions&lt;/code> is a list of label selector requirements. The requirements are ANDed. Optional.&lt;/li>
&lt;li>&lt;code>gameServerState&lt;/code> GameServerState specifies which State is the filter to be used when attempting to retrieve a
GameServer via Allocation. Defaults to &amp;ldquo;Ready&amp;rdquo;. The only other option is &amp;ldquo;Allocated&amp;rdquo;, which can be used in
conjunction with label/annotation/player selectors to retrieve an already Allocated GameServer.&lt;/li>
&lt;li>&lt;code>counters&lt;/code> (Alpha, &amp;ldquo;CountsAndLists&amp;rdquo; feature flag) enables filtering based on game server Counter status, such as
the minimum and maximum number of active rooms. This helps in selecting game servers based on their current activity
or capacity. Optional.&lt;/li>
&lt;li>&lt;code>lists&lt;/code> (Alpha, &amp;ldquo;CountsAndLists&amp;rdquo; feature flag) enables filtering based on game server List status, such as allowing
for inclusion or exclusion of specific players. Optional.&lt;/li>
&lt;li>&lt;code>scheduling&lt;/code> defines how GameServers are organised across the cluster, in this case specifically when allocating
&lt;code>GameServers&lt;/code> for usage.
&amp;ldquo;Packed&amp;rdquo; (default) is aimed at dynamic Kubernetes clusters, such as cloud providers, wherein we want to bin pack
resources. &amp;ldquo;Distributed&amp;rdquo; is aimed at static Kubernetes clusters, wherein we want to distribute resources across the entire
cluster. See &lt;a href="http://localhost:1313/docs/advanced/scheduling-and-autoscaling/">Scheduling and Autoscaling&lt;/a> for more details.&lt;/li>
&lt;li>&lt;code>metadata&lt;/code> is an optional list of custom labels and/or annotations that will be used to patch
the game server&amp;rsquo;s metadata in the moment of allocation. This can be used to tell the server necessary session data&lt;/li>
&lt;li>&lt;code>priorities&lt;/code> (Alpha, requires &lt;code>CountsAndLists&lt;/code> feature flag) manages counters and lists for game servers, setting limits on
room counts and player inclusion/exclusion.&lt;/li>
&lt;li>&lt;code>counters&lt;/code> (Alpha, &amp;ldquo;CountsAndLists&amp;rdquo; feature flag) Counter actions to perform during allocation.&lt;/li>
&lt;li>&lt;code>lists&lt;/code> (Alpha, &amp;ldquo;CountsAndLists&amp;rdquo; feature flag) List actions to perform during allocation.&lt;/li>
&lt;/ul>
&lt;p>Once created the &lt;code>GameServerAllocation&lt;/code> will have a &lt;code>status&lt;/code> field consisting of the following:&lt;/p>
&lt;ul>
&lt;li>&lt;code>State&lt;/code> is the current state of a GameServerAllocation, e.g. &lt;code>Allocated&lt;/code>, or &lt;code>UnAllocated&lt;/code>&lt;/li>
&lt;li>&lt;code>GameServerName&lt;/code> is the name of the game server attached to this allocation, once the &lt;code>state&lt;/code> is &lt;code>Allocated&lt;/code>&lt;/li>
&lt;li>&lt;code>Ports&lt;/code> is a list of the ports that the game server makes available. See &lt;a href="http://localhost:1313/docs/reference/gameserver/">the GameServer Reference&lt;/a> for more details.&lt;/li>
&lt;li>&lt;code>Address&lt;/code> is the primary network address where the game server can be reached.&lt;/li>
&lt;li>&lt;code>Addresses&lt;/code> is an array of all network addresses where the game server can be reached. It is a copy of the &lt;a href="https://v1-26.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/#nodeaddress-v1-core">&lt;code>Node.Status.addresses&lt;/code>&lt;/a> field for the node the &lt;code>GameServer&lt;/code> is scheduled on.&lt;/li>
&lt;li>&lt;code>NodeName&lt;/code> is the name of the node that the gameserver is running on.&lt;/li>
&lt;li>&lt;code>Source&lt;/code> is &amp;ldquo;local&amp;rdquo; unless this allocation is from a remote cluster, in which case &lt;code>Source&lt;/code> is the endpoint of the remote agones-allocator. See &lt;a href="http://localhost:1313/docs/advanced/multi-cluster-allocation/">Multi-cluster Allocation&lt;/a> for more details.&lt;/li>
&lt;li>&lt;code>Metadata&lt;/code> conststs of:
&lt;ul>
&lt;li>&lt;code>Labels&lt;/code> containing the labels of the game server at allocation time.&lt;/li>
&lt;li>&lt;code>Annotations&lt;/code> containing the annotations of the underlying game server at allocation time.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Info&lt;/h4>
&lt;p>For performance reasons, the query cache for a &lt;code>GameServerAllocation&lt;/code> is &lt;em>eventually consistent&lt;/em>.&lt;/p>
&lt;p>Usually, the cache is populated practically immediately on &lt;code>GameServer&lt;/code> change, but under high load of the Kubernetes
control plane, it may take some time for updates to &lt;code>GameServer&lt;/code> selectable features to be populated into the cache
(although this doesn&amp;rsquo;t affect the atomicity of the Allocation operation).&lt;/p>
&lt;p>While Code Blind will do a small series of retries when an allocatable &lt;code>GameServer&lt;/code> is not available in its cache,
depending on your game requirements, it may be worth implementing your own more extend retry mechanism for
Allocation requests for high load scenarios.&lt;/p>
&lt;/div>
&lt;p>Each &lt;code>GameServerAllocation&lt;/code> will allocate from a single &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces">namespace&lt;/a>. The namespace can be specified outside of
the spec, either with the &lt;code>--namespace&lt;/code> flag when using the command line / &lt;code>kubectl&lt;/code> or
&lt;a href="http://localhost:1313/docs/guides/access-api/#allocate-a-gameserver-from-a-fleet-named-simple-game-server-with-gameserverallocation">in the url&lt;/a>
when using an API call. If not specified when using the command line, the &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces">namespace&lt;/a> will be automatically set to &lt;code>default&lt;/code>.&lt;/p>
&lt;h2 id="next-steps">Next Steps:&lt;/h2>
&lt;ul>
&lt;li>Check out the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">Allocator Service&lt;/a> as a richer alternative to &lt;code>GameServerAllocation&lt;/code>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Go Game Server Client SDK</title><link>http://localhost:1313/docs/guides/client-sdks/go/</link><pubDate>Fri, 17 May 2019 10:17:50 +0000</pubDate><guid>http://localhost:1313/docs/guides/client-sdks/go/</guid><description>
&lt;p>Check the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK Documentation&lt;/a> for more details on each of the SDK functions and how to run the SDK locally.&lt;/p>
&lt;h2 id="sdk-functionality">SDK Functionality&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Area&lt;/th>
&lt;th>Action&lt;/th>
&lt;th>Implemented&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Ready&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Health&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Reserve&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Allocate&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Shutdown&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>GameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>Watch&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetAnnotation&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetLabel&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCount&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCount&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>IncrementCounter&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>DecrementCounter&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>AppendListValue&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>DeleteListValue&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>SetListCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>ListContains&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListLength&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListValues&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetConnectedPlayers&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCount&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>IsPlayerConnected&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerConnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerDisconnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>SetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;p>&lt;code>go get&lt;/code> the source,
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>directly from GitHub&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Review the &lt;a href="https://pkg.go.dev/agones.dev/agones/sdks/go">GoDoc&lt;/a> for usage instructions&lt;/p></description></item><item><title>Docs: Limiting CPU &amp; Memory</title><link>http://localhost:1313/docs/advanced/limiting-resources/</link><pubDate>Thu, 03 Jan 2019 05:45:15 +0000</pubDate><guid>http://localhost:1313/docs/advanced/limiting-resources/</guid><description>
&lt;p>As a short description:&lt;/p>
&lt;ul>
&lt;li>CPU &lt;code>Requests&lt;/code> are limits that are applied when there is CPU congestion, and as such can burst above their set limits.&lt;/li>
&lt;li>CPU &lt;code>Limits&lt;/code> are hard limits on how much CPU time the particular container gets access to.&lt;/li>
&lt;/ul>
&lt;p>This is useful for game servers, not just as a mechanism to distribute compute resources evenly, but also as a way
to advice the Kubernetes scheduler how many game server processes it is able to fit into a given node in the cluster.&lt;/p>
&lt;p>It&amp;rsquo;s worth reading the &lt;a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/">Managing Compute Resources for Containers&lt;/a>
Kubernetes documentation for more details on &amp;ldquo;requests&amp;rdquo; and &amp;ldquo;limits&amp;rdquo; to both CPU and Memory, and how to configure them.&lt;/p>
&lt;h2 id="gameservers">GameServers&lt;/h2>
&lt;p>Since the &lt;code>GameServer&lt;/code> specification provides a full &lt;a href="https://v1-27.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#podtemplatespec-v1-core">&lt;code>PodSpecTemplate&lt;/code>&lt;/a>,
we can take advantage of both resource limits and requests in our &lt;code>GameServer&lt;/code> configurations.&lt;/p>
&lt;p>For example, to set a CPU limit on our &lt;code>GameServer&lt;/code> configuration of &lt;code>250m/0.25&lt;/code> of a CPU,
we could do so as followed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;simple-game-server&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7654&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">us-docker.pkg.dev/codeblind/examples/simple-server:0.27&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">resources&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">limits&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cpu&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;250m&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">#this is our limit here&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you do not set a limit or request, the default is set by Kubernetes at a 100m CPU request.&lt;/p>
&lt;h2 id="sdk-gameserver-sidecar">SDK GameServer sidecar&lt;/h2>
&lt;p>You may also want to tweak the CPU request or limits on the SDK &lt;code>GameServer&lt;/code> sidecar process that spins up alongside
each game server container.&lt;/p>
&lt;p>You can do this through the &lt;a href="http://localhost:1313/docs/installation/install-agones/helm/">Helm configuration&lt;/a> when installing Code Blind.&lt;/p>
&lt;p>By default, this is set to having a CPU request value of 30m, with no hard CPU limit. This ensures that the sidecar always has enough CPU
to function, but it is configurable in case a lower, or higher value is required on your clusters, or if you desire
hard limit.&lt;/p></description></item><item><title>Docs: Fleet Autoscaler Specification</title><link>http://localhost:1313/docs/reference/fleetautoscaler/</link><pubDate>Thu, 03 Jan 2019 03:58:55 +0000</pubDate><guid>http://localhost:1313/docs/reference/fleetautoscaler/</guid><description>
&lt;p>A full &lt;code>FleetAutoscaler&lt;/code> specification is available below and in the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>example folder&lt;/a> for reference, but here are several
examples that show different autoscaling policies.&lt;/p>
&lt;h2 id="ready-buffer-autoscaling">Ready Buffer Autoscaling&lt;/h2>
&lt;p>Fleet autoscaling with a buffer can be used to maintain a configured number of game server instances ready to serve
players based on number of allocated instances in a Fleet. The buffer size can be specified as an absolute number or a
percentage of the desired number of Ready game server instances over the Allocated count.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;autoscaling.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">FleetAutoscaler&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># FleetAutoscaler Metadata&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic"># https://v1-27.docs.kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#objectmeta-v1-meta&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">fleet-autoscaler-example&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The name of the fleet to attach to and control. Must be an existing Fleet in the same namespace&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># as this FleetAutoscaler&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fleetName&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">fleet-example&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The autoscaling policy&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">policy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># type of the policy. for now, only Buffer is available&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Buffer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># parameters of the buffer policy&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">buffer&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Size of a buffer of &amp;#34;ready&amp;#34; game server instances&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The FleetAutoscaler will scale the fleet up and down trying to maintain this buffer, &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># as instances are being allocated or terminated&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># it can be specified either in absolute (i.e. 5) or percentage format (i.e. 5%)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">bufferSize&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># minimum fleet size to be set by this FleetAutoscaler. &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># if not specified, the actual minimum fleet size will be bufferSize&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">minReplicas&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">10&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># maximum fleet size that can be set by this FleetAutoscaler&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># required&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxReplicas&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">20&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The autoscaling sync strategy&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sync&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># type of the sync. for now, only FixedInterval is available&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">FixedInterval&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># parameters of the fixedInterval sync&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fixedInterval&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the time in seconds between each auto scaling&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">seconds&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">30&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="counter-and-list-autoscaling">Counter and List Autoscaling&lt;/h2>
&lt;p>A Counter based autoscaler can be used to autoscale &lt;code>GameServers&lt;/code> based on a Count and Capacity set on each of the
GameServers in a Fleet to ensure there is always a buffer of total capacity available.&lt;/p>
&lt;p>For example, if you have a game server that can support 10 rooms, and you want to ensure that there are always at least
5 rooms available, you could use a counter-based autoscaler with a buffer size of 5. The autoscaler would then scale the
&lt;code>Fleet&lt;/code> up or down based on the difference between the count of rooms across the &lt;code>Fleet&lt;/code> and the capacity of
rooms across the Fleet to ensure the buffer is maintained.&lt;/p>
&lt;p>Counter-based &lt;code>FleetAutoscaler&lt;/code> specification below and in the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>example folder&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">autoscaling.agones.dev/v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">FleetAutoscaler&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">fleet-autoscaler-counter&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fleetName&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">fleet-example&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">policy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Counter &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Counter based autoscaling&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">counter&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Key is the name of the Counter. Required field.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">players&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># BufferSize is the size of a buffer of counted items that are available in the Fleet (available capacity).&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Value can be an absolute number (ex: 5) or a percentage of the Counter available capacity (ex: 5%).&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># An absolute number is calculated from percentage by rounding up. Must be bigger than 0. Required field.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">bufferSize&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># MinCapacity is the minimum aggregate Counter total capacity across the fleet.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># If BufferSize is specified as a percentage, MinCapacity is required and cannot be 0.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># If non zero, MinCapacity must be smaller than MaxCapacity and must be greater than or equal to BufferSize.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">minCapacity&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">10&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># MaxCapacity is the maximum aggregate Counter total capacity across the fleet.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># MaxCapacity must be greater than or equal to both MinCapacity and BufferSize. Required field.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxCapacity&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">100&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>A List based autoscaler can be used to autoscale &lt;code>GameServers&lt;/code> based on the List length and Capacity set on each of the
GameServers in a Fleet to ensure there is always a buffer of total capacity available.&lt;/p>
&lt;p>For example, if you have a game server that can support 10 players, and you want to ensure that there are always
room for at least 5 players across &lt;code>GameServers&lt;/code> in a &lt;code>Fleet&lt;/code>, you could use a list-based autoscaler with a buffer size
of 5. The autoscaler would then scale the &lt;code>Fleet&lt;/code> up or down based on the difference between the total length of
the &lt;code>players&lt;/code> and the total &lt;code>players&lt;/code> capacity across the Fleet to ensure the buffer is maintained.&lt;/p>
&lt;p>List-based &lt;code>FleetAutoscaler&lt;/code> specification below and in the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>example folder&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">autoscaling.agones.dev/v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">FleetAutoscaler&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">fleet-autoscaler-list&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fleetName&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">fleet-example&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">policy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">List &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># List based autoscaling.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">list&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Key is the name of the List. Required field.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">rooms&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># BufferSize is the size of a buffer based on the List capacity that is available over the current&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># aggregate List length in the Fleet (available capacity).&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># It can be specified either as an absolute value (i.e. 5) or percentage format (i.e. 5%).&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Must be bigger than 0. Required field.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">bufferSize&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># MinCapacity is the minimum aggregate List total capacity across the fleet.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># If BufferSize is specified as a percentage, MinCapacity is required must be greater than 0.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># If non-zero, MinCapacity must be smaller than MaxCapacity and must be greater than or equal to BufferSize.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">minCapacity&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">10&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># MaxCapacity is the maximum aggregate List total capacity across the fleet.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># MaxCapacity must be greater than or equal to both MinCapacity and BufferSize. Required field.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxCapacity&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">100&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="webhook-autoscaling">Webhook Autoscaling&lt;/h2>
&lt;p>A webhook-based &lt;code>FleetAutoscaler&lt;/code> can be used to delegate the scaling logic to a separate http based service. This
can be useful if you want to use a custom scaling algorithm or if you want to integrate with other systems. For
example, you could use a webhook-based &lt;code>FleetAutoscaler&lt;/code> to scale your fleet based on data from a match-maker or player
authentication system or a combination of systems.&lt;/p>
&lt;p>Webhook based autoscalers have the added benefit of being able to scale a Fleet to 0 replicas, since they are able to
scale up on demand based on an external signal before a &lt;code>GameServerAllocation&lt;/code> is executed from a match-maker or
similar system.&lt;/p>
&lt;p>In order to define the path to your Webhook you can use either &lt;code>URL&lt;/code> or &lt;code>service&lt;/code>. Note that &lt;code>caBundle&lt;/code> parameter is
required if you use HTTPS for webhook &lt;code>FleetAutoscaler&lt;/code>, &lt;code>caBundle&lt;/code> should be omitted if you want to use HTTP webhook
server.&lt;/p>
&lt;p>For Webhook FleetAutoscaler below and in
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>example folder&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;autoscaling.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">FleetAutoscaler&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">webhook-fleet-autoscaler&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fleetName&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">policy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># type of the policy - this example is Webhook&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Webhook&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># parameters for the webhook policy - this is a WebhookClientConfig, as per other K8s webhooks&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">webhook&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># use a service, or URL&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">service&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">autoscaler-webhook-service&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">namespace&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">scale&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># optional for URL defined webhooks&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># url: &amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># caBundle: optional, used for HTTPS webhook type&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The autoscaling sync strategy&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sync&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># type of the sync. for now, only FixedInterval is available&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">FixedInterval&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># parameters of the fixedInterval sync&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fixedInterval&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the time in seconds between each auto scaling&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">seconds&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">30&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>See the &lt;a href="http://localhost:1313/docs/reference/fleetautoscaler/#webhook-endpoint-specification">Webhook Endpoint Specification&lt;/a> for the specification of the incoming and
outgoing JSON packet structure for the webhook endpoint.&lt;/p>
&lt;h2 id="spec-field-reference">Spec Field Reference&lt;/h2>
&lt;p>The &lt;code>spec&lt;/code> field of the &lt;code>FleetAutoscaler&lt;/code> is composed as follows:&lt;/p>
&lt;ul>
&lt;li>&lt;code>fleetName&lt;/code> is name of the fleet to attach to and control. Must be an existing &lt;code>Fleet&lt;/code> in the same namespace
as this &lt;code>FleetAutoscaler&lt;/code>.&lt;/li>
&lt;li>&lt;code>policy&lt;/code> is the autoscaling policy
&lt;ul>
&lt;li>&lt;code>type&lt;/code> is type of the policy. &amp;ldquo;Buffer&amp;rdquo; and &amp;ldquo;Webhook&amp;rdquo; are available&lt;/li>
&lt;li>&lt;code>buffer&lt;/code> parameters of the buffer policy type
&lt;ul>
&lt;li>&lt;code>bufferSize&lt;/code> is the size of a buffer of &amp;ldquo;ready&amp;rdquo; and &amp;ldquo;reserved&amp;rdquo; game server instances.
The FleetAutoscaler will scale the fleet up and down trying to maintain this buffer,
as instances are being allocated or terminated.
Note that &amp;ldquo;reserved&amp;rdquo; game servers could not be scaled down.
It can be specified either in absolute (i.e. 5) or percentage format (i.e. 5%)&lt;/li>
&lt;li>&lt;code>minReplicas&lt;/code> is the minimum fleet size to be set by this FleetAutoscaler.
if not specified, the minimum fleet size will be bufferSize if absolute value is used.
When &lt;code>bufferSize&lt;/code> in percentage format is used, &lt;code>minReplicas&lt;/code> should be more than 0.&lt;/li>
&lt;li>&lt;code>maxReplicas&lt;/code> is the maximum fleet size that can be set by this FleetAutoscaler. Required.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>webhook&lt;/code> parameters of the webhook policy type
&lt;ul>
&lt;li>&lt;code>service&lt;/code> is a reference to the service for this webhook. Either &lt;code>service&lt;/code> or &lt;code>url&lt;/code> must be specified. If the webhook is running within the cluster, then you should use &lt;code>service&lt;/code>. Port 8000 will be used if it is open, otherwise it is an error.
&lt;ul>
&lt;li>&lt;code>name&lt;/code> is the service name bound to Deployment of autoscaler webhook. Required
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>(see example)&lt;/a>
The FleetAutoscaler will scale the fleet up and down based on the response from this webhook server&lt;/li>
&lt;li>&lt;code>namespace&lt;/code> is the kubernetes namespace where webhook is deployed. Optional
If not specified, the &amp;ldquo;default&amp;rdquo; would be used&lt;/li>
&lt;li>&lt;code>path&lt;/code> is an optional URL path which will be sent in any request to this service. (i. e. /scale)&lt;/li>
&lt;li>&lt;code>port&lt;/code> is optional, it is the port for the service which is hosting the webhook. The default is 8000 for backward compatibility. If given, it should be a valid port number (1-65535, inclusive).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>url&lt;/code> gives the location of the webhook, in standard URL form (&lt;code>[scheme://]host:port/path&lt;/code>). Exactly one of &lt;code>url&lt;/code> or &lt;code>service&lt;/code> must be specified. The &lt;code>host&lt;/code> should not refer to a service running in the cluster; use the &lt;code>service&lt;/code> field instead. (optional, instead of service)&lt;/li>
&lt;li>&lt;code>caBundle&lt;/code> is a PEM encoded certificate authority bundle which is used to issue and then validate the webhook&amp;rsquo;s server certificate. Base64 encoded PEM string. Required only for HTTPS. If not present HTTP client would be used.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Note: only one &lt;code>buffer&lt;/code> or &lt;code>webhook&lt;/code> could be defined for FleetAutoscaler which is based on the &lt;code>type&lt;/code> field.&lt;/li>
&lt;li>&lt;code>counter&lt;/code> parameters of the counter policy type
&lt;ul>
&lt;li>&lt;code>counter&lt;/code> contains the settings for counter-based autoscaling:
&lt;ul>
&lt;li>&lt;code>key&lt;/code> is the name of the counter to use for scaling decisions.&lt;/li>
&lt;li>&lt;code>bufferSize&lt;/code> is the size of a buffer of counted items that are available in the Fleet (available capacity). Value can be an absolute number or a percentage of desired game server instances. An absolute number is calculated from percentage by rounding up. Must be bigger than 0.&lt;/li>
&lt;li>&lt;code>minCapacity&lt;/code> is the minimum aggregate Counter total capacity across the fleet. If zero, MinCapacity is ignored. If non zero, MinCapacity must be smaller than MaxCapacity and bigger than BufferSize.&lt;/li>
&lt;li>&lt;code>maxCapacity&lt;/code> is the maximum aggregate Counter total capacity across the fleet. It must be bigger than both MinCapacity and BufferSize.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>list&lt;/code> parameters of the list policy type
&lt;ul>
&lt;li>&lt;code>list&lt;/code> contains the settings for list-based autoscaling:
&lt;ul>
&lt;li>&lt;code>key&lt;/code> is the name of the list to use for scaling decisions.&lt;/li>
&lt;li>&lt;code>bufferSize&lt;/code> is the size of a buffer based on the List capacity that is available over the current aggregate List length in the Fleet (available capacity). It can be specified either as an absolute value or percentage format.&lt;/li>
&lt;li>&lt;code>minCapacity&lt;/code> is the minimum aggregate List total capacity across the fleet. If zero, it is ignored. If non zero, it must be smaller than MaxCapacity and bigger than BufferSize.&lt;/li>
&lt;li>&lt;code>maxCapacity&lt;/code> is the maximum aggregate List total capacity across the fleet. It must be bigger than both MinCapacity and BufferSize. Required field.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>sync&lt;/code> is autoscaling sync strategy. It defines when to run the autoscaling
&lt;ul>
&lt;li>&lt;code>type&lt;/code> is type of the sync. For now only &amp;ldquo;FixedInterval&amp;rdquo; is available&lt;/li>
&lt;li>&lt;code>fixedInterval&lt;/code> parameters of the fixedInterval sync
&lt;ul>
&lt;li>&lt;code>seconds&lt;/code> is the time in seconds between each autoscaling&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="webhook-endpoint-specification">Webhook Endpoint Specification&lt;/h2>
&lt;p>A webhook based &lt;code>FleetAutoscaler&lt;/code> sends an HTTP POST request to the webhook endpoint every sync period (default is 30s)
with a JSON body, and scale the target fleet based on the data that is returned.&lt;/p>
&lt;p>The JSON payload that is sent is a &lt;code>FleetAutoscaleReview&lt;/code> data structure and a &lt;code>FleetAutoscaleResponse&lt;/code> data
structure is expected to be returned.&lt;/p>
&lt;p>The &lt;code>FleetAutoscaleResponse&lt;/code>&amp;rsquo;s &lt;code>Replica&lt;/code> field is used to set the target &lt;code>Fleet&lt;/code> count with each sync interval, thereby
providing the autoscaling functionality.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">// FleetAutoscaleReview is passed to the webhook with a populated Request value,
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">// and then returned with a populated Response.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span> &lt;span style="color:#000">FleetAutoscaleReview&lt;/span> &lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Request&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">FleetAutoscaleRequest&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;request&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Response&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#000">FleetAutoscaleResponse&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;response&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span> &lt;span style="color:#000">FleetAutoscaleRequest&lt;/span> &lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// UID is an identifier for the individual request/response. It allows us to distinguish instances of requests which are
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// otherwise identical (parallel requests, requests when earlier requests did not modify etc)
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// The UID is meant to track the round trip (request/response) between the Autoscaler and the WebHook, not the user request.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// It is suitable for correlating log entries between the webhook and apiserver, for either auditing or debugging.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">UID&lt;/span> &lt;span style="color:#000">types&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">UID&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;uid&amp;#34;&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Name is the name of the Fleet being scaled
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">Name&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;name&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Namespace is the namespace associated with the request (if any).
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">Namespace&lt;/span> &lt;span style="color:#204a87;font-weight:bold">string&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;namespace&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// The Fleet&amp;#39;s status values
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">Status&lt;/span> &lt;span style="color:#000">v1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">FleetStatus&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;status&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span> &lt;span style="color:#000">FleetAutoscaleResponse&lt;/span> &lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// UID is an identifier for the individual request/response.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// This should be copied over from the corresponding FleetAutoscaleRequest.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">UID&lt;/span> &lt;span style="color:#000">types&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">UID&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;uid&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Set to false if no scaling should occur to the Fleet
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">Scale&lt;/span> &lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;scale&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// The targeted replica count
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">Replicas&lt;/span> &lt;span style="color:#204a87;font-weight:bold">int32&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;replicas&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">// FleetStatus is the status of a Fleet
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span> &lt;span style="color:#000">FleetStatus&lt;/span> &lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Replicas the total number of current GameServer replicas
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">Replicas&lt;/span> &lt;span style="color:#204a87;font-weight:bold">int32&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;replicas&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// ReadyReplicas are the number of Ready GameServer replicas
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">ReadyReplicas&lt;/span> &lt;span style="color:#204a87;font-weight:bold">int32&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;readyReplicas&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// ReservedReplicas are the total number of Reserved GameServer replicas in this fleet.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Reserved instances won&amp;#39;t be deleted on scale down, but won&amp;#39;t cause an autoscaler to scale up.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">ReservedReplicas&lt;/span> &lt;span style="color:#204a87;font-weight:bold">int32&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;reservedReplicas&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// AllocatedReplicas are the number of Allocated GameServer replicas
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">AllocatedReplicas&lt;/span> &lt;span style="color:#204a87;font-weight:bold">int32&lt;/span> &lt;span style="color:#4e9a06">`json:&amp;#34;allocatedReplicas&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For Webhook Fleetautoscaler Policy either HTTP or HTTPS could be used. Switching between them occurs depending on https presence in &lt;code>URL&lt;/code> or by the presence of &lt;code>caBundle&lt;/code>.
The example of the webhook written in Go could be found
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>here&lt;/a>.&lt;/p>
&lt;p>It implements the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>scaling logic&lt;/a> based on the percentage of allocated gameservers in a fleet.&lt;/p></description></item><item><title>Docs: Quickstart: Create a Fleet Autoscaler</title><link>http://localhost:1313/docs/getting-started/create-fleetautoscaler/</link><pubDate>Wed, 02 Jan 2019 06:42:33 +0000</pubDate><guid>http://localhost:1313/docs/getting-started/create-fleetautoscaler/</guid><description>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;p>It is assumed that you have followed the instructions to &lt;a href="http://localhost:1313/docs/getting-started/create-fleet/">Create a Game Server Fleet&lt;/a>
and you have a running fleet of game servers.&lt;/p>
&lt;h2 id="objectives">Objectives&lt;/h2>
&lt;ul>
&lt;li>Create a Fleet Autoscaler in Kubernetes using Code Blind custom resource.&lt;/li>
&lt;li>Watch the Fleet scale up when allocating GameServers&lt;/li>
&lt;li>Watch the Fleet scale down when shutting down allocated GameServers&lt;/li>
&lt;li>Edit the autoscaler specification to apply live changes&lt;/li>
&lt;/ul>
&lt;h3 id="1-create-a-fleet-autoscaler">1. Create a Fleet Autoscaler&lt;/h3>
&lt;p>Let&amp;rsquo;s create a Fleet Autoscaler using the following command :&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/fleetautoscaler.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see a successful output similar to this :&lt;/p>
&lt;pre tabindex="0">&lt;code>fleetautoscaler.autoscaling.agones.dev/simple-game-server-autoscaler created
&lt;/code>&lt;/pre>&lt;p>This has created a FleetAutoscaler record inside Kubernetes.&lt;/p>
&lt;h3 id="2-see-the-autoscaler-status">2. See the autoscaler status.&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe fleetautoscaler simple-game-server-autoscaler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It should look something like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>Name: simple-game-server-autoscaler
Namespace: default
Labels: &amp;lt;none&amp;gt;
Annotations: kubectl.kubernetes.io/last-applied-configuration={&amp;#34;apiVersion&amp;#34;:&amp;#34;au
toscaling.agones.dev/v1&amp;#34;,&amp;#34;kind&amp;#34;:&amp;#34;FleetAutoscaler&amp;#34;,&amp;#34;metadata&amp;#34;:{&amp;#34;annotations&amp;#34;:{},
&amp;#34;name&amp;#34;:&amp;#34;simple-game-server-autoscaler&amp;#34;,&amp;#34;namespace&amp;#34;:&amp;#34;default&amp;#34;},...
API Version: autoscaling.agones.dev/v1
Kind: FleetAutoscaler
Metadata:
Cluster Name:
Creation Timestamp: 2018-10-02T15:19:58Z
Generation: 1
Owner References:
API Version: autoscaling.agones.dev/v1
Block Owner Deletion: true
Controller: true
Kind: Fleet
Name: simple-game-server
UID: 9960762e-c656-11e8-933e-fa163e07a1d4
Resource Version: 6123197
Self Link: /apis/autoscaling.agones.dev/v1/namespaces/default/fleetautoscalers/simple-game-server-autoscaler
UID: 9fd0efa1-c656-11e8-933e-fa163e07a1d4
Spec:
Fleet Name: simple-game-server
Policy:
Buffer:
Buffer Size: 2
Max Replicas: 10
Min Replicas: 2
Type: Buffer
Status:
Able To Scale: true
Current Replicas: 2
Desired Replicas: 2
Last Scale Time: &amp;lt;nil&amp;gt;
Scaling Limited: false
Events: &amp;lt;none&amp;gt;
&lt;/code>&lt;/pre>&lt;p>You can see the status (able to scale, not limited), the last time the fleet was scaled (nil for never)
and the current and desired fleet size.&lt;/p>
&lt;p>The autoscaler works by changing the desired size, and the fleet creates/deletes game server instances
to achieve that number. The convergence is achieved in time, which is usually measured in seconds.&lt;/p>
&lt;h3 id="3-allocate-a-game-server-from-the-fleet">3. Allocate a Game Server from the Fleet&lt;/h3>
&lt;p>If you&amp;rsquo;re interested in more details for game server allocation, you should consult the &lt;a href="http://localhost:1313/docs/getting-started/create-fleet/">Create a Game Server Fleet&lt;/a> page.
In here we are only interested in triggering allocations to see the autoscaler in action.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/gameserverallocation.yaml -o yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should get in return the allocated game server details, which should end with something like:&lt;/p>
&lt;pre tabindex="0">&lt;code>status:
address: 34.94.118.237
gameServerName: simple-game-server-v6jwb-6bzkz
nodeName: gke-test-cluster-default-f11755a7-5km3
ports:
- name: default
port: 7832
state: Allocated
&lt;/code>&lt;/pre>&lt;p>Note the address and port, you might need them later to connect to the server.&lt;/p>
&lt;h3 id="4-see-the-autoscaler-in-action">4. See the autoscaler in action&lt;/h3>
&lt;p>Now let&amp;rsquo;s wait a few seconds to allow the autoscaler to detect the change in the fleet and check again its status&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe fleetautoscaler simple-game-server-autoscaler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The last part should look something like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>Spec:
Fleet Name: simple-game-server
Policy:
Buffer:
Buffer Size: 2
Max Replicas: 10
Min Replicas: 2
Type: Buffer
Status:
Able To Scale: true
Current Replicas: 3
Desired Replicas: 3
Last Scale Time: 2018-10-02T16:00:02Z
Scaling Limited: false
Events:
Type Reason Age From Message
---- ------ ---- ---- -------
Normal AutoScalingFleet 2m fleetautoscaler-controller Scaling fleet simple-game-server from 2 to 3
&lt;/code>&lt;/pre>&lt;p>You can see that the fleet size has increased, the autoscaler having compensated for the allocated instance.
Last Scale Time has been updated, and a scaling event has been logged.&lt;/p>
&lt;p>Double-check the actual number of game server instances and status by running&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will get you a list of all the current &lt;code>GameServers&lt;/code> and their &lt;code>Status &amp;gt; State&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-mzhrl-hz8wk Allocated 10.30.64.99 7131 minikube 5m
simple-game-server-mzhrl-k6jg5 Ready 10.30.64.100 7243 minikube 5m
simple-game-server-mzhrl-n2sk2 Ready 10.30.64.168 7658 minikube 5m
&lt;/code>&lt;/pre>&lt;h3 id="5-shut-the-allocated-instance-down">5. Shut the allocated instance down&lt;/h3>
&lt;p>Since we&amp;rsquo;ve only got one allocation, we&amp;rsquo;ll just grab the details of the IP and port of the
only allocated &lt;code>GameServer&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gameservers &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep Allocated &lt;span style="color:#000;font-weight:bold">|&lt;/span> awk &lt;span style="color:#4e9a06">&amp;#39;{print $3&amp;#34;:&amp;#34;$4 }&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This should output your Game Server IP address and port. (eg &lt;code>10.130.65.208:7936&lt;/code>)&lt;/p>
&lt;p>You can now communicate with the &lt;code>GameServer&lt;/code>:&lt;/p>
&lt;pre tabindex="0">&lt;code>nc -u {IP} {PORT}
Hello World !
ACK: Hello World !
EXIT
&lt;/code>&lt;/pre>&lt;p>You can finally type &lt;code>EXIT&lt;/code> which tells the SDK to run the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#shutdown">Shutdown command&lt;/a>, and therefore shuts down the &lt;code>GameServer&lt;/code>.&lt;/p>
&lt;h3 id="6-see-the-fleet-scaling-down">6. See the fleet scaling down&lt;/h3>
&lt;p>Now let&amp;rsquo;s wait a few seconds to allow the autoscaler to detect the change in the fleet and check again its status&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe fleetautoscaler simple-game-server-autoscaler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It should look something like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>Spec:
Fleet Name: simple-game-server
Policy:
Buffer:
Buffer Size: 2
Max Replicas: 10
Min Replicas: 2
Type: Buffer
Status:
Able To Scale: true
Current Replicas: 3
Desired Replicas: 2
Last Scale Time: 2018-10-02T16:09:02Z
Scaling Limited: false
Events:
Type Reason Age From Message
---- ------ ---- ---- -------
Normal AutoScalingFleet 9m fleetautoscaler-controller Scaling fleet simple-game-server from 2 to 3
Normal AutoScalingFleet 45s fleetautoscaler-controller Scaling fleet simple-game-server from 3 to 2
&lt;/code>&lt;/pre>&lt;p>You can see that the fleet size has decreased, the autoscaler adjusting to game server instance being de-allocated,
the Last Scale Time and the events have been updated. Note that simple-game-server game server instance you just closed earlier
might stay a bit in &amp;lsquo;Unhealthy&amp;rsquo; state (and its pod in &amp;lsquo;Terminating&amp;rsquo; until it gets removed.&lt;/p>
&lt;p>Double-check the actual number of game server instances and status by running&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will get you a list of all the current &lt;code>GameServers&lt;/code> and their &lt;code>Status &amp;gt; State&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-mzhrl-k6jg5 Ready 10.30.64.100 7243 minikube 5m
simple-game-server-mzhrl-t7944 Ready 10.30.64.168 7561 minikube 5m
&lt;/code>&lt;/pre>&lt;h3 id="7-change-autoscaling-parameters">7. Change autoscaling parameters&lt;/h3>
&lt;p>We can also change the configuration of the &lt;code>FleetAutoscaler&lt;/code> of the running &lt;code>Fleet&lt;/code>, and have the changes
applied live, without interruptions of service.&lt;/p>
&lt;p>Run &lt;code>kubectl edit fleetautoscaler simple-game-server-autoscaler&lt;/code> and set the &lt;code>bufferSize&lt;/code> field to &lt;code>5&lt;/code>.&lt;/p>
&lt;p>Let&amp;rsquo;s look at the list of game servers again. Run &lt;code>watch kubectl get gs&lt;/code>
until you can see that are 5 ready server instances:&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-mzhrl-7jpkp Ready 10.30.64.100 7019 minikube 5m
simple-game-server-mzhrl-czt8v Ready 10.30.64.168 7556 minikube 5m
simple-game-server-mzhrl-k6jg5 Ready 10.30.64.100 7243 minikube 5m
simple-game-server-mzhrl-nb8h2 Ready 10.30.64.168 7357 minikube 5m
simple-game-server-mzhrl-qspb6 Ready 10.30.64.99 7859 minikube 5m
simple-game-server-mzhrl-zg9rq Ready 10.30.64.99 7745 minikube 5m
&lt;/code>&lt;/pre>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>If you want to update a &lt;code>Fleet&lt;/code> which has &lt;code>RollingUpdate&lt;/code> replacement strategy and is controlled by a &lt;code>FleetAutoscaler&lt;/code>:&lt;/p>
&lt;ol>
&lt;li>With &lt;code>kubectl apply&lt;/code>: you should omit &lt;code>replicas&lt;/code> parameter in a &lt;code>Fleet&lt;/code> Spec before re-applying the &lt;code>Fleet&lt;/code> configuration.&lt;/li>
&lt;li>With &lt;code>kubectl edit&lt;/code>: you should not change the &lt;code>replicas&lt;/code> parameter in the &lt;code>Fleet&lt;/code> Spec when updating other field parameters.&lt;/li>
&lt;/ol>
&lt;p>If you follow the rules above, then the &lt;code>maxSurge&lt;/code> and &lt;code>maxUnavailable&lt;/code> parameters will be used as the RollingUpdate strategy updates your Fleet.
Otherwise the Fleet would be scaled according to Fleet &lt;code>replicas&lt;/code> parameter first and only after a certain amount of time it would be rescaled to fit &lt;code>FleetAutoscaler&lt;/code> &lt;code>BufferSize&lt;/code> parameter.&lt;/p>
&lt;p>You could also check the behaviour of the Fleet with Fleetautoscaler on a test &lt;code>Fleet&lt;/code> to preview what would occur in your production environment.&lt;/p>
&lt;/div>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;p>Read the advanced &lt;a href="http://localhost:1313/docs/advanced/scheduling-and-autoscaling/">Scheduling and Autoscaling&lt;/a> guide, for more details on autoscaling.&lt;/p>
&lt;p>If you want to use your own GameServer container make sure you have properly integrated the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Code Blind SDK&lt;/a>.&lt;/p></description></item><item><title>Docs: Azure Kubernetes Service</title><link>http://localhost:1313/docs/installation/creating-cluster/aks/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/creating-cluster/aks/</guid><description>
&lt;h2 id="choosing-your-shell">Choosing your shell&lt;/h2>
&lt;p>You can use either &lt;a href="https://docs.microsoft.com/azure/cloud-shell/overview">Azure Cloud Shell&lt;/a> or install the &lt;a href="https://docs.microsoft.com/cli/azure/?view=azure-cli-latest">Azure CLI&lt;/a> on your local shell in order to install AKS in your own Azure subscription. Cloud Shell comes preinstalled with &lt;code>az&lt;/code> and &lt;code>kubectl&lt;/code> utilities whereas you need to install them locally if you want to use your local shell. If you use Windows 10, you can use the &lt;a href="https://docs.microsoft.com/windows/wsl/install-win10">WIndows Subsystem for Windows&lt;/a> as well.&lt;/p>
&lt;h2 id="creating-the-aks-cluster">Creating the AKS cluster&lt;/h2>
&lt;p>If you are using Azure CLI from your local shell, you need to log in to your Azure account by executing the &lt;code>az login&lt;/code> command and following the login procedure.&lt;/p>
&lt;p>Here are the steps you need to follow to create a new AKS cluster (additional instructions and clarifications are listed &lt;a href="https://docs.microsoft.com/azure/aks/kubernetes-walkthrough">here&lt;/a>):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Declare necessary variables, modify them according to your needs&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">AKS_RESOURCE_GROUP&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>akstestrg &lt;span style="color:#8f5902;font-style:italic"># Name of the resource group your AKS cluster will be created in&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">AKS_NAME&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>akstest &lt;span style="color:#8f5902;font-style:italic"># Name of your AKS cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">AKS_LOCATION&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>westeurope &lt;span style="color:#8f5902;font-style:italic"># Azure region in which you&amp;#39;ll deploy your AKS cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Create the Resource Group where your AKS resource will be installed&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>az group create --name &lt;span style="color:#000">$AKS_RESOURCE_GROUP&lt;/span> --location &lt;span style="color:#000">$AKS_LOCATION&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Create the AKS cluster - this might take some time. Type &amp;#39;az aks create -h&amp;#39; to see all available options&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># The following command will create a four Node AKS cluster. Node size is Standard A1 v1 and Kubernetes version is 1.28.0. Plus, SSH keys will be generated for you, use --ssh-key-value to provide your values&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>az aks create --resource-group &lt;span style="color:#000">$AKS_RESOURCE_GROUP&lt;/span> --name &lt;span style="color:#000">$AKS_NAME&lt;/span> --node-count &lt;span style="color:#0000cf;font-weight:bold">4&lt;/span> --generate-ssh-keys --node-vm-size Standard_A4_v2 --kubernetes-version 1.28.0 --enable-node-public-ip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Install kubectl&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo az aks install-cli
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Get credentials for your new AKS cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>az aks get-credentials --resource-group &lt;span style="color:#000">$AKS_RESOURCE_GROUP&lt;/span> --name &lt;span style="color:#000">$AKS_NAME&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Alternatively, you can use the &lt;a href="https://portal.azure.com">Azure Portal&lt;/a> to create a new AKS cluster &lt;a href="https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal">(instructions)&lt;/a>.&lt;/p>
&lt;h3 id="allowing-udp-traffic">Allowing UDP traffic&lt;/h3>
&lt;p>For Code Blind to work correctly, we need to allow UDP traffic to pass through to our AKS cluster. To achieve this, we must update the NSG (Network Security Group) with the proper rule. A simple way to do that is:&lt;/p>
&lt;ul>
&lt;li>Log in to the &lt;a href="https://portal.azure.com/">Azure Portal&lt;/a>&lt;/li>
&lt;li>Find the resource group where the AKS(Azure Kubernetes Service) resources are kept, which should have a name like &lt;code>MC_resourceGroupName_AKSName_westeurope&lt;/code>. Alternative, you can type &lt;code>az resource show --namespace Microsoft.ContainerService --resource-type managedClusters -g $AKS_RESOURCE_GROUP -n $AKS_NAME -o json | jq .properties.nodeResourceGroup&lt;/code>&lt;/li>
&lt;li>Find the Network Security Group object, which should have a name like &lt;code>aks-agentpool-********-nsg&lt;/code> (ie. aks-agentpool-55978144-nsg for dns-name-prefix agones)&lt;/li>
&lt;li>Select &lt;strong>Inbound Security Rules&lt;/strong>&lt;/li>
&lt;li>Select &lt;strong>Add&lt;/strong> to create a new Rule with &lt;strong>UDP&lt;/strong> as the protocol and &lt;strong>7000-8000&lt;/strong> as the Destination Port Ranges. Pick a proper name and leave everything else at their default values&lt;/li>
&lt;/ul>
&lt;p>Alternatively, you can use the following command, after modifying the &lt;code>RESOURCE_GROUP_WITH_AKS_RESOURCES&lt;/code> and &lt;code>NSG_NAME&lt;/code> values:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>az network nsg rule create &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --resource-group RESOURCE_GROUP_WITH_AKS_RESOURCES &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --nsg-name NSG_NAME &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --name AgonesUDP &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --access Allow &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --protocol Udp &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --direction Inbound &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --priority &lt;span style="color:#0000cf;font-weight:bold">520&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --source-port-range &lt;span style="color:#4e9a06">&amp;#34;*&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --destination-port-range 7000-8000
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="getting-public-ips-to-nodes">Getting Public IPs to Nodes&lt;/h3>
&lt;h4 id="kubernetes-version-prior-to-11819-11911-and-1207">Kubernetes version prior to 1.18.19, 1.19.11 and 1.20.7&lt;/h4>
&lt;p>To find a resource&amp;rsquo;s public IP, search for &lt;a href="https://portal.azure.com/#blade/HubsExtension/BrowseResourceBlade/resourceType/Microsoft.Compute%2FvirtualMachineScaleSets">Virtual Machine Scale Sets&lt;/a> -&amp;gt; click on the set name(inside &lt;code>MC_resourceGroupName_AKSName_westeurope&lt;/code> group) -&amp;gt; click &lt;code>Instances&lt;/code> -&amp;gt; click on the instance name -&amp;gt; view &lt;code>Public IP address&lt;/code>.&lt;/p>
&lt;p>To get public IP via API &lt;a href="https://github.com/Azure/azure-libraries-for-net/issues/1185#issuecomment-747919226">look here&lt;/a>.&lt;/p>
&lt;p>For more information on Public IPs for VM NICs, see &lt;a href="https://docs.microsoft.com/azure/virtual-network/virtual-network-network-interface-addresses">this document&lt;/a>.&lt;/p>
&lt;h4 id="kubernetes-version-starting-11819-11911-and-1207">Kubernetes version starting 1.18.19, 1.19.11 and 1.20.7&lt;/h4>
&lt;p>Virtual Machines public IP is available directly in Kubernetes EXTERNAL-IP.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Continue to &lt;a href="http://localhost:1313/docs/installation/install-agones/">Install Code Blind&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Local Game Server</title><link>http://localhost:1313/docs/guides/local-game-server/</link><pubDate>Tue, 19 Feb 2019 08:00:00 +0000</pubDate><guid>http://localhost:1313/docs/guides/local-game-server/</guid><description>
&lt;p>You can register a local game server with Code Blind. This means you can run an experimental build of your game server in the Code Blind environment without the need of packaging and deploying it to a fleet. This allows you to quickly iterate on your game server code while still being able to plugin to your Code Blind environment.&lt;/p>
&lt;h2 id="register-your-server-with-code-blind">Register your server with Code Blind&lt;/h2>
&lt;p>To register your local game server you&amp;rsquo;ll need to know the IP address of the machine running it and the port. With that you&amp;rsquo;ll create a game server config like the one below.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">my-local-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">annotations&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Causes Code Blind to register your local game server at 192.1.1.2, replace with your server&amp;#39;s IP address.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/dev-address&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;192.1.1.2&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">default&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">portPolicy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Static&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">hostPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">17654&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">17654&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># The following is ignored but required due to validation.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-game-server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">us-docker.pkg.dev/codeblind/examples/simple-server:0.27&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Once you save this to a file make sure you have &lt;code>kubectl&lt;/code> configured to point to your Code Blind cluster and then run &lt;code>kubectl apply -f dev-gameserver.yaml&lt;/code>. This will register your server with Code Blind.&lt;/p>
&lt;p>Local Game Servers has a few limitations:&lt;/p>
&lt;ul>
&lt;li>PortPolicy must be &lt;code>Static&lt;/code>.&lt;/li>
&lt;li>The game server is not managed by Code Blind. Features like autoscaling, replication, etc are not available.&lt;/li>
&lt;/ul>
&lt;p>When you are finished working with your server, you can remove the registration with &lt;code>kubectl delete -f dev-gameserver.yaml&lt;/code>&lt;/p>
&lt;h2 id="next-steps">Next Steps:&lt;/h2>
&lt;ul>
&lt;li>Review the specification of &lt;a href="http://localhost:1313/docs/reference/gameserver/">GameServer&lt;/a>.&lt;/li>
&lt;li>Read about &lt;code>GameServer&lt;/code> allocation.
&lt;ul>
&lt;li>Review the flow of how &lt;a href="http://localhost:1313/docs/integration-patterns/allocation-from-fleet/">allocation&lt;/a> is done.&lt;/li>
&lt;li>Review the specification of &lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">GameServerAllocation&lt;/a>.&lt;/li>
&lt;li>Check out the &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">Allocator Service&lt;/a> as a richer alternative to &lt;code>GameServerAllocation&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Learn how to connect your local development game server binary into a running Code Blind Kubernetes cluster for even more live development options with an &lt;a href="http://localhost:1313/docs/advanced/out-of-cluster-dev-server/">out of cluster dev server&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Latency Testing with Multiple Clusters</title><link>http://localhost:1313/docs/guides/ping-service/</link><pubDate>Thu, 03 Jan 2019 01:20:30 +0000</pubDate><guid>http://localhost:1313/docs/guides/ping-service/</guid><description>
&lt;p>To make latency testing easier, Code Blind installs with a simple ping service with both HTTP and UDP services that can be called
for the purpose of timing how long the roundtrip takes for information to be returned from either of these services.&lt;/p>
&lt;h2 id="installing">Installing&lt;/h2>
&lt;p>By default, Code Blind installs &lt;a href="https://kubernetes.io/docs/concepts/services-networking/service/">Kubernetes Services&lt;/a> for
both HTTP and the UDP ping endpoints. These can be disabled entirely,
or disabled individually. See the &lt;a href="http://localhost:1313/docs/installation/install-agones/helm/">Helm install guide&lt;/a> for the parameters to
pass through,
as well as configuration options.&lt;/p>
&lt;p>The ping services as all installed under the &lt;code>agones-system&lt;/code> namespace.&lt;/p>
&lt;h2 id="http-service">HTTP Service&lt;/h2>
&lt;p>This exposes an endpoint that returns a simple text HTTP response on request to the root &amp;ldquo;/&amp;rdquo; path. By default this is &lt;code>ok&lt;/code>, but
it can be configured via the &lt;code>agones.ping.http.response&lt;/code> parameter.&lt;/p>
&lt;p>This could be useful for providing clusters
with unique lookup names, such that clients are able to identify clusters from their responses.&lt;/p>
&lt;p>To lookup the details of this service, run &lt;code>kubectl describe service agones-ping-http-service --namespace=agones-system&lt;/code>&lt;/p>
&lt;h2 id="udp-service">UDP Service&lt;/h2>
&lt;p>The UDP ping service is a rate limited UDP echo service that returns the udp packet that it receives to its designated
sender.&lt;/p>
&lt;p>Since UDP sender details can be spoofed, this service is rate limited to 20 requests per second,
per sender address, per running instance (default is 2).&lt;/p>
&lt;p>This rate limit can be raised or lowered via the Helm install parameter &lt;code>agones.ping.udp.rateLimit&lt;/code>.&lt;/p>
&lt;p>UDP packets are also limited to 1024 bytes in size.&lt;/p>
&lt;p>To lookup the details of this service, run &lt;code>kubectl describe service agones-ping-udp-service --namespace=agones-system&lt;/code>&lt;/p>
&lt;h2 id="client-side-tooling">Client side tooling&lt;/h2>
&lt;p>We deliberately didn&amp;rsquo;t provide any game client libraries, as all major languages and engines have capabilities
to send HTTP requests as well as UDP packets.&lt;/p></description></item><item><title>Docs: Quickstart: Create a Fleet Autoscaler with Webhook Policy</title><link>http://localhost:1313/docs/getting-started/create-webhook-fleetautoscaler/</link><pubDate>Wed, 02 Jan 2019 06:42:44 +0000</pubDate><guid>http://localhost:1313/docs/getting-started/create-webhook-fleetautoscaler/</guid><description>
&lt;p>In some cases, your game servers may need to use custom logic for scaling your fleet that is more complex than what
can be expressed using the Buffer policy in the fleetautoscaler. This guide shows how you can extend Code Blind
with an autoscaler webhook to implement a custom autoscaling policy.&lt;/p>
&lt;p>When you use an autoscaler webhook the logic computing the number of target replicas is delegated to an external
HTTP/S endpoint, such as one provided by a Kubernetes deployment and service in the same cluster (as shown in the
examples below). The fleetautoscaler will send a request to the webhook autoscaler&amp;rsquo;s &lt;code>/scale&lt;/code> endpoint every sync
period (currently 30s) with a JSON body, and scale the target fleet based on the data that is returned.&lt;/p>
&lt;h2 id="chapter-1-configuring-http-fleetautoscaler-webhook">Chapter 1 Configuring HTTP fleetautoscaler webhook&lt;/h2>
&lt;h3 id="prerequisites">Prerequisites&lt;/h3>
&lt;p>It is assumed that you have completed the instructions to &lt;a href="http://localhost:1313/docs/getting-started/create-fleet/">Create a Game Server Fleet&lt;/a> and have a running fleet of game servers.&lt;/p>
&lt;h3 id="objectives">Objectives&lt;/h3>
&lt;ul>
&lt;li>Run a fleet&lt;/li>
&lt;li>Deploy the Webhook Pod and service for autoscaling&lt;/li>
&lt;li>Create a Fleet Autoscaler with Webhook policy type in Kubernetes using Code Blind custom resource&lt;/li>
&lt;li>Watch the Fleet scales up when allocating GameServers&lt;/li>
&lt;li>Watch the Fleet scales down after GameServer shutdown&lt;/li>
&lt;/ul>
&lt;h4 id="1-deploy-the-fleet">1. Deploy the fleet&lt;/h4>
&lt;p>Run a fleet in a cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/fleet.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="2-deploy-a-webhook-service-for-autoscaling">2. Deploy a Webhook service for autoscaling&lt;/h4>
&lt;p>In this step we would deploy an example webhook that will control the size of the fleet based on allocated gameservers
portion in a fleet. You can see the source code for this example webhook server
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>here&lt;/a>.
The fleetautoscaler would trigger this endpoint every 30 seconds. More details could be found
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>also here&lt;/a>.
We need to create a pod which will handle HTTP requests with json payload
&lt;a href="http://localhost:1313/docs/reference/fleetautoscaler/#webhook-endpoint-specification">&lt;code>FleetAutoscaleReview&lt;/code>&lt;/a> and return back it
with &lt;a href="http://localhost:1313/docs/reference/fleetautoscaler/#webhook-endpoint-specification">&lt;code>FleetAutoscaleResponse&lt;/code>&lt;/a> populated.&lt;/p>
&lt;p>The &lt;code>Scale&lt;/code> flag and &lt;code>Replicas&lt;/code> values returned in the &lt;code>FleetAutoscaleResponse&lt;/code> tells the FleetAutoscaler what target size the backing Fleet should be scaled up or down to. If &lt;code>Scale&lt;/code> is false - no scaling occurs.&lt;/p>
&lt;p>Run next command to create a service and a Webhook pod in a cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/autoscaler-webhook/autoscaler-service.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To check that it is running and liveness probe is fine:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe pod autoscaler-webhook
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>Name: autoscaler-webhook-86944884c4-sdtqh
Namespace: default
Node: gke-test-cluster-default-1c5dec79-h0tq/10.138.0.2
...
Status: Running
&lt;/code>&lt;/pre>&lt;h4 id="3-create-a-fleet-autoscaler">3. Create a Fleet Autoscaler&lt;/h4>
&lt;p>Let&amp;rsquo;s create a Fleet Autoscaler using the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/webhookfleetautoscaler.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see a successful output similar to this:&lt;/p>
&lt;pre tabindex="0">&lt;code>fleetautoscaler.autoscaling.agones.dev &amp;#34;webhook-fleet-autoscaler&amp;#34; created
&lt;/code>&lt;/pre>&lt;p>This has created a FleetAutoscaler record inside Kubernetes.
It has the link to Webhook service we deployed above.&lt;/p>
&lt;h4 id="4-see-the-fleet-and-autoscaler-status">4. See the fleet and autoscaler status.&lt;/h4>
&lt;p>In order to track the list of gameservers which run in your fleet you can run this command in a separate terminal tab:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span> watch &lt;span style="color:#4e9a06">&amp;#34;kubectl get gs -n default&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In order to get autoscaler status use the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe fleetautoscaler webhook-fleet-autoscaler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It should look something like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>Name: webhook-fleet-autoscaler
Namespace: default
Labels: &amp;lt;none&amp;gt;
Annotations: kubectl.kubernetes.io/last-applied-configuration={&amp;#34;apiVersion&amp;#34;:
&amp;#34;autoscaling.agones.dev/v1&amp;#34;,&amp;#34;kind&amp;#34;:&amp;#34;FleetAutoscaler&amp;#34;,&amp;#34;metadata&amp;#34;:{&amp;#34;annotations&amp;#34;
:{},&amp;#34;name&amp;#34;:&amp;#34;webhook-fleet-autoscaler&amp;#34;,&amp;#34;namespace&amp;#34;:&amp;#34;default...
API Version: autoscaling.agones.dev/v1
Kind: FleetAutoscaler
etadata:
Cluster Name:
Creation Timestamp: 2018-12-22T12:52:23Z
Generation: 1
Resource Version: 2274579
Self Link: /apis/autoscaling.agones.dev/v1/namespaces/default/fleet
autoscalers/webhook-fleet-autoscaler
UID: 6d03eae4-05e8-11e9-84c2-42010a8a01c9
Spec:
Fleet Name: simple-game-server
Policy:
Type: Webhook
Webhook:
Service:
Name: autoscaler-webhook-service
Namespace: default
Path: scale
URL:
Status:
Able To Scale: true
Current Replicas: 2
Desired Replicas: 2
Last Scale Time: &amp;lt;nil&amp;gt;
Scaling Limited: false
Events: &amp;lt;none&amp;gt;
&lt;/code>&lt;/pre>&lt;p>You can see the status (able to scale, not limited), the last time the fleet was scaled (nil for never), current and desired fleet size.&lt;/p>
&lt;p>The autoscaler makes a query to a webhoook service deployed on step 1 and on response changing the target Replica size, and the fleet creates/deletes game server instances
to achieve that number. The convergence is achieved in time, which is usually measured in seconds.&lt;/p>
&lt;h4 id="5-allocate-game-servers-from-the-fleet-to-trigger-scale-up">5. Allocate Game Servers from the Fleet to trigger scale up&lt;/h4>
&lt;p>If you&amp;rsquo;re interested in more details for game server allocation, you should consult the &lt;a href="http://localhost:1313/docs/getting-started/create-fleet/">Create a Game Server Fleet&lt;/a> page.
Here we only interested in triggering allocations to see the autoscaler in action.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/gameserverallocation.yaml -o yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should get in return the allocated game server details, which should end with something like:&lt;/p>
&lt;pre tabindex="0">&lt;code>status:
address: 34.94.118.237
gameServerName: simple-game-server-v6jwb-6bzkz
nodeName: gke-test-cluster-default-f11755a7-5km3
ports:
- name: default
port: 7832
state: Allocated
&lt;/code>&lt;/pre>&lt;p>Note the address and port, you might need them later to connect to the server.&lt;/p>
&lt;p>Run the kubectl command one more time so that we have both servers allocated:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/gameserverallocation.yaml -o yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="6-check-new-autoscaler-and-fleet-status">6. Check new Autoscaler and Fleet status&lt;/h4>
&lt;p>Now let&amp;rsquo;s wait a few seconds to allow the autoscaler to detect the change in the fleet and check again its status&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe fleetautoscaler webhook-fleet-autoscaler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The last part should look similar to this:&lt;/p>
&lt;pre tabindex="0">&lt;code>Spec:
Fleet Name: simple-game-server
Policy:
Type: Webhook
Webhook:
Service:
Name: autoscaler-webhook-service
Namespace: default
Path: scale
URL:
Status:
Able To Scale: true
Current Replicas: 4
Desired Replicas: 4
Last Scale Time: 2018-12-22T12:53:47Z
Scaling Limited: false
Events:
Type Reason Age From Message
---- ------ ---- ---- -------
Normal AutoScalingFleet 35s fleetautoscaler-controller Scaling fleet simple-game-server from 2 to 4
&lt;/code>&lt;/pre>&lt;p>You can see that the fleet size has increased in particular case doubled to 4 gameservers (based on our custom logic in our webhook), the autoscaler having compensated for the two allocated instances.
Last Scale Time has been updated and a scaling event has been logged.&lt;/p>
&lt;p>Double-check the actual number of game server instances and status by running:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span> kubectl get gs -n default
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will get you a list of all the current &lt;code>GameServers&lt;/code> and their &lt;code>Status &amp;gt; State&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-dmkp4-8pkk2 Ready 35.247.13.175 7386 minikube 5m
simple-game-server-dmkp4-b7x87 Allocated 35.247.13.175 7219 minikube 5m
simple-game-server-dmkp4-r4qtt Allocated 35.247.13.175 7220 minikube 5m
simple-game-server-dmkp4-rsr6n Ready 35.247.13.175 7297 minikube 5m
&lt;/code>&lt;/pre>&lt;h4 id="7-check-downscaling-using-webhook-autoscaler-policy">7. Check downscaling using Webhook Autoscaler policy&lt;/h4>
&lt;p>Based on our custom webhook deployed earlier, if the fraction of allocated replicas in whole Replicas count would be less than threshold (0.3) then the fleet would scale down by scaleFactor, in our example by 2.&lt;/p>
&lt;p>Note that the example webhook server has a limitation that it would not decrease fleet replica count under &lt;code>minReplicasCount&lt;/code>, which is equal to 2.&lt;/p>
&lt;p>We need to run EXIT command on one gameserver (Use IP address and port of the allocated gameserver from the previous step) in order to decrease the number of allocated gameservers in a fleet (&amp;lt;0.3).&lt;/p>
&lt;pre tabindex="0">&lt;code>nc -u 35.247.13.175 7220
EXIT
&lt;/code>&lt;/pre>&lt;p>Server would be in shutdown state.
Wait about 30 seconds.
Then you should see scaling down event in the output of next command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe fleetautoscaler webhook-fleet-autoscaler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You should see these lines in events:&lt;/p>
&lt;pre tabindex="0">&lt;code> Normal AutoScalingFleet 11m fleetautoscaler-controller Scaling fleet simple-game-server from 2 to 4
Normal AutoScalingFleet 1m fleetautoscaler-controller Scaling fleet simple-game-server from 4 to 2
&lt;/code>&lt;/pre>&lt;p>And get gameservers command output:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get gs -n default
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>NAME STATUS ADDRESS PORT NODE AGE
simple-game-server-884fg-6q5sk Ready 35.247.117.202 7373 minikube 5m
simple-game-server-884fg-b7l58 Allocated 35.247.117.202 7766 minikube 5m
&lt;/code>&lt;/pre>&lt;h4 id="8-cleanup">8. Cleanup&lt;/h4>
&lt;p>You can delete the autoscaler service and associated resources with the following commands.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl delete -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/autoscaler-webhook/autoscaler-service.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Removing the fleet:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl delete -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/fleet.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="chapter-2-configuring-https-fleetautoscaler-webhook-with-ca-bundle">Chapter 2 Configuring HTTPS fleetautoscaler webhook with CA Bundle&lt;/h2>
&lt;h3 id="objectives-1">Objectives&lt;/h3>
&lt;p>Using TLS and a certificate authority (CA) bundle we can establish trusted communication between Fleetautoscaler and
an HTTPS server running the autoscaling webhook that controls the size of the fleet (Replicas count). The certificate of the
autoscaling webhook must be signed by the CA provided in fleetautoscaler yaml configuration file. Using TLS eliminates
the possibility of a man-in-the-middle attack between the fleetautoscaler and the autoscaling webhook.&lt;/p>
&lt;h4 id="1-deploy-the-fleet-1">1. Deploy the fleet&lt;/h4>
&lt;p>Run a fleet in a cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/fleet.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="2-create-x509-root-and-webhook-certificates">2. Create X509 Root and Webhook certificates&lt;/h4>
&lt;p>The procedure of generating a Self-signed CA certificate is as follows:&lt;/p>
&lt;p>The first step is to create the private root key:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>openssl genrsa -out rootCA.key &lt;span style="color:#0000cf;font-weight:bold">2048&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The next step is to self-sign this certificate:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>openssl req -x509 -new -nodes -key rootCA.key -sha256 -days &lt;span style="color:#0000cf;font-weight:bold">1024&lt;/span> -out rootCA.pem
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will start an interactive script that will ask you for various bits of information. Fill it out as you see fit.&lt;/p>
&lt;p>Every webhook that you wish to install a trusted certificate will need to go through this process. First, just like with the root CA step, you’ll need to create a private key (different from the root CA):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>openssl genrsa -out webhook.key &lt;span style="color:#0000cf;font-weight:bold">2048&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Next create configuration file &lt;code>cert.conf&lt;/code> for the certificate signing request:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-none" data-lang="none">[req]
distinguished_name = req_distinguished_name
req_extensions = v3_req
prompt = no
[req_distinguished_name]
CN = autoscaler-tls-service.default.svc
[v3_req]
keyUsage = digitalSignature
extendedKeyUsage = serverAuth
subjectAltName = @alt_names
[alt_names]
DNS.1 = autoscaler-tls-service.default.svc
&lt;/code>&lt;/pre>&lt;p>Generate the certificate signing request, use valid hostname which in this case will be &lt;code>autoscaler-tls-service.default.svc&lt;/code> as &lt;code>Common Name (eg, fully qualified host name)&lt;/code> as well as &lt;code>DNS.1&lt;/code> in the &lt;code>alt_names&lt;/code> section of the config file.&lt;/p>
&lt;p>Check the &lt;a href="https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/#a-aaaa-records">Kubernetes documentation&lt;/a> to see how Services get assigned DNS entries.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>openssl req -new -out webhook.csr -key webhook.key -config cert.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Once that’s done, you’ll sign the CSR, which requires the CA root key:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>openssl x509 -req -in webhook.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out webhook.crt -days &lt;span style="color:#0000cf;font-weight:bold">500&lt;/span> -sha256 -extfile cert.conf -extensions v3_req
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This would generate webhook.crt certificate&lt;/p>
&lt;p>Add secret which later would be mounted to autoscaler-webhook-tls pod.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create secret tls autoscalersecret --cert&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>webhook.crt --key&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>webhook.key
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You need to put Base64-encoded string into caBundle field in your fleetautoscaler yaml configuration:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>base64 -i ./rootCA.pem
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Copy the output of the command above and replace the caBundle field in your text editor (say vim) with the new value:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>wget https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/webhookfleetautoscalertls.yaml
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim ./webhookfleetautoscalertls.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="3-deploy-a-webhook-service-for-autoscaling">3. Deploy a Webhook service for autoscaling&lt;/h4>
&lt;p>Run next command to create a service and a Webhook pod in a cluster:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/autoscaler-webhook/autoscaler-service-tls.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To check that it is running and liveness probe is fine:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe pod autoscaler-webhook-tls
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Wait for the Running status results:&lt;/p>
&lt;pre tabindex="0">&lt;code>Name: autoscaler-webhook-tls-f74c9bff7-ssrsc
Namespace: default
...
Status: Running
&lt;/code>&lt;/pre>&lt;h4 id="4-create-a-fleet-autoscaler">4. Create a Fleet Autoscaler&lt;/h4>
&lt;p>Let&amp;rsquo;s create a Fleet Autoscaler using the following command (caBundle should be set properly on Step 2):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f ./webhookfleetautoscalertls.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="5-see-the-fleet-and-autoscaler-status">5. See the fleet and autoscaler status.&lt;/h4>
&lt;p>In order to track the list of gameservers which run in your fleet you can run this command in a separate terminal tab:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span> watch &lt;span style="color:#4e9a06">&amp;#34;kubectl get gs -n default&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="6-allocate-two-game-servers-from-the-fleet-to-trigger-scale-up">6. Allocate two Game Servers from the Fleet to trigger scale up&lt;/h4>
&lt;p>If you&amp;rsquo;re interested in more details for game server allocation, you should consult the &lt;a href="http://localhost:1313/docs/getting-started/create-fleet/">Create a Game Server Fleet&lt;/a> page.
Here we only interested in triggering allocations to see the autoscaler in action.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">for&lt;/span> i in &lt;span style="color:#ce5c00;font-weight:bold">{&lt;/span>0..1&lt;span style="color:#ce5c00;font-weight:bold">}&lt;/span> &lt;span style="color:#000;font-weight:bold">;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">do&lt;/span> kubectl create -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/gameserverallocation.yaml -o yaml &lt;span style="color:#000;font-weight:bold">;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="7-check-new-autoscaler-and-fleet-status">7. Check new Autoscaler and Fleet status&lt;/h4>
&lt;p>Now let&amp;rsquo;s wait a few seconds to allow the autoscaler to detect the change in the fleet and check again its status&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe fleetautoscaler webhook-fleetautoscaler-tls
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The last part should look similar to this:&lt;/p>
&lt;pre tabindex="0">&lt;code>Spec:
Fleet Name: simple-game-server
Policy:
Type: Webhook
Webhook:
Ca Bundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN1RENDQWFBQ0NRQ29kcEFNbTlTd0pqQU5CZ2txaGtpRzl3MEJBUXNGQURBZU1Rc3dDUVlEVlFRR0V3SlYKVXpFUE1BMEdBMVVFQ3d3R1FXZHZibVZ6TUI0WERURTVNREV3TkRFeE5URTBORm9YRFRJeE1UQXlOREV4TlRFMApORm93SGpFTE1Ba0dBMVVFQmhNQ1ZWTXhEekFOQmdOVkJBc01Ca0ZuYjI1bGN6Q0NBU0l3RFFZSktvWklodmNOCkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFOQ0h5dndDOTZwZDlTdkFhMUIvRWg2ekcxeDBLS1dPaVhtNzhJcngKKzZ5WHd5YVpsMVo1cVExbUZoOThMSGVZUmQwWVgzRTJnelZ5bFpvUlUra1ZESzRUc0VzV0tNUFVpdVo0MUVrdApwbythbEN6alAyaXZzRGZaOGEvdnByL3dZZ2FrWGtWalBUaGpKUk9xTnFIdWROMjZVcUFJYnNOTVpoUkxkOVFFCnFLSjRPNmFHNVMxTVNqZFRGVHFlbHJiZitDcXNKaHltZEIzZmxGRUVvdXExSmoxS0RoQjRXWlNTbS9VSnpCNkcKNHUzY3BlQm1jTFVRR202ZlFHb2JFQSt5SlpMaEVXcXBrd3ZVZ2dCNmRzWE8xZFNIZXhhZmlDOUVUWGxVdFRhZwo1U2JOeTVoYWRWUVV3Z253U0J2djR2R0t1UUxXcWdXc0JyazB5Wll4Sk5Bb0V5RUNBd0VBQVRBTkJna3Foa2lHCjl3MEJBUXNGQUFPQ0FRRUFRMkgzaWJRcWYzQTNES2l1eGJISURkbll6TlZ2Z0dhRFpwaVZyM25ocm55dmxlNVgKR09hRm0rMjdRRjRWV29FMzZDTGhYZHpEWlM4bEpIY09YUW5KOU83Y2pPYzkxVmh1S2NmSHgwS09hU1oweVNrVAp2bEtXazlBNFdoNGE0QXFZSlc3Z3BUVHR1UFpydnc4VGsvbjFaWEZOYVdBeDd5RU5OdVdiODhoNGRBRDVaTzRzCkc5SHJIdlpuTTNXQzFBUXA0Q3laRjVyQ1I2dkVFOWRkUmlKb3IzM3pLZTRoRkJvN0JFTklZZXNzZVlxRStkcDMKK0g4TW5LODRXeDFUZ1N5Vkp5OHlMbXFpdTJ1aThjaDFIZnh0OFpjcHg3dXA2SEZLRlRsTjlBeXZUaXYxYTBYLwpEVTk1eTEwdi9oTlc0WHpuMDJHNGhrcjhzaUduSEcrUEprT3hBdz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
Service: &amp;lt;nil&amp;gt;
URL: https://autoscaler-tls-service.default.svc:8000/scale
Events:
Type Reason Age From Message
---- ------ ---- ---- -------
Normal AutoScalingFleet 5s fleetautoscaler-controller Scaling fleet simple-game-server from 2 to 4
&lt;/code>&lt;/pre>&lt;p>You can see that the fleet size has increased in particular case doubled to 4 gameservers (based on our custom logic in our webhook), the autoscaler having compensated for the two allocated instances.
Last Scale Time has been updated and a scaling event has been logged.&lt;/p>
&lt;p>Double-check the actual number of game server instances and status by running:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span> kubectl get gs -n default
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will get you a list of all the current &lt;code>GameServers&lt;/code> and their &lt;code>Status &amp;gt; State&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>NAME STATE ADDRESS PORT NODE AGE
simple-game-server-njmr7-2t4nx Ready 35.203.159.68 7330 minikube 1m
simple-game-server-njmr7-65rp6 Allocated 35.203.159.68 7294 minikube 4m
&lt;/code>&lt;/pre>&lt;h4 id="8-cleanup-1">8. Cleanup&lt;/h4>
&lt;p>You can delete the autoscaler service and associated resources with the following commands.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl delete -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/autoscaler-webhook/autoscaler-service-tls.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Removing x509 key secret:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl delete secret autoscalersecret
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Removing the fleet:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl delete -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/simple-game-server/fleet.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="comments">Comments&lt;/h3>
&lt;p>Note that secure communication has been established and we can trust that communication between the fleetautoscaler and
the autoscaling webhook. If you need to run the autoscaling webhook outside of the Kubernetes cluster, you can use
another root certificate authority as long as you put it into the caBundle parameter in fleetautoscaler configuration
(in pem format, base64-encoded).&lt;/p>
&lt;h2 id="troubleshooting-guide">Troubleshooting Guide&lt;/h2>
&lt;p>If you run into problems with the configuration of your fleetautoscaler and webhook service the easiest way to debug
them is to run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe fleetautoscaler &amp;lt;FleetAutoScalerName&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>and inspect the events at the bottom of the output.&lt;/p>
&lt;h3 id="common-error-messages">Common error messages.&lt;/h3>
&lt;p>If you have configured the wrong service Path for the FleetAutoscaler you will see a message like&lt;/p>
&lt;pre tabindex="0">&lt;code>Error calculating desired fleet size on FleetAutoscaler simple-fleet-r7fdv-autoscaler. Error: bad status code 404 from the server: https://autoscaler-tls-service.default.svc:8000/scale
&lt;/code>&lt;/pre>&lt;p>If you are using a hostname other than &lt;code>autoscaler-tls-service.default.svc&lt;/code> as the
&lt;code>Common Name (eg, fully qualified host name)&lt;/code> when creating a certificate using &lt;code>openssl&lt;/code> tool you will see a
message like&lt;/p>
&lt;pre tabindex="0">&lt;code>Post https://autoscaler-tls-service.default.svc:8000/scale: x509: certificate is not valid for any names, but wanted to match autoscaler-tls-service.default.svc
&lt;/code>&lt;/pre>&lt;p>If you see errors like the following in &lt;code>autoscaler-webhook-tls&lt;/code> pod logs:&lt;/p>
&lt;pre tabindex="0">&lt;code>http: TLS handshake error from 10.48.3.125:33374: remote error: tls: bad certificate
&lt;/code>&lt;/pre>&lt;p>Then there could be an issue with your &lt;code>./rootCA.pem&lt;/code>.&lt;/p>
&lt;p>You can repeat the process from step 2, in order to fix your certificates setup.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;p>Read the advanced &lt;a href="http://localhost:1313/docs/advanced/scheduling-and-autoscaling/">Scheduling and Autoscaling&lt;/a> guide, for more details on autoscaling.&lt;/p>
&lt;p>If you want to use your own GameServer container make sure you have properly integrated the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Code Blind SDK&lt;/a>.&lt;/p></description></item><item><title>Docs: Reusing Allocated GameServers for more than one game session</title><link>http://localhost:1313/docs/integration-patterns/reusing-gameservers/</link><pubDate>Wed, 01 Sep 2021 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/integration-patterns/reusing-gameservers/</guid><description>
&lt;p>Having a &lt;code>GameServer&lt;/code> terminate after a single player session is better for packing and optimisation of
infrastructure usage, as well as safety to ensure the process returns to an absolute zero state.&lt;/p>
&lt;p>However, depending on the &lt;code>GameServer&lt;/code> startup time, or other factors there may be reasons you wish to reuse a
&lt;code>GameServer&lt;/code> for &lt;em>n&lt;/em> number of sessions before finally shutting it down.&lt;/p>
&lt;p>The &amp;ldquo;magic trick&amp;rdquo; to this is knowing that the &lt;code>GameServer&lt;/code> process can call
&lt;a href="http://localhost:1313/docs/guides/client-sdks/#ready">&lt;code>SDK.Ready()&lt;/code>&lt;/a> to return to a &lt;code>Ready&lt;/code>
state after the &lt;code>GameServer&lt;/code> has been allocated.&lt;/p>
&lt;p>It is then up to the game developer to ensure that the game server process returns to a zero state once a game
session has been completed.&lt;/p>
&lt;a href="../../../diagrams/reusing-gameservers.puml.png" target="_blank">
&lt;img src="../../../diagrams/reusing-gameservers.puml.png" alt="Reserved Lifecycle Sequence Diagram" />
&lt;/a>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Have a look at all commands the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK&lt;/a> provides.&lt;/li>
&lt;li>If you aren&amp;rsquo;t familiar with the term &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/">Pod&lt;/a>, this shouldw
provide a reference.&lt;/li>
&lt;/ul></description></item><item><title>Docs: C# Game Server Client SDK</title><link>http://localhost:1313/docs/guides/client-sdks/csharp/</link><pubDate>Thu, 28 May 2020 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/guides/client-sdks/csharp/</guid><description>
&lt;p>Check the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK Documentation&lt;/a> for more details on each of the SDK functions and how to run the SDK locally.&lt;/p>
&lt;h2 id="sdk-functionality">SDK Functionality&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Area&lt;/th>
&lt;th>Action&lt;/th>
&lt;th>Implemented&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Ready&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Health&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Reserve&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Allocate&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Shutdown&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>GetGameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>WatchGameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetAnnotation&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetLabel&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>IncrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>DecrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>AppendListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>DeleteListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>SetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>ListContains&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListLength&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListValues&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetConnectedPlayers&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCount&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>IsPlayerConnected&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerConnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerDisconnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>SetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="download">Download&lt;/h2>
&lt;p>Download the source
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>directly from GitHub&lt;/a>.&lt;/p>
&lt;h2 id="install-using-nuget">Install using NuGet&lt;/h2>
&lt;ul>
&lt;li>Download the nuget package &lt;a href="https://www.nuget.org/packages/AgonesSDK/">directly&lt;/a>&lt;/li>
&lt;li>Install the latest version using the Package Manager: &lt;code>Install-Package AgonesSDK&lt;/code>&lt;/li>
&lt;li>Install the latest version using the .NET CLI: &lt;code>dotnet add package AgonesSDK&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>To select a specific version, append &lt;code>--version&lt;/code>, for example: &lt;code>--version 1.8.0&lt;/code> to either commands.&lt;/p>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;ul>
&lt;li>.Net Standard 2.0 compliant framework.&lt;/li>
&lt;/ul>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Reference the SDK in your project &amp;amp; create a new instance of the SDK wrapper:&lt;/p>
&lt;h3 id="initialization">Initialization&lt;/h3>
&lt;p>To use the AgonesSDK, you will need to import the namespace by adding &lt;code>using Code Blind;&lt;/code> at the beginning of your relevant files.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">agones&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">new&lt;/span> &lt;span style="color:#000">AgonesSDK&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="connection">Connection&lt;/h3>
&lt;p>To connect to the SDK server, either locally or when running on Code Blind, run the &lt;code>ConnectAsync()&lt;/code> method.
This will wait for up to 30 seconds if the SDK server has not yet started and the connection cannot be made,
and will return &lt;code>false&lt;/code> if there was an issue connecting.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ConnectAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ready">Ready&lt;/h3>
&lt;p>To mark the game server as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#ready">ready to receive player connections&lt;/a>, call the async method &lt;code>ReadyAsync()&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">async&lt;/span> &lt;span style="color:#204a87;font-weight:bold">void&lt;/span> &lt;span style="color:#000">SomeMethod&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ReadyAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="health">Health&lt;/h3>
&lt;p>To send &lt;code>Health&lt;/code> pings, call the async method &lt;code>HealthAsync()&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">HealthAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="getgameserver">GetGameServer&lt;/h3>
&lt;p>To get the details on the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#gameserver">backing &lt;code>GameServer&lt;/code>&lt;/a> call &lt;code>GetGameServerAsync()&lt;/code>.&lt;/p>
&lt;p>Will return &lt;code>null&lt;/code> if there is an error in retrieving the &lt;code>GameServer&lt;/code> record.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">gameserver&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetGameServerAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="reserve">Reserve&lt;/h3>
&lt;p>To mark the GameServer as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#reserveseconds">Reserved&lt;/a> for a duration call
&lt;code>ReserveAsync(long duration)&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">long&lt;/span> &lt;span style="color:#000">duration&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">30&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ReserveAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">duration&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="shutdown">ShutDown&lt;/h3>
&lt;p>To mark that the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#shutdown">game session is completed&lt;/a> and the game server should be shut down call &lt;code>ShutdownAsync()&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ShutdownAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="setannotation---setlabel">SetAnnotation &amp;amp; SetLabel&lt;/h3>
&lt;p>Similarly &lt;code>SetAnnotation(string key, string value)&lt;/code> and &lt;code>SetLabel(string key, string value)&lt;/code> are async methods that perform an action &amp;amp; return a &lt;code>Status&lt;/code> object.&lt;/p>
&lt;h3 id="watchgameserver">WatchGameServer&lt;/h3>
&lt;p>To watch when
&lt;a href="http://localhost:1313/docs/guides/client-sdks/#watchgameserverfunctiongameserver">the backing &lt;code>GameServer&lt;/code> configuration changes&lt;/a>
call &lt;code>WatchGameServer(callback)&lt;/code>, where the delegate function &lt;code>callback&lt;/code> of type &lt;code>Action&amp;lt;GameServer&amp;gt;&lt;/code> will be executed every time the &lt;code>GameServer&lt;/code>
configuration changes.
This process is non-blocking internally.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">agonesSDK&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WatchGameServer&lt;/span>&lt;span style="color:#000;font-weight:bold">((&lt;/span>&lt;span style="color:#000">gameServer&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000">Console&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WriteLine&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">$&amp;#34;Server - Watch {gameServer}&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">);});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="player-tracking">Player Tracking&lt;/h2>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>The Player Tracking feature is currently &lt;strong>&lt;a href="http://localhost:1313/docs/guides/feature-stages/#alpha">Alpha&lt;/a>&lt;/strong>,
not enabled by default, and may change in the future.&lt;/p>
&lt;p>Use the FeatureGate &lt;code>PlayerTracking&lt;/code>
to enable and test this feature.&lt;/p>
&lt;p>See the &lt;a href="http://localhost:1313/docs/guides/feature-stages/#feature-gates">Feature Gate documentation&lt;/a> for details on how to enable features.&lt;/p>
&lt;/div>
&lt;h3 id="alpha-playerconnect">Alpha: PlayerConnect&lt;/h3>
&lt;p>This method increases the SDK’s stored player count by one, and appends this playerID to GameServer.Status.Players.IDs.
Returns true and adds the playerID to the list of playerIDs if the playerIDs was not already in the list of connected playerIDs.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Alpha&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">PlayerConnectAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">playerId&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-playerdisconnect">Alpha: PlayerDisconnect&lt;/h3>
&lt;p>This function decreases the SDK’s stored player count by one, and removes the playerID from GameServer.Status.Players.IDs.
Will return true and remove the supplied playerID from the list of connected playerIDs if the playerID value exists within the list.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">ok&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Alpha&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">PlayerDisconnectAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">playerId&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-setplayercapacity">Alpha: SetPlayerCapacity&lt;/h3>
&lt;p>Update the &lt;code>GameServer.Status.Players.Capacity&lt;/code> value with a new capacity.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">capacity&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">100&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">status&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Alpha&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">SetPlayerCapacityAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">capacity&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-getplayercapacity">Alpha: GetPlayerCapacity&lt;/h3>
&lt;p>This function retrieves the current player capacity &lt;code>GameServer.Status.Players.Capacity&lt;/code>.
This is always accurate from what has been set through this SDK, even if the value has yet to be updated on the GameServer status resource.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">long&lt;/span> &lt;span style="color:#000">cap&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Alpha&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">GetPlayerCapacityAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-getplayercount">Alpha: GetPlayerCount&lt;/h3>
&lt;p>Returns the current player count&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">long&lt;/span> &lt;span style="color:#000">count&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Alpha&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">GetPlayerCountAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="alpha-isplayerconnected">Alpha: IsPlayerConnected&lt;/h3>
&lt;p>This returns if the playerID is currently connected to the GameServer.
This is always accurate, even if the value hasn’t been updated to the GameServer status yet.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">var&lt;/span> &lt;span style="color:#000">playerId&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;player1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">bool&lt;/span> &lt;span style="color:#000">isConnected&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Alpha&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">IsPlayerConnectedAsync&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">playerId&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="remarks">Remarks&lt;/h2>
&lt;ul>
&lt;li>All requests other than &lt;code>ConnectAsync&lt;/code> will wait for up to 15 seconds before giving up, time to wait can also be set in the constructor.&lt;/li>
&lt;li>Default host &amp;amp; port are &lt;code>localhost:9357&lt;/code>&lt;/li>
&lt;li>Methods that do not return a data object such as &lt;code>GameServer&lt;/code> will return a gRPC &lt;code>Grpc.Core.Status&lt;/code> object. To check the state of the request, check &lt;code>Status.StatusCode&lt;/code> &amp;amp; &lt;code>Status.Detail&lt;/code>.
Ex:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">StatusCode&lt;/span> &lt;span style="color:#000;font-weight:bold">==&lt;/span> &lt;span style="color:#000">StatusCode&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">OK&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">//do stuff&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: Node.js Game Server Client SDK</title><link>http://localhost:1313/docs/guides/client-sdks/nodejs/</link><pubDate>Sun, 24 Feb 2019 15:56:57 +0000</pubDate><guid>http://localhost:1313/docs/guides/client-sdks/nodejs/</guid><description>
&lt;p>Check the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK Documentation&lt;/a> for more details on each of the SDK functions and how to run the SDK locally.&lt;/p>
&lt;h2 id="sdk-functionality">SDK Functionality&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Area&lt;/th>
&lt;th>Action&lt;/th>
&lt;th>Implemented&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Ready&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Health&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Reserve&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Allocate&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Shutdown&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>GetGameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>WatchGameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetAnnotation&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetLabel&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>IncrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>DecrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>AppendListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>DeleteListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>SetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>ListContains&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListLength&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListValues&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetConnectedPlayers&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCount&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>IsPlayerConnected&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerConnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerDisconnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>SetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;ul>
&lt;li>Node.js &amp;gt;= 10.13.0&lt;/li>
&lt;/ul>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Add the agones dependency to your project:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>npm install @google-cloud/agones-sdk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you need to download the source, rather than install from NPM, you can find it on
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>GitHub&lt;/a>.&lt;/p>
&lt;p>To begin working with the SDK, create an instance of it.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">const&lt;/span> &lt;span style="color:#000">AgonesSDK&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">require&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;@google-cloud/agones-sdk&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span> &lt;span style="color:#000">agonesSDK&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">new&lt;/span> &lt;span style="color:#000">AgonesSDK&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To connect to the SDK server, either local or when running on Code Blind, run the &lt;code>async&lt;/code> method &lt;code>sdk.connect()&lt;/code>, which will
&lt;code>resolve&lt;/code> once connected or &lt;code>reject&lt;/code> on error or if no connection can be made after 30 seconds.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agonesSDK&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">connect&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To send a &lt;a href="http://localhost:1313/docs/guides/client-sdks/#health">health check&lt;/a> ping call &lt;code>health(errorCallback)&lt;/code>. The error callback is optional and if provided will receive an error whenever emitted from the health check stream.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">agonesSDK&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">health&lt;/span>&lt;span style="color:#000;font-weight:bold">((&lt;/span>&lt;span style="color:#000">error&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">console&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">error&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;error&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">error&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark the game server as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#ready">ready to receive player connections&lt;/a>, call the async method &lt;code>ready()&lt;/code>. The result will be an empty object in this case.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span> &lt;span style="color:#000">result&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agonesSDK&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ready&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Similarly &lt;code>shutdown()&lt;/code>, &lt;code>allocate()&lt;/code>, &lt;code>setAnnotation(key, value)&lt;/code> and &lt;code>setLabel(key, value)&lt;/code> are async methods that perform an action and return an empty result.&lt;/p>
&lt;p>To get &lt;a href="http://localhost:1313/docs/guides/client-sdks/#gameserver">details of the backing GameServer&lt;/a> call the async method
&lt;code>getGameServer()&lt;/code>. The result will be an object representing &lt;code>GameServer&lt;/code> defined
in
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>`sdk.proto`&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span> &lt;span style="color:#000">result&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">agonesSDK&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">getGameServer&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To get &lt;a href="http://localhost:1313/docs/guides/client-sdks/#watchgameserverfunctiongameserver">updates on the backing GameServer&lt;/a> as they happen, call &lt;code>watchGameServer(callback, errorCallback)&lt;/code>. The callback will be called with a parameter matching the result of &lt;code>getGameServer()&lt;/code>. The error callback is optional and if provided will receive an error whenever emitted from the watch stream.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">agonesSDK&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">watchGameServer&lt;/span>&lt;span style="color:#000;font-weight:bold">((&lt;/span>&lt;span style="color:#000">result&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">console&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">log&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;watch&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">result&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">},&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">error&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">=&amp;gt;&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">console&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">error&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;error&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">error&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark the game server as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#reserveseconds">reserved&lt;/a> for a period of time, call the async method &lt;code>reserve(seconds)&lt;/code>. The result will be an empty object.&lt;/p>
&lt;p>For more information, please read the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">SDK Overview&lt;/a>, check out
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>agonesSDK.js&lt;/a> and also look at the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>Node.js example&lt;/a>.&lt;/p></description></item><item><title>Docs: Metrics</title><link>http://localhost:1313/docs/guides/metrics/</link><pubDate>Thu, 03 Jan 2019 03:58:19 +0000</pubDate><guid>http://localhost:1313/docs/guides/metrics/</guid><description>
&lt;p>Code Blind controller exposes metrics via &lt;a href="https://opencensus.io/">OpenCensus&lt;/a>. OpenCensus is a single distribution of libraries that collect metrics and distributed traces from your services, we only use it for metrics but it will allow us to support multiple exporters in the future.&lt;/p>
&lt;p>We choose to start with &lt;a href="https://prometheus.io/">Prometheus&lt;/a> as this is the most popular with Kubernetes but it is also compatible with Cloud Monitoring.
If you need another exporter, check the &lt;a href="https://opencensus.io/exporters/supported-exporters/go/">list of supported&lt;/a> exporters. It should be pretty straightforward to register a new one. (GitHub PRs are more than welcome.)&lt;/p>
&lt;p>We plan to support multiple exporters in the future via environment variables and helm flags.&lt;/p>
&lt;h2 id="backend-integrations">Backend integrations&lt;/h2>
&lt;h3 id="prometheus">Prometheus&lt;/h3>
&lt;p>If you are running a &lt;a href="https://prometheus.io/">Prometheus&lt;/a> instance you just need to ensure that metrics and kubernetes service discovery are enabled. (helm chart values &lt;code>agones.metrics.prometheusEnabled&lt;/code> and &lt;code>agones.metrics.prometheusServiceDiscovery&lt;/code>). This will automatically add annotations required by Prometheus to discover Code Blind metrics and start collecting them. (see &lt;a href="https://github.com/prometheus/prometheus/tree/main/documentation/examples/kubernetes-rabbitmq">example&lt;/a>)&lt;/p>
&lt;p>If your Prometheus metrics collection agent requires that you scrape from the pods directly(such as with &lt;a href="https://cloud.google.com/stackdriver/docs/managed-prometheus">Google Cloud Managed Prometheus&lt;/a>), then the metrics ports for the controller and allocator will both be named &lt;code>http&lt;/code> and exposed on &lt;code>8080&lt;/code>. In the case of the allocator, the port name and number can be overriden with the &lt;code>agones.allocator.serviceMetrics.http.portName&lt;/code> and &lt;code>agones.allocator.serviceMetrics.http.port&lt;/code> helm chart values.&lt;/p>
&lt;h3 id="prometheus-operator">Prometheus Operator&lt;/h3>
&lt;p>If you have &lt;a href="https://github.com/coreos/prometheus-operator">Prometheus operator&lt;/a> installed in your cluster, just enable ServiceMonitor installation in values:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">agones&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">metrics&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">serviceMonitor&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">enabled&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="google-cloud-managed-service-for-prometheus">Google Cloud Managed Service for Prometheus&lt;/h3>
&lt;p>&lt;a href="https://cloud.google.com/stackdriver/docs/managed-prometheus">Google Cloud Managed Service for Prometheus&lt;/a> is a fully managed multi-cloud solution for &lt;a href="https://prometheus.io/">Prometheus&lt;/a>.
If you wish to use Managed Prometheus with Code Blind, follow the &lt;a href="http://localhost:1313/docs/guides/metrics/#google-cloud-managed-service-for-prometheus-installation">Google Cloud Managed Service for Prometheus installation steps&lt;/a>.&lt;/p>
&lt;h3 id="google-cloud-monitoring-formerly-stackdriver">Google Cloud Monitoring (formerly Stackdriver)&lt;/h3>
&lt;p>We support the &lt;a href="https://opencensus.io/exporters/supported-exporters/go/stackdriver/">OpenCensus Stackdriver exporter&lt;/a>.
In order to use it you should enable &lt;a href="https://cloud.google.com/monitoring/api/enable-api">Cloud Monitoring API&lt;/a> in Google Cloud Console.
Follow the &lt;a href="http://localhost:1313/docs/guides/metrics/#google-cloud-monitoring-installation">Google Cloud Monitoring installation steps&lt;/a> to see your metrics in Cloud Monitoring.&lt;/p>
&lt;h2 id="metrics-available">Metrics available&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Type&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>agones_gameservers_count&lt;/td>
&lt;td>The number of gameservers per fleet and status&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_gameserver_allocations_duration_seconds&lt;/td>
&lt;td>The distribution of gameserver allocation requests latencies&lt;/td>
&lt;td>histogram&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_gameservers_total&lt;/td>
&lt;td>The total of gameservers per fleet and status&lt;/td>
&lt;td>counter&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_gameserver_player_connected_total&lt;/td>
&lt;td>The total number of players connected to gameservers (Only available when &lt;a href="http://localhost:1313/docs/guides/player-tracking/">player tracking&lt;/a> is enabled)&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_gameserver_player_capacity_total&lt;/td>
&lt;td>The available capacity for players on gameservers (Only available when &lt;a href="http://localhost:1313/docs/guides/player-tracking/">player tracking&lt;/a> is enabled)&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_fleets_replicas_count&lt;/td>
&lt;td>The number of replicas per fleet (total, desired, ready, reserved, allocated)&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_fleet_autoscalers_able_to_scale&lt;/td>
&lt;td>The fleet autoscaler can access the fleet to scale&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_fleet_autoscalers_buffer_limits&lt;/td>
&lt;td>The limits of buffer based fleet autoscalers (min, max)&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_fleet_autoscalers_buffer_size&lt;/td>
&lt;td>The buffer size of fleet autoscalers (count or percentage)&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_fleet_autoscalers_current_replicas_count&lt;/td>
&lt;td>The current replicas count as seen by autoscalers&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_fleet_autoscalers_desired_replicas_count&lt;/td>
&lt;td>The desired replicas count as seen by autoscalers&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_fleet_autoscalers_limited&lt;/td>
&lt;td>The fleet autoscaler is outside the limits set by MinReplicas and MaxReplicas.&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_gameservers_node_count&lt;/td>
&lt;td>The distribution of gameservers per node&lt;/td>
&lt;td>histogram&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_nodes_count&lt;/td>
&lt;td>The count of nodes empty and with gameservers&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_gameservers_state_duration&lt;/td>
&lt;td>The distribution of gameserver state duration in seconds. Note: this metric could have some missing samples by design. Do not use the &lt;code>_total&lt;/code> counter as the real value for state changes.&lt;/td>
&lt;td>histogram&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_http_request_total&lt;/td>
&lt;td>The total of HTTP requests to the Kubernetes API by status code&lt;/td>
&lt;td>counter&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_http_request_duration_seconds&lt;/td>
&lt;td>The distribution of HTTP requests latencies to the Kubernetes API by status code&lt;/td>
&lt;td>histogram&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_cache_list_total&lt;/td>
&lt;td>The total number of list operations for client-go caches&lt;/td>
&lt;td>counter&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_cache_list_duration_seconds&lt;/td>
&lt;td>Duration of a Kubernetes list API call in seconds&lt;/td>
&lt;td>histogram&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_cache_list_items&lt;/td>
&lt;td>Count of items in a list from the Kubernetes API&lt;/td>
&lt;td>histogram&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_cache_watches_total&lt;/td>
&lt;td>The total number of watch operations for client-go caches&lt;/td>
&lt;td>counter&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_cache_last_resource_version&lt;/td>
&lt;td>Last resource version from the Kubernetes API&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_workqueue_depth&lt;/td>
&lt;td>Current depth of the work queue&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_workqueue_latency_seconds&lt;/td>
&lt;td>How long an item stays in the work queue&lt;/td>
&lt;td>histogram&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_workqueue_items_total&lt;/td>
&lt;td>Total number of items added to the work queue&lt;/td>
&lt;td>counter&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_workqueue_work_duration_seconds&lt;/td>
&lt;td>How long processing an item from the work queue takes&lt;/td>
&lt;td>histogram&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_workqueue_retries_total&lt;/td>
&lt;td>Total number of items retried to the work queue&lt;/td>
&lt;td>counter&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_workqueue_longest_running_processor&lt;/td>
&lt;td>How long the longest running workqueue processor has been running in microseconds&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>agones_k8s_client_workqueue_unfinished_work_seconds&lt;/td>
&lt;td>How long unfinished work has been sitting in the workqueue in seconds&lt;/td>
&lt;td>gauge&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="dropping-metric-labels">Dropping Metric Labels&lt;/h3>
&lt;p>When a Fleet or FleetAutoscaler is deleted from the system, Code Blind will automatically clear metrics that utilise
their name as a label from the exported metrics, so the metrics exported do not continuously grow in size over the
lifecycle of the Code Blind installation.&lt;/p>
&lt;h2 id="dashboard">Dashboard&lt;/h2>
&lt;h3 id="grafana-dashboards">Grafana Dashboards&lt;/h3>
&lt;p>We provide a set of useful &lt;a href="https://grafana.com/">Grafana&lt;/a> dashboards to monitor Code Blind workload, they are located under the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>grafana folder&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind Autoscalers&lt;/a> allows you to monitor your current autoscalers replicas request as well as fleet replicas allocation and readyness statuses. You can only select one autoscaler at the time using the provided dropdown.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind GameServers&lt;/a> displays your current game servers workload status (allocations, game servers statuses, fleets replicas) with optional fleet name filtering.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind GameServer Allocations&lt;/a> displays Code Blind gameservers allocations rates and counts per fleet.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind Allocator Resource&lt;/a> displays Code Blind Allocators CPU, memory usage and also some useful Golang runtime metrics.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind Status&lt;/a> displays Code Blind controller health status.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind Controller Resource Usage&lt;/a> displays Code Blind Controller CPU and memory usage and also some Golang runtime metrics.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind Controller go-client requests&lt;/a> displays Code Blind Controller Kubernetes API consumption.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind Controller go-client caches&lt;/a> displays Code Blind Controller Kubernetes Watches/Lists operations used.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind Controller go-client workqueues&lt;/a> displays Code Blind Controller workqueue processing time and rates.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>Code Blind Controller API Server requests&lt;/a> displays your current API server request rate, errors rate and request latencies with optional CustomResourceDefinition filtering by Types: fleets, gameserversets, gameservers, gameserverallocations.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Dashboard screenshots :&lt;/p>
&lt;p>&lt;img alt="grafana dashboard autoscalers" src="../../../images/grafana-dashboard-autoscalers.png">&lt;/p>
&lt;p>&lt;img alt="grafana dashboard controller" src="../../../images/grafana-dashboard-controller.png">&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
You can import our dashboards by copying the json content from
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>each config map&lt;/a> into your own instance of Grafana (+ &amp;gt; Create &amp;gt; Import &amp;gt; Or paste json) or follow the &lt;a href="http://localhost:1313/#installation">installation&lt;/a> guide.
&lt;/div>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;p>When operating a live multiplayer game you will need to observe performances, resource usage and availability to learn more about your system. This guide will explain how you can setup Prometheus and Grafana into your own Kubernetes cluster to monitor your Code Blind workload.&lt;/p>
&lt;p>Before attemping this guide you should make sure you have &lt;a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl&lt;/a> and &lt;a href="https://docs.helm.sh/using_helm/">helm&lt;/a> installed and configured to reach your kubernetes cluster.&lt;/p>
&lt;h3 id="prometheus-installation">Prometheus installation&lt;/h3>
&lt;p>Prometheus is an open source monitoring solution, we will use it to store Code Blind controller metrics and query back the data.&lt;/p>
&lt;p>Let&amp;rsquo;s install Prometheus using the &lt;a href="https://prometheus-community.github.io/helm-charts/">Prometheus Community Kubernetes Helm Charts&lt;/a> repository.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>helm repo update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>helm upgrade --install --wait prom prometheus-community/prometheus --namespace metrics --create-namespace &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set server.global.scrape_interval&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>30s &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set server.persistentVolume.enabled&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set server.persistentVolume.size&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>64Gi &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> -f ./build/prometheus.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For resiliency it is recommended to run Prometheus on a dedicated node which is separate from nodes where Game Servers
are scheduled. If you use the above command, with our
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/main/" target="_blank" data-proofer-ignore>prometheus.yaml&lt;/a> to set up Prometheus, it will schedule Prometheus pods on nodes
tainted with &lt;code>agones.dev/agones-metrics=true:NoExecute&lt;/code> and labeled with &lt;code>agones.dev/agones-metrics=true&lt;/code> if available.&lt;/p>
&lt;p>As an example, to set up a dedicated node pool for Prometheus on GKE, run the following command before installing Prometheus. Alternatively you can taint and label nodes manually.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud container node-pools create agones-metrics --cluster&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>... --zone&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>... &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-taints agones.dev/agones-metrics&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>true:NoExecute &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --node-labels agones.dev/agones-metrics&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --num-nodes&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --machine-type&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>e2-standard-4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>By default we will disable the push gateway (we don&amp;rsquo;t need it for Code Blind) and other exporters.&lt;/p>
&lt;p>The helm chart supports
&lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector">nodeSelector&lt;/a>,
&lt;a href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">affinity&lt;/a> and &lt;a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">toleration&lt;/a>, you can use them to schedule Prometheus deployments on an isolated node(s) to have an homogeneous game servers workload.&lt;/p>
&lt;p>This will install a Prometheus Server in your current cluster with &lt;a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/">Persistent Volume Claim&lt;/a> (Deactivated for Minikube and Kind) for storing and querying time series, it will automatically start collecting metrics from Code Blind Controller.&lt;/p>
&lt;p>Finally, to access Prometheus metrics, rules and alerts explorer use&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl port-forward deployments/prom-prometheus-server &lt;span style="color:#0000cf;font-weight:bold">9090&lt;/span> -n metrics
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now you can access the prometheus dashboard &lt;a href="http://localhost:9090">http://localhost:9090&lt;/a>.&lt;/p>
&lt;p>On the landing page you can start exploring metrics by creating &lt;a href="https://prometheus.io/docs/prometheus/latest/querying/basics/">queries&lt;/a>. You can also verify what &lt;a href="http://localhost:9090/targets">targets&lt;/a> Prometheus currently monitors (Header Status &amp;gt; Targets), you should see Code Blind controller pod in the &lt;code>kubernetes-pods&lt;/code> section.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Metrics will be first registered when you will start using Code Blind.
&lt;/div>
&lt;p>Now let&amp;rsquo;s install some Grafana dashboards.&lt;/p>
&lt;h3 id="grafana-installation">Grafana installation&lt;/h3>
&lt;p>Grafana is a open source time series analytics platform which supports Prometheus data source. We can also easily import pre-built dashboards.&lt;/p>
&lt;p>First we will install &lt;a href="http://localhost:1313/docs/guides/metrics/#grafana-dashboards">Code Blind dashboard&lt;/a> as &lt;a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/">config maps&lt;/a> in our cluster.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f ./build/grafana/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now we can install the
&lt;a href="https://grafana.github.io/helm-charts/">Grafana Community Kubernetes Helm Charts&lt;/a> from
their repository. (Replace &lt;code>&amp;lt;your-admin-password&amp;gt;&lt;/code> with the admin password of your choice)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm repo add grafana https://grafana.github.io/helm-charts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>helm repo update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>helm upgrade --install --wait grafana grafana/grafana --namespace metrics &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> --set &lt;span style="color:#000">adminPassword&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&amp;lt;your-admin-password&amp;gt; -f ./build/grafana.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will install Grafana with our prepopulated dashboards and prometheus datasource &lt;a href="http://localhost:1313/docs/guides/metrics/#prometheus-installation">previously installed&lt;/a>&lt;/p>
&lt;p>Finally to access dashboards run&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl port-forward deployments/grafana &lt;span style="color:#0000cf;font-weight:bold">3000&lt;/span> -n metrics
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Open a web browser to &lt;a href="http://localhost:3000">http://localhost:3000&lt;/a>, you should see Code Blind &lt;a href="http://localhost:1313/docs/guides/metrics/#grafana-dashboards">dashboards&lt;/a> after login as admin.&lt;/p>
&lt;h3 id="google-cloud-managed-service-for-prometheus-installation">Google Cloud Managed Service for Prometheus installation&lt;/h3>
&lt;p>To collect Code Blind metrics using &lt;a href="https://cloud.google.com/stackdriver/docs/managed-prometheus">Managed Prometheus&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Follow the instructions to enable managed collection for a &lt;a href="https://cloud.google.com/stackdriver/docs/managed-prometheus/setup-managed#enable-mgdcoll-gke">GKE cluster&lt;/a> or &lt;a href="https://cloud.google.com/stackdriver/docs/managed-prometheus/setup-managed#enable-mgdcoll-non-gke">non-GKE cluster&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Configure Managed Prometheus to scrape Code Blind by creating a &lt;code>PodMonitoring&lt;/code> resource:&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -n agones-system -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/build/prometheus-google-managed.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Confirm that you can see &lt;a href="https://cloud.google.com/monitoring/promql">Prometheus metrics in Cloud Monitoring&lt;/a>. If that&amp;rsquo;s all you need, you can stop here.&lt;/li>
&lt;/ul>
&lt;p>To install Grafana using a Managed Prometheus backend:&lt;/p>
&lt;ul>
&lt;li>Complete the &lt;a href="https://cloud.google.com/stackdriver/docs/managed-prometheus/query#begin">Before you begin&lt;/a>. To align with the Code Blind &lt;a href="http://localhost:1313/docs/guides/metrics/#grafana-installation">Grafana installation&lt;/a>, we&amp;rsquo;ll be installing in the &lt;code>metrics&lt;/code> namespace, which you&amp;rsquo;ll need to create.
&lt;ul>
&lt;li>If your cluster has Workload Identity enabled, which is enabled on GKE Autopilot by default, follow &lt;a href="https://cloud.google.com/stackdriver/docs/managed-prometheus/query#gmp-wli-svcacct">Configure a service account for Workload Identity&lt;/a> to ensure that you have appropriately authorized the default Kubernetes service account in the &lt;code>metrics&lt;/code> namespace.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Install the &lt;a href="https://cloud.google.com/stackdriver/docs/managed-prometheus/query#ui-prometheus">Standalone Prometheus frontend UI&lt;/a> in the &lt;code>metrics&lt;/code> namespace - this will act as your authentication proxy for PromQL queries.&lt;/li>
&lt;li>&lt;a href="http://localhost:1313/docs/guides/metrics/#grafana-installation">Install Grafana as above&lt;/a>, using &lt;code>-f ./build/grafana-frontend.yaml&lt;/code> instead of &lt;code>-f ./build/grafana.yaml&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h3 id="google-cloud-monitoring-installation">Google Cloud Monitoring installation&lt;/h3>
&lt;p>In order to use &lt;a href="https://console.cloud.google.com/monitoring">Google Cloud Monitoring&lt;/a> you must &lt;a href="https://cloud.google.com/monitoring/api/enable-api">enable the Monitoring API&lt;/a> in the Google Cloud Console. The Cloud Monitoring exporter uses a strategy called Application Default Credentials (ADC) to find your application&amp;rsquo;s credentials. Details can be found in &lt;a href="https://cloud.google.com/docs/authentication/production">Setting Up Authentication for Server to Server Production Applications&lt;/a>.&lt;/p>
&lt;p>You need to grant all the necessary permissions to the users (see &lt;a href="https://cloud.google.com/monitoring/access-control">Access Control Guide&lt;/a>). The predefined role Monitoring Metric Writer contains those permissions. Use the following command to assign the role to your default service account.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud projects add-iam-policy-binding &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>PROJECT_ID&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --member serviceAccount:&lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>PROJECT_NUMBER&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>-compute@developer.gserviceaccount.com --role roles/monitoring.metricWriter
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Cloud Operations for GKE (including Cloud Monitoring) is enabled by default on GKE clusters, however you can follow this &lt;a href="https://cloud.google.com/stackdriver/docs/solutions/gke/installing#upgrade-instructions">guide&lt;/a> if it is currently disabled in your GKE cluster.
&lt;/div>
&lt;p>Before proceeding, ensure you have created a metrics node pool as mentioned in the Google Cloud &lt;a href="http://localhost:1313/docs/installation/creating-cluster/gke/">installation guide&lt;/a>.&lt;/p>
&lt;p>The default metrics exporter installed with Code Blind is Prometheus. If you are using the &lt;a href="http://localhost:1313/docs/installation/install-agones/helm/">Helm installation&lt;/a>, you can install or upgrade Code Blind to use Cloud Monitoring, using the following chart parameters:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm upgrade --install --wait --set agones.metrics.stackdriverEnabled&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span> --set agones.metrics.prometheusEnabled&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span> --set agones.metrics.prometheusServiceDiscovery&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span> my-release-name agones/agones --namespace&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>agones-system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
If you are using the &lt;a href="http://localhost:1313/docs/installation/install-agones/yaml/">YAML installation&lt;/a>, follow the instructions on the page to change the above parameters by using helm to generate a custom YAML file locally.
&lt;/div>
&lt;p>With this configuration only the Cloud Monitoring exporter would be used instead of Prometheus exporter.&lt;/p>
&lt;h4 id="using-cloud-monitoring-with-workload-identity">Using Cloud Monitoring with Workload Identity&lt;/h4>
&lt;p>If you would like to enable Cloud Monitoring in conjunction with &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/workload-identity">Workload Identity&lt;/a>, there are a few extra steps you need to follow:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>When setting up the Google service account following the instructions for &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/workload-identity#authenticating_to">Authenticating to Google Cloud&lt;/a>, create two IAM policy bindings, one for &lt;code>serviceAccount:PROJECT_ID.svc.id.goog[agones-system/agones-controller]&lt;/code> and one for &lt;code>serviceAccount:PROJECT_ID.svc.id.goog[agones-system/agones-allocator]&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Pass parameters to helm when installing Code Blind to add annotations to the &lt;code>agones-controller&lt;/code> and &lt;code>agones-allocator&lt;/code> Kubernetes service accounts:&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm install my-release --namespace agones-system --create-namespace agones/agones --set agones.metrics.stackdriverEnabled&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">true&lt;/span> --set agones.metrics.prometheusEnabled&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span> --set agones.metrics.prometheusServiceDiscovery&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87">false&lt;/span> --set agones.serviceaccount.allocator.annotations.&lt;span style="color:#4e9a06">&amp;#34;iam\.gke\.io/gcp-service-account&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;GSA_NAME@PROJECT_ID\.iam\.gserviceaccount\.com&amp;#34;&lt;/span> --set agones.serviceaccount.allocator.labels.&lt;span style="color:#4e9a06">&amp;#34;iam\.gke\.io/gcp-service-account&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;GSA_NAME@PROJECT_ID\.iam\.gserviceaccount\.com&amp;#34;&lt;/span> --set agones.serviceaccount.controller.annotations.&lt;span style="color:#4e9a06">&amp;#34;iam\.gke\.io/gcp-service-account&amp;#34;&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;GSA_NAME@PROJECT_ID\.iam\.gserviceaccount\.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To verify that metrics are being sent to Cloud Monitoring, create a Fleet or a Gameserver and look for the metrics to show up in the Cloud Monitoring dashboard. Navigate to the &lt;a href="https://console.cloud.google.com/monitoring/metrics-explorer">Metrics explorer&lt;/a> and search for metrics with the prefix &lt;code>agones/&lt;/code>. Select a metric and look for data to be plotted in the graph to the right.&lt;/p>
&lt;p>An example of a custom dashboard is:&lt;/p>
&lt;p>&lt;img alt="cloud monitoring dashboard" src="../../../images/stackdriver-metrics-dashboard.png">&lt;/p>
&lt;p>Currently there exists only manual way of configuring Cloud Monitoring Dashboard. So it is up to you to set an Alignment Period (minimal is 1 minute), GroupBy, Filter parameters and other graph settings.&lt;/p>
&lt;h4 id="troubleshooting">Troubleshooting&lt;/h4>
&lt;p>If you can&amp;rsquo;t see Code Blind metrics you should have a look at the controller logs for connection errors. Also ensure that your cluster has the necessary credentials to interact with Cloud Monitoring. You can configure &lt;code>stackdriverProjectID&lt;/code> manually, if the automatic discovery is not working.&lt;/p>
&lt;p>Permissions problem example from controller logs:&lt;/p>
&lt;pre tabindex="0">&lt;code>Failed to export to Stackdriver: rpc error: code = PermissionDenied desc = Permission monitoring.metricDescriptors.create denied (or the resource may not exist).
&lt;/code>&lt;/pre>&lt;p>If you receive this error, ensure your service account has the role or corresponding permissions mentioned above.&lt;/p></description></item><item><title>Docs: Access Code Blind via the Kubernetes API</title><link>http://localhost:1313/docs/guides/access-api/</link><pubDate>Thu, 03 Jan 2019 01:20:41 +0000</pubDate><guid>http://localhost:1313/docs/guides/access-api/</guid><description>
&lt;p>Installing Code Blind creates several &lt;a href="https://kubernetes.io/docs/concepts/api-extension/custom-resources">Custom Resource Definitions (CRD)&lt;/a>,
which can be accessed and manipulated through the Kubernetes API.&lt;/p>
&lt;p>The detailed list of Code Blind CRDs with their parameters could be found here - &lt;a href="../../reference/agones_crd_api_reference/">Code Blind CRD API Reference&lt;/a>.&lt;/p>
&lt;p>Kubernetes has multiple &lt;a href="https://kubernetes.io/docs/reference/using-api/client-libraries/">client libraries&lt;/a>, however,
at time of writing, only
the &lt;a href="https://github.com/kubernetes/client-go">Go&lt;/a> and
&lt;a href="https://github.com/kubernetes-client/python/">Python&lt;/a> clients are documented to support accessing CRDs.&lt;/p>
&lt;p>This can be found in the &lt;a href="https://kubernetes.io/docs/concepts/api-extension/custom-resources/#accessing-a-custom-resource">Accessing a custom resource&lt;/a>
section of the Kubernetes documentation.&lt;/p>
&lt;p>At this time, we recommend interacting with Code Blind through the Go client that has been generated in this repository,
but other methods may also work as well.&lt;/p>
&lt;h2 id="go-client">Go Client&lt;/h2>
&lt;p>Kubernetes Go Client tooling generates a Client for Code Blind that we can use to interact with the Code Blind
installation on our Kubernetes cluster.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://pkg.go.dev/agones.dev/agones/pkg/client/clientset/versioned">Godoc for the Code Blind Client&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://pkg.go.dev/k8s.io/client-go/kubernetes">Godoc for the standard Kubernetes Client&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="authentication">Authentication&lt;/h3>
&lt;p>This client uses the same authentication mechanisms as the Kubernetes API.&lt;/p>
&lt;p>If you plan to run your code in the same cluster as the Code Blind install, have a look at the
&lt;a href="https://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configuration">in cluster configuration&lt;/a>
example from the Kubernetes Client.&lt;/p>
&lt;p>If you plan to run your code outside the Kubernetes cluster as your Code Blind install,
look at the &lt;a href="https://github.com/kubernetes/client-go/tree/master/examples/out-of-cluster-client-configuration">out of cluster configuration&lt;/a>
example from the Kubernetes client.&lt;/p>
&lt;h3 id="example">Example&lt;/h3>
&lt;p>The following is an example of a in-cluster configuration, that creates a &lt;code>Clientset&lt;/code> for Code Blind
and then creates a &lt;code>GameServer&lt;/code>.&lt;/p>
&lt;p>A full example code is available in the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore> example folder&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">package&lt;/span> &lt;span style="color:#000">main&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;context&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">agonesv1&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;agones.dev/agones/pkg/apis/agones/v1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;agones.dev/agones/pkg/client/clientset/versioned&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;agones.dev/agones/pkg/util/runtime&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">corev1&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;k8s.io/api/core/v1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">metav1&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;k8s.io/apimachinery/pkg/apis/meta/v1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;k8s.io/client-go/kubernetes&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;k8s.io/client-go/rest&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">main&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">config&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">rest&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">InClusterConfig&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">runtime&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewLoggerWithSource&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;main&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WithError&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">err&lt;/span>&lt;span style="color:#000;font-weight:bold">).&lt;/span>&lt;span style="color:#000">Fatal&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Could not create in cluster config&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Access to standard Kubernetes resources through the Kubernetes Clientset
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// We don&amp;#39;t actually need this for this example, but it&amp;#39;s just here for
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// illustrative purposes
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">kubeClient&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">kubernetes&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewForConfig&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">config&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WithError&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">err&lt;/span>&lt;span style="color:#000;font-weight:bold">).&lt;/span>&lt;span style="color:#000">Fatal&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Could not create the kubernetes clientset&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Access to the Code Blind resources through the Code Blind Clientset
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// Note that we reuse the same config as we used for the Kubernetes Clientset
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">agonesClient&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">versioned&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewForConfig&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">config&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WithError&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">err&lt;/span>&lt;span style="color:#000;font-weight:bold">).&lt;/span>&lt;span style="color:#000">Fatal&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Could not create the agones api clientset&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Create a GameServer
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">gs&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">agonesv1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GameServer&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#000">ObjectMeta&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">metav1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ObjectMeta&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#000">GenerateName&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;simple-game-server&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">Namespace&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">agonesv1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GameServerSpec&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Container&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;simple-game-server&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[]&lt;/span>&lt;span style="color:#000">agonesv1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GameServerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">{{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">ContainerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">7654&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">HostPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">7654&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;gameport&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">PortPolicy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">agonesv1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Static&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Protocol&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">corev1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ProtocolUDP&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">corev1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">PodTemplateSpec&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">corev1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">PodSpec&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[]&lt;/span>&lt;span style="color:#000">corev1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Container&lt;/span>&lt;span style="color:#000;font-weight:bold">{{&lt;/span>&lt;span style="color:#000">Name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;simple-game-server&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">Image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;us-docker.pkg.dev/codeblind/examples/simple-server:0.27&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">}},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">newGS&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">agonesClient&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">AgonesV1&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">GameServers&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">).&lt;/span>&lt;span style="color:#000">Create&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">TODO&lt;/span>&lt;span style="color:#000;font-weight:bold">(),&lt;/span> &lt;span style="color:#000">gs&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">metav1&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">CreateOptions&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">panic&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">err&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">fmt&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Printf&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;New game servers&amp;#39; name is: %s&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">newGS&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ObjectMeta&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Name&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In order to create GS using provided example, you can run it as a Kubernetes Job:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create -f https://raw.githubusercontent.com/googleforgames/agones/release-1.38.0/examples/crd-client/create-gs.yaml --namespace agones-system
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl get pods --namespace agones-system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>NAME READY STATUS RESTARTS AGE
create-gs-6wz86-7qsm5 0/1 Completed 0 6s
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl logs create-gs-6wz86-7qsm5 --namespace agones-system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>{&amp;#34;message&amp;#34;:&amp;#34;\u0026{0xc0001dde00 default}&amp;#34;,&amp;#34;severity&amp;#34;:&amp;#34;info&amp;#34;,&amp;#34;source&amp;#34;:&amp;#34;main&amp;#34;,&amp;#34;time&amp;#34;:&amp;#34;2020-04-21T11:14:00.477576428Z&amp;#34;}
{&amp;#34;message&amp;#34;:&amp;#34;New GameServer name is: helm-test-server-fxfgg&amp;#34;,&amp;#34;severity&amp;#34;:&amp;#34;info&amp;#34;,&amp;#34;time&amp;#34;:&amp;#34;2020-04-21T11:14:00.516024697Z&amp;#34;}
&lt;/code>&lt;/pre>&lt;p>You have just created a GameServer using Kubernetes Go Client.&lt;/p>
&lt;h2 id="best-practice-using-informers-and-listers">Best Practice: Using Informers and Listers&lt;/h2>
&lt;p>Almost all Kubernetes&amp;rsquo; controllers and custom controllers utilise &lt;code>Informers&lt;/code> and &lt;code>Listers&lt;/code>
to reduce the load on the Kubernetes&amp;rsquo;s control plane.&lt;/p>
&lt;p>Repetitive, direct access of the Kubernetes control plane API can significantly
reduce the performance of the cluster &amp;ndash; and Informers and Listers help resolving that issue.&lt;/p>
&lt;p>Informers and Listers reduce the load on the Kubernetes control plane
by creating, using and maintaining an eventually consistent an in-memory cache.
This can be watched and also queried with zero cost, since it will only read against
its in-memory model of the Kubernetes resources.&lt;/p>
&lt;p>Informer&amp;rsquo;s role and Lister&amp;rsquo;s role are different.&lt;/p>
&lt;p>An Informer is the mechanism for watching a Kubernetes object&amp;rsquo;s event,
such that when a Kubernetes object changes(e.g. CREATE,UPDATE,DELETE), the Informer is informed,
and can execute a callback with the relevant object as an argument.&lt;/p>
&lt;p>This can be very useful for building event based systems against the Kubernetes API.&lt;/p>
&lt;p>A Lister is the mechanism for querying Kubernetes object&amp;rsquo;s against the client side in-memory cache.
Since the Lister stores objects in an in-memory cache, queries against a come at practically no cost.&lt;/p>
&lt;p>Of course, Code Blind itself also uses Informers and Listers in its codebase.&lt;/p>
&lt;h3 id="example-1">Example&lt;/h3>
&lt;p>The following is an example of Informers and Listers,
that show the GameServer&amp;rsquo;s name &amp;amp; status &amp;amp; IPs in the Kubernetes cluster.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">package&lt;/span> &lt;span style="color:#000">main&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;context&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;time&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;agones.dev/agones/pkg/client/clientset/versioned&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;agones.dev/agones/pkg/client/informers/externalversions&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;agones.dev/agones/pkg/util/runtime&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;k8s.io/apimachinery/pkg/labels&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;k8s.io/client-go/informers&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;k8s.io/client-go/kubernetes&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;k8s.io/client-go/tools/cache&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">func&lt;/span> &lt;span style="color:#000">main&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">config&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">rest&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">InClusterConfig&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">runtime&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewLoggerWithSource&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;main&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WithError&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">err&lt;/span>&lt;span style="color:#000;font-weight:bold">).&lt;/span>&lt;span style="color:#000">Fatal&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Could not create in cluster config&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">kubeClient&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">kubernetes&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewForConfig&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">config&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">agonesClient&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">versioned&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewForConfig&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">config&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WithError&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">err&lt;/span>&lt;span style="color:#000;font-weight:bold">).&lt;/span>&lt;span style="color:#000">Fatal&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Could not create the agones api clientset&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Create InformerFactory which create the informer
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">informerFactory&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">informers&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewSharedInformerFactory&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">kubeClient&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">time&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Second&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">30&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">agonesInformerFactory&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">externalversions&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">NewSharedInformerFactory&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">agonesClient&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">time&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Second&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">30&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Create Pod informer by informerFactory
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">podInformer&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">informerFactory&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Core&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">V1&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">Pods&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Create GameServer informer by informerFactory
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">gameServers&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">agonesInformerFactory&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Code&lt;/span> &lt;span style="color:#000">Blind&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">V1&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">GameServers&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">gsInformer&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">gameServers&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Informer&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Add EventHandler to informer
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// When the object&amp;#39;s event happens, the function will be called
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#8f5902;font-style:italic">// For example, when the pod is added, &amp;#39;AddFunc&amp;#39; will be called and put out the &amp;#34;Pod Added&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">podInformer&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Informer&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">AddEventHandler&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">cache&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ResourceEventHandlerFuncs&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">AddFunc&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">func&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">new&lt;/span> &lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Pod Added&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">UpdateFunc&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">func&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">old&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">new&lt;/span> &lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Pod Updated&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">DeleteFunc&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">func&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">old&lt;/span> &lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Pod Deleted&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">})&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">gsInformer&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">AddEventHandler&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">cache&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ResourceEventHandlerFuncs&lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">AddFunc&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">func&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">new&lt;/span> &lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;GameServer Added&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">UpdateFunc&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">func&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">old&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">new&lt;/span> &lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;GameServer Updated&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">DeleteFunc&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">func&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">old&lt;/span> &lt;span style="color:#204a87;font-weight:bold">interface&lt;/span>&lt;span style="color:#000;font-weight:bold">{})&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;GameServer Deleted&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">})&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">ctx&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Background&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Start Go routines for informer
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">informerFactory&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Start&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Done&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">agonesInformerFactory&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Start&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Done&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Wait until finish caching with List API
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">informerFactory&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WaitForCacheSync&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Done&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">agonesInformerFactory&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">WaitForCacheSync&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Done&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Create Lister which can list objects from the in-memory-cache
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">podLister&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">podInformer&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Lister&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">gsLister&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">gameServers&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Lister&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Get List objects of Pods from Pod Lister
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">p&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">podLister&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Pods&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Get List objects of GameServers from GameServer Lister
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#000">gs&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">gsLister&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">List&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Everything&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">panic&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">err&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// Show GameServer&amp;#39;s name &amp;amp; status &amp;amp; IPs
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span> &lt;span style="color:#204a87;font-weight:bold">for&lt;/span> &lt;span style="color:#000">_&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">g&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">range&lt;/span> &lt;span style="color:#000">gs&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">a&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">:=&lt;/span> &lt;span style="color:#000">p&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Get&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">g&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetName&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">err&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">!=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">nil&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">panic&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">err&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;------------------------------&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Name: %s&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">g&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">GetName&lt;/span>&lt;span style="color:#000;font-weight:bold">())&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Status: %s&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">g&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">State&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;External IP: %s&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">g&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Address&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">logger&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Infof&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Internal IP: %s&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">a&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">PodIP&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">time&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Sleep&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">time&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">Second&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">*&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">25&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can list GameServer&amp;rsquo;s name and status and IPs using Kubernetes Informers and Listers.&lt;/p>
&lt;h2 id="direct-access-to-the-rest-api-via-kubectl">Direct Access to the REST API via Kubectl&lt;/h2>
&lt;p>If there isn&amp;rsquo;t a client written in your preferred language, it is always possible to communicate
directly with Kubernetes API to interact with Code Blind.&lt;/p>
&lt;p>The Kubernetes API can be authenticated and exposed locally through the
&lt;a href="https://kubernetes.io/docs/tasks/extend-kubernetes/http-proxy-access-api/">&lt;code>kubectl proxy&lt;/code>&lt;/a>&lt;/p>
&lt;p>For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl proxy &lt;span style="color:#000;font-weight:bold">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>Starting to serve on 127.0.0.1:8001
&lt;/code>&lt;/pre>&lt;h3 id="list-all-code-blind-endpoints">List all Code Blind endpoints&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl http://localhost:8001/apis &lt;span style="color:#000;font-weight:bold">|&lt;/span> grep agones -A &lt;span style="color:#0000cf;font-weight:bold">5&lt;/span> -B &lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>{
&amp;#34;name&amp;#34;: &amp;#34;agones.dev&amp;#34;,
&amp;#34;versions&amp;#34;: [
{
&amp;#34;groupVersion&amp;#34;: &amp;#34;agones.dev/v1&amp;#34;,
&amp;#34;version&amp;#34;: &amp;#34;v1&amp;#34;
}
],
&amp;#34;preferredVersion&amp;#34;: {
&amp;#34;groupVersion&amp;#34;: &amp;#34;agones.dev/v1&amp;#34;,
&amp;#34;version&amp;#34;: &amp;#34;v1&amp;#34;
},
&amp;#34;serverAddressByClientCIDRs&amp;#34;: null
}
&lt;/code>&lt;/pre>&lt;h3 id="list-code-blind-resources">List Code Blind resources&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl http://localhost:8001/apis/agones.dev/v1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>{
&amp;#34;kind&amp;#34;: &amp;#34;APIResourceList&amp;#34;,
&amp;#34;apiVersion&amp;#34;: &amp;#34;v1&amp;#34;,
&amp;#34;groupVersion&amp;#34;: &amp;#34;agones.dev/v1&amp;#34;,
&amp;#34;resources&amp;#34;: [
{
&amp;#34;name&amp;#34;: &amp;#34;gameservers&amp;#34;,
&amp;#34;singularName&amp;#34;: &amp;#34;gameserver&amp;#34;,
&amp;#34;namespaced&amp;#34;: true,
&amp;#34;kind&amp;#34;: &amp;#34;GameServer&amp;#34;,
&amp;#34;verbs&amp;#34;: [
&amp;#34;delete&amp;#34;,
&amp;#34;deletecollection&amp;#34;,
&amp;#34;get&amp;#34;,
&amp;#34;list&amp;#34;,
&amp;#34;patch&amp;#34;,
&amp;#34;create&amp;#34;,
&amp;#34;update&amp;#34;,
&amp;#34;watch&amp;#34;
],
&amp;#34;shortNames&amp;#34;: [
&amp;#34;gs&amp;#34;
]
}
]
}
&lt;/code>&lt;/pre>&lt;h3 id="list-all-gameservers-in-the-default-namespace">List all gameservers in the default namespace&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl http://localhost:8001/apis/agones.dev/v1/namespaces/default/gameservers
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>{
&amp;#34;apiVersion&amp;#34;: &amp;#34;agones.dev/v1&amp;#34;,
&amp;#34;items&amp;#34;: [
{
&amp;#34;apiVersion&amp;#34;: &amp;#34;agones.dev/v1&amp;#34;,
&amp;#34;kind&amp;#34;: &amp;#34;GameServer&amp;#34;,
&amp;#34;metadata&amp;#34;: {
&amp;#34;annotations&amp;#34;: {
&amp;#34;kubectl.kubernetes.io/last-applied-configuration&amp;#34;: &amp;#34;{\&amp;#34;apiVersion\&amp;#34;:\&amp;#34;agones.dev/v1\&amp;#34;,\&amp;#34;kind\&amp;#34;:\&amp;#34;GameServer\&amp;#34;,\&amp;#34;metadata\&amp;#34;:{\&amp;#34;annotations\&amp;#34;:{},\&amp;#34;name\&amp;#34;:\&amp;#34;simple-game-server\&amp;#34;,\&amp;#34;namespace\&amp;#34;:\&amp;#34;default\&amp;#34;},\&amp;#34;spec\&amp;#34;:{\&amp;#34;containerPort\&amp;#34;:7654,\&amp;#34;hostPort\&amp;#34;:7777,\&amp;#34;portPolicy\&amp;#34;:\&amp;#34;static\&amp;#34;,\&amp;#34;template\&amp;#34;:{\&amp;#34;spec\&amp;#34;:{\&amp;#34;containers\&amp;#34;:[{\&amp;#34;image\&amp;#34;:\&amp;#34;us-docker.pkg.dev/codeblind/examples/simple-server:0.27\&amp;#34;,\&amp;#34;name\&amp;#34;:\&amp;#34;simple-game-server\&amp;#34;}]}}}}\n&amp;#34;
},
&amp;#34;clusterName&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;creationTimestamp&amp;#34;: &amp;#34;2018-03-02T21:41:05Z&amp;#34;,
&amp;#34;finalizers&amp;#34;: [
&amp;#34;agones.dev&amp;#34;
],
&amp;#34;generation&amp;#34;: 0,
&amp;#34;name&amp;#34;: &amp;#34;simple-game-server&amp;#34;,
&amp;#34;namespace&amp;#34;: &amp;#34;default&amp;#34;,
&amp;#34;resourceVersion&amp;#34;: &amp;#34;760&amp;#34;,
&amp;#34;selfLink&amp;#34;: &amp;#34;/apis/agones.dev/v1/namespaces/default/gameservers/simple-game-server&amp;#34;,
&amp;#34;uid&amp;#34;: &amp;#34;692beea6-1e62-11e8-beb2-080027637781&amp;#34;
},
&amp;#34;spec&amp;#34;: {
&amp;#34;PortPolicy&amp;#34;: &amp;#34;Static&amp;#34;,
&amp;#34;container&amp;#34;: &amp;#34;simple-game-server&amp;#34;,
&amp;#34;containerPort&amp;#34;: 7654,
&amp;#34;health&amp;#34;: {
&amp;#34;failureThreshold&amp;#34;: 3,
&amp;#34;initialDelaySeconds&amp;#34;: 5,
&amp;#34;periodSeconds&amp;#34;: 5
},
&amp;#34;hostPort&amp;#34;: 7777,
&amp;#34;protocol&amp;#34;: &amp;#34;UDP&amp;#34;,
&amp;#34;template&amp;#34;: {
&amp;#34;metadata&amp;#34;: {
&amp;#34;creationTimestamp&amp;#34;: null
},
&amp;#34;spec&amp;#34;: {
&amp;#34;containers&amp;#34;: [
{
&amp;#34;image&amp;#34;: &amp;#34;us-docker.pkg.dev/codeblind/examples/simple-server:0.27&amp;#34;,
&amp;#34;name&amp;#34;: &amp;#34;simple-game-server&amp;#34;,
&amp;#34;resources&amp;#34;: {}
}
]
}
}
},
&amp;#34;status&amp;#34;: {
&amp;#34;address&amp;#34;: &amp;#34;192.168.99.100&amp;#34;,
&amp;#34;nodeName&amp;#34;: &amp;#34;agones&amp;#34;,
&amp;#34;port&amp;#34;: 7777,
&amp;#34;state&amp;#34;: &amp;#34;Ready&amp;#34;
}
}
],
&amp;#34;kind&amp;#34;: &amp;#34;GameServerList&amp;#34;,
&amp;#34;metadata&amp;#34;: {
&amp;#34;continue&amp;#34;: &amp;#34;&amp;#34;,
&amp;#34;resourceVersion&amp;#34;: &amp;#34;1062&amp;#34;,
&amp;#34;selfLink&amp;#34;: &amp;#34;/apis/agones.dev/v1/namespaces/default/gameservers&amp;#34;
}
}
&lt;/code>&lt;/pre>&lt;h3 id="allocate-a-gameserver-from-a-fleet-named-simple-game-server-with-gameserverallocation">Allocate a gameserver from a fleet named &amp;lsquo;simple-game-server&amp;rsquo;, with GameServerAllocation&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;apiVersion&amp;#34;:&amp;#34;allocation.agones.dev/v1&amp;#34;,&amp;#34;kind&amp;#34;:&amp;#34;GameServerAllocation&amp;#34;,&amp;#34;spec&amp;#34;:{&amp;#34;required&amp;#34;:{&amp;#34;matchLabels&amp;#34;:{&amp;#34;agones.dev/fleet&amp;#34;:&amp;#34;simple-game-server&amp;#34;}}}}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:8001/apis/allocation.agones.dev/v1/namespaces/default/gameserverallocations
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>{
&amp;#34;kind&amp;#34;: &amp;#34;GameServerAllocation&amp;#34;,
&amp;#34;apiVersion&amp;#34;: &amp;#34;allocation.agones.dev/v1&amp;#34;,
&amp;#34;metadata&amp;#34;: {
&amp;#34;name&amp;#34;: &amp;#34;simple-game-server-v6jwb-cmdcv&amp;#34;,
&amp;#34;namespace&amp;#34;: &amp;#34;default&amp;#34;,
&amp;#34;creationTimestamp&amp;#34;: &amp;#34;2019-07-03T17:19:47Z&amp;#34;
},
&amp;#34;spec&amp;#34;: {
&amp;#34;multiClusterSetting&amp;#34;: {
&amp;#34;policySelector&amp;#34;: {}
},
&amp;#34;required&amp;#34;: {
&amp;#34;matchLabels&amp;#34;: {
&amp;#34;agones.dev/fleet&amp;#34;: &amp;#34;simple-game-server&amp;#34;
}
},
&amp;#34;scheduling&amp;#34;: &amp;#34;Packed&amp;#34;,
&amp;#34;metadata&amp;#34;: {}
},
&amp;#34;status&amp;#34;: {
&amp;#34;state&amp;#34;: &amp;#34;Allocated&amp;#34;,
&amp;#34;gameServerName&amp;#34;: &amp;#34;simple-game-server-v6jwb-cmdcv&amp;#34;,
&amp;#34;ports&amp;#34;: [
{
&amp;#34;name&amp;#34;: &amp;#34;default&amp;#34;,
&amp;#34;port&amp;#34;: 7445
}
],
&amp;#34;address&amp;#34;: &amp;#34;34.94.118.237&amp;#34;,
&amp;#34;nodeName&amp;#34;: &amp;#34;gke-test-cluster-default-f11755a7-5km3&amp;#34;
}
}
&lt;/code>&lt;/pre>&lt;p>You may wish to review the &lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/">Code Blind Kubernetes API&lt;/a> for the full data structure reference.&lt;/p>
&lt;p>The &lt;a href="https://kubernetes.io/docs/reference/using-api/api-concepts/">Kubernetes API Concepts&lt;/a>
section may also provide the more details on the API conventions that are used in the Kubernetes API.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Learn how to use &lt;a href="http://localhost:1313/docs/advanced/allocator-service/">Allocator Service&lt;/a> for single and multi-cluster Allocation.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Rust Game Server Client SDK</title><link>http://localhost:1313/docs/guides/client-sdks/rust/</link><pubDate>Wed, 02 Jan 2019 10:17:57 +0000</pubDate><guid>http://localhost:1313/docs/guides/client-sdks/rust/</guid><description>
&lt;p>Check the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK Documentation&lt;/a> for more details on each of the SDK functions and how to run the SDK locally.&lt;/p>
&lt;h2 id="sdk-functionality">SDK Functionality&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Area&lt;/th>
&lt;th>Action&lt;/th>
&lt;th>Implemented&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Ready&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Health&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Reserve&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Allocate&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Shutdown&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>GameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>Watch&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetAnnotation&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetLabel&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCount&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>IncrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>DecrementCounter&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>SetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounterCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>AppendListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>DeleteListValue&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>SetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListCapacity&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>ListContains&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListLength&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetListValues&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetConnectedPlayers&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCount&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>IsPlayerConnected&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerConnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerDisconnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>SetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://www.rust-lang.org/tools/install">Rust &amp;gt;= 1.50&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Add &lt;a href="https://crates.io/crates/agones" data-proofer-ignore>this crate&lt;/a> to &lt;code>dependencies&lt;/code> section in your Cargo.toml.&lt;/p>
&lt;p>Also note that the SDK is &lt;a href="https://doc.rust-lang.org/std/keyword.async.html">&lt;code>async&lt;/code>&lt;/a> only, so you will need an async runtime to execute the futures exposed by the SDK. It is recommended to use &lt;a href="https://docs.rs/tokio">tokio&lt;/a> as the SDK already depends on tokio due to its choice of gRPC library, &lt;a href="https://docs.rs/tonic">tonic&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-toml" data-lang="toml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">dependencies&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">agones&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;1.34.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">tokio&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span> &lt;span style="color:#000">version&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;1.32.0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">features&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;macros&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;sync&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To begin working with the SDK, create an instance of it.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">use&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">std&lt;/span>::&lt;span style="color:#000">time&lt;/span>::&lt;span style="color:#000">Duration&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic">#[tokio::main]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">async&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fn&lt;/span> &lt;span style="color:#000">main&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mut&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">agones&lt;/span>::&lt;span style="color:#000">Sdk&lt;/span>::&lt;span style="color:#000">new&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87">None&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/* default port */&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87">None&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/* keep_alive */&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">expect&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;failed to connect to SDK server&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To send &lt;a href="http://localhost:1313/docs/guides/client-sdks/#health">health checks&lt;/a>, call &lt;code>sdk.health_check&lt;/code>, which will return a &lt;a href="https://docs.rs/tokio/1.7.0/tokio/sync/mpsc/struct.Sender.html">&lt;code>tokio::sync::mpsc::Sender::&amp;lt;()&amp;gt;&lt;/code>&lt;/a> which will send a health check every time a message is posted to the channel.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">health&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">health_check&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">health&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">send&lt;/span>&lt;span style="color:#000;font-weight:bold">(()).&lt;/span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">is_err&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">eprintln!&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;the health receiver was closed&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#ready">game session as ready&lt;/a> call &lt;code>sdk.ready()&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">ready&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">?&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark the game server as &lt;a href="http://localhost:1313/docs/guides/client-sdks/#reserveseconds">reserved&lt;/a> for a period of time, call &lt;code>sdk.reserve(duration)&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">reserve&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">Duration&lt;/span>::&lt;span style="color:#000">new&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">5&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>&lt;span style="color:#000;font-weight:bold">)).&lt;/span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">?&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To mark that the &lt;a href="http://localhost:1313/docs/guides/client-sdks/#shutdown">game session is completed&lt;/a> and the game server should be shut down call &lt;code>sdk.shutdown()&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">if&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87">Err&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">e&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">shutdown&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">eprintln!&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Could not run Shutdown: &lt;/span>&lt;span style="color:#4e9a06">{}&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">e&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To &lt;a href="http://localhost:1313/docs/guides/client-sdks/#setlabelkey-value">set a Label&lt;/a> on the backing &lt;code>GameServer&lt;/code> call &lt;code>sdk.set_label(key, value)&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">set_label&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;test-label&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;test-value&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">).&lt;/span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">?&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To &lt;a href="http://localhost:1313/docs/guides/client-sdks/#setannotationkey-value">set an Annotation&lt;/a> on the backing &lt;code>GameServer&lt;/code> call &lt;code>sdk.set_annotation(key, value)&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">set_annotation&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;test-annotation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;test value&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">).&lt;/span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">?&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To get &lt;a href="http://localhost:1313/docs/guides/client-sdks/#gameserver">details of the backing &lt;code>GameServer&lt;/code>&lt;/a> call &lt;code>sdk.get_gameserver()&lt;/code>.&lt;/p>
&lt;p>The function will return an instance of &lt;code>agones::types::GameServer&lt;/code> including &lt;code>GameServer&lt;/code> configuration info.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gameserver&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">get_gameserver&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">?&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>To get &lt;a href="http://localhost:1313/docs/guides/client-sdks/#watchgameserverfunctiongameserver">updates on the backing &lt;code>GameServer&lt;/code>&lt;/a> as they happen, call &lt;code>sdk.watch_gameserver&lt;/code>.&lt;/p>
&lt;p>This will stream updates and endlessly until the stream is closed, so it is recommended to push this into its own async task.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">_watch&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">// We need to clone the SDK as we are moving it to another task
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mut&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">watch_client&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">sdk&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">clone&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">// We use a simple oneshot to signal to the task when we want it to shutdown
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">// and stop watching the gameserver update stream
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">let&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">tx&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mut&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">rx&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">tokio&lt;/span>::&lt;span style="color:#000">sync&lt;/span>::&lt;span style="color:#000">oneshot&lt;/span>::&lt;span style="color:#000">channel&lt;/span>::&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">();&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">tokio&lt;/span>::&lt;span style="color:#000">task&lt;/span>::&lt;span style="color:#000">spawn&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">async&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">move&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">println!&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Starting to watch GameServer updates...&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">match&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">watch_client&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">watch_gameserver&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#204a87;font-weight:bold">await&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87">Err&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">e&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">eprintln!&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Failed to watch for GameServer updates: &lt;/span>&lt;span style="color:#4e9a06">{}&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">e&lt;/span>&lt;span style="color:#000;font-weight:bold">),&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87">Ok&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87;font-weight:bold">mut&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stream&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">loop&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">tokio&lt;/span>::&lt;span style="color:#000">select!&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">// We&amp;#39;ve received a new update, or the stream is shutting down
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gs&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stream&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">message&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">match&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gs&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87">Ok&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87">Some&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">gs&lt;/span>&lt;span style="color:#000;font-weight:bold">))&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">println!&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;GameServer Update, name: &lt;/span>&lt;span style="color:#4e9a06">{}&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gs&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">object_meta&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">unwrap&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">println!&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;GameServer Update, state: &lt;/span>&lt;span style="color:#4e9a06">{}&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gs&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">unwrap&lt;/span>&lt;span style="color:#000;font-weight:bold">().&lt;/span>&lt;span style="color:#000">state&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87">Ok&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#204a87">None&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">println!&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Server closed the GameServer watch stream&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">break&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87">Err&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">e&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">eprintln!&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;GameServer Update stream encountered an error: &lt;/span>&lt;span style="color:#4e9a06">{}&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">e&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">// The watch is being dropped so we&amp;#39;re going to shutdown the task
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">// and the watch stream
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">_&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">mut&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">rx&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">println!&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Shutting down GameServer watch loop&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">break&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">},&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">});&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">tx&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">};&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For more information, please read the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">SDK Overview&lt;/a>, check out
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>agones sdk implementation&lt;/a> and also look at the
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>Rust example&lt;/a>.&lt;/p></description></item><item><title>Docs: High Density GameServers</title><link>http://localhost:1313/docs/integration-patterns/high-density-gameservers/</link><pubDate>Tue, 31 Aug 2021 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/integration-patterns/high-density-gameservers/</guid><description>
&lt;p>Depending on the setup and resource requirements of your game server process, sometimes it can be a more economical
use of resources to run multiple concurrent game sessions from within a single &lt;code>GameServer&lt;/code> instance.&lt;/p>
&lt;p>The tradeoff here is that this requires more management on behalf of the integrated game server process and external
systems, since it works around the common Kubernetes and/or Code Blind container lifecycle.&lt;/p>
&lt;p>Utilising the new allocation &lt;code>gameServerState&lt;/code> filter as well as the existing ability to edit the
&lt;code>GameServer&lt;/code> labels at both &lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">allocation time&lt;/a>, and from
within the game server process, &lt;a href="http://localhost:1313/docs/guides/client-sdks/#setlabelkey-value">via the SDK&lt;/a>,
means Code Blind is able to atomically remove a &lt;code>GameServer&lt;/code> from the list of potentially allocatable
&lt;code>GameServers&lt;/code> at allocation time, and then return it back into the pool of allocatable &lt;code>GameServers&lt;/code> if and when the
game server process deems that is has room to host another game session.&lt;/p>
&lt;a href="../../../diagrams/high-density.puml.png" target="_blank">
&lt;img src="../../../diagrams/high-density.puml.png" alt="High Density Allocation Diagram" />
&lt;/a>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Info&lt;/h4>
To watch for Allocation events, there is the initial &lt;code>GameServer.status.state&lt;/code> change from &lt;code>Ready&lt;/code> to &lt;code>Allocated&lt;/code>,
but it is also useful to know that the value of &lt;code>GameServer.metadata.annotations[&amp;quot;agones.dev/last-allocated&amp;quot;]&lt;/code> will
change as it is set by Code Blind with each allocation with the current timestamp, regardless of if there
is a state change or not.
&lt;/div>
&lt;h2 id="example-gameserverallocation">Example &lt;code>GameServerAllocation&lt;/code>&lt;/h2>
&lt;p>The below &lt;code>Allocation&lt;/code> will first attempt to find a &lt;code>GameServer&lt;/code> from the &lt;code>Fleet&lt;/code> &lt;code>simple-udp&lt;/code> that is already
Allocated and also has the label &lt;code>agones.dev/sdk-gs-session-ready&lt;/code> with the value of &lt;code>true&lt;/code>.&lt;/p>
&lt;p>The above condition indicates that the matching game server process behind the matched &lt;code>GameServer&lt;/code> record is able to
accept another game session at this time.&lt;/p>
&lt;p>If an Allocated &lt;code>GameServer&lt;/code> does not exist with the desired labels, then use the next selector to allocate a Ready
&lt;code>GameServer&lt;/code> from the &lt;code>simple-udp&lt;/code> &lt;code>Fleet&lt;/code>.&lt;/p>
&lt;p>Whichever condition is met, once allocation is made against a &lt;code>GameServer&lt;/code>, its label of &lt;code>agones.dev/sdk-gs-session-ready&lt;/code>
will be set to the value of &lt;code>false&lt;/code> and it will no longer match the first selector, thereby removing it from any
future allocations with the below schema.&lt;/p>
&lt;p>It will then be up to the game server process to decide on if and when it is appropriate to set the
&lt;code>agones.dev/sdk-gs-session-ready&lt;/code> value back to &lt;code>true&lt;/code>, thereby indicating that it can accept another concurrent
gameplay session.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;allocation.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServerAllocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">selectors&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-udp&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/sdk-gs-session-ready&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># this is important&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">gameServerState: Allocated # new state filter&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">allocate from Allocated servers&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">simple-udp&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">gameServerState&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Ready&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Allocate out of the Ready Pool (which would be default, so backward compatible)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/sdk-gs-session-ready&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;false&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># this removes it from the pool&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Info&lt;/h4>
It&amp;rsquo;s important to note that the labels that the &lt;code>GameServer&lt;/code> process use to add itself back into the pool of
allocatable instances, must start with the prefix &lt;code>agones.dev/sdk-&lt;/code>, since only labels that have this prefix are
available to be [updated from the SDK][sdk].
&lt;/div>
&lt;h2 id="consistency">Consistency&lt;/h2>
&lt;p>Code Blind, and Kubernetes itself are built as eventually consistent, self-healing systems. To that end, it is worth
noting that there may be minor delays between each of the operations in the above flow. For example, depending on the
cluster load, it may take up to a second for an &lt;a href="http://localhost:1313/docs/guides/client-sdks/#setlabelkey-value">SDK driven label change&lt;/a> on a &lt;code>GameServer&lt;/code> record to be
visible to the Code Blind allocation system. We recommend building your integrations with Code Blind with this in mind.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>View the details about &lt;a href="http://localhost:1313/docs/guides/client-sdks/#setlabelkey-value">using the SDK&lt;/a> to set
labels on the &lt;code>GameServer&lt;/code>.&lt;/li>
&lt;li>Check all the options available on &lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">&lt;code>GameServerAllocation&lt;/code>&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Allocating based on GameServer Player Capacity</title><link>http://localhost:1313/docs/integration-patterns/player-capacity/</link><pubDate>Tue, 31 Aug 2021 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/integration-patterns/player-capacity/</guid><description>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>The Player Tracking and Allocation Player Filter features are currently &lt;strong>&lt;a href="http://localhost:1313/docs/guides/feature-stages/#alpha">Alpha&lt;/a>&lt;/strong>,
not enabled by default, and may change in the future.&lt;/p>
&lt;p>Use the FeatureGates &lt;code>PlayerTracking&lt;/code>, and &lt;code>PlayerAllocationFilter&lt;/code>
to enable and test these features.&lt;/p>
&lt;p>See the &lt;a href="http://localhost:1313/docs/guides/feature-stages/#feature-gates">Feature Gate documentation&lt;/a> for details on how to enable features.&lt;/p>
&lt;/div>
&lt;p>Using this approach, we are able to be able to make a request that is akin to: &amp;ldquo;Find me a &lt;code>GameServer&lt;/code> that is already
allocated, with room for &lt;em>n&lt;/em> number of players, and if one is not available, allocate me a &lt;code>Ready&lt;/code> &lt;code>GameServer&lt;/code>&amp;rdquo;.&lt;/p>
&lt;p>Common applications of this type of allocation are Lobby servers where players await matchmaking, or a
persistent world server where players connect and disconnect from a large map.&lt;/p>
&lt;a href="../../../diagrams/allocation-player-capacity.puml.png" target="_blank">
&lt;img src="../../../diagrams/allocation-player-capacity.puml.png" alt="Player Capacity Allocation Diagram" />
&lt;/a>
&lt;h2 id="example-gameserverallocation">Example &lt;code>GameServerAllocation&lt;/code>&lt;/h2>
&lt;p>The below allocation will attempt to find an already Allocated &lt;code>GameServer&lt;/code> from the &lt;code>Fleet&lt;/code> &amp;ldquo;lobby&amp;rdquo; with room for 10
to 15 players, and if it cannot find one, will allocate a Ready one from the same &lt;code>Fleet&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;allocation.agones.dev/v1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GameServerAllocation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">selectors&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">lobby&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">gameServerState&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Allocated&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">players&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">minAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">10&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">maxAvailable&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">15&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/fleet&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">lobby&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
We recommend doing an extra check when players connect to a &lt;code>GameServer&lt;/code> that there is the expected player capacity
on the &lt;code>GameServer&lt;/code> as there can be a small delay between a player connecting and it being reported
to Code Blind.
&lt;/div>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Have a look at all commands the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK&lt;/a> provides.&lt;/li>
&lt;li>Check all the options available on &lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">&lt;code>GameServerAllocation&lt;/code>&lt;/a>.&lt;/li>
&lt;li>If you aren&amp;rsquo;t familiar with the term &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/">Pod&lt;/a>, this should
provide a reference.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Confirming Code Blind Installation</title><link>http://localhost:1313/docs/installation/confirm/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/confirm/</guid><description>
&lt;p>To confirm Code Blind is up and running, run the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe --namespace agones-system pods
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It should describe six pods created in the &lt;code>agones-system&lt;/code> namespace, with no error messages or status. All &lt;code>Conditions&lt;/code> sections should look like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>Conditions:
Type Status
Initialized True
Ready True
ContainersReady True
PodScheduled True
&lt;/code>&lt;/pre>&lt;p>All this pods should be in a &lt;code>RUNNING&lt;/code> state:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get pods --namespace agones-system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>NAME READY STATUS RESTARTS AGE
agones-allocator-5c988b7b8d-cgtbs 1/1 Running 0 8m47s
agones-allocator-5c988b7b8d-hhhr5 1/1 Running 0 8m47s
agones-allocator-5c988b7b8d-pv577 1/1 Running 0 8m47s
agones-controller-7db45966db-56l66 1/1 Running 0 8m44s
agones-ping-84c64f6c9d-bdlzh 1/1 Running 0 8m37s
agones-ping-84c64f6c9d-sjgzz 1/1 Running 0 8m47s
&lt;/code>&lt;/pre>&lt;p>That&amp;rsquo;s it!&lt;/p>
&lt;p>Now with Code Blind installed, you can utilise its &lt;a href="https://kubernetes.io/docs/concepts/api-extension/custom-resources/">Custom Resource Definitions&lt;/a> to create
resources of type &lt;code>GameServer&lt;/code>, &lt;code>Fleet&lt;/code> and more!&lt;/p>
&lt;h2 id="whats-next">What&amp;rsquo;s next&lt;/h2>
&lt;ul>
&lt;li>Go through the &lt;a href="http://localhost:1313/docs/getting-started/create-gameserver/">Create a Game Server Quickstart&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Docs: Upgrading Code Blind and Kubernetes</title><link>http://localhost:1313/docs/installation/upgrading/</link><pubDate>Fri, 16 Aug 2019 00:19:19 +0000</pubDate><guid>http://localhost:1313/docs/installation/upgrading/</guid><description>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Whichever approach you take to upgrading Code Blind, make sure to test it in your development environment
before applying it to production.
&lt;/div>
&lt;h2 id="upgrading-code-blind">Upgrading Code Blind&lt;/h2>
&lt;p>The following are strategies for safely upgrading Code Blind from one version to another. They may require adjustment to
your particular game architecture but should provide a solid foundation for updating Code Blind safely.&lt;/p>
&lt;p>The recommended approach is to use &lt;a href="http://localhost:1313/docs/installation/upgrading/#upgrading-agones-multiple-clusters">multiple clusters&lt;/a>, such that the upgrade can be tested
gradually with production load and easily rolled back if the need arises.&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
Changing &lt;a href="http://localhost:1313/docs/guides/feature-stages/#feature-gates">Feature Gates&lt;/a> within your Code Blind install
can constitute an &amp;ldquo;upgrade&amp;rdquo; as it may create or remove functionality
in the Code Blind installation that may not be forward or backward compatible with installed resources in an existing
installation.
&lt;/div>
&lt;h3 id="upgrading-code-blind-multiple-clusters">Upgrading Code Blind: Multiple Clusters&lt;/h3>
&lt;p>We essentially want to transition our GameServer allocations from a cluster with the old version of Code Blind,
to a cluster with the upgraded version of Code Blind while ensuring nothing surprising
happens during this process.&lt;/p>
&lt;p>This also allows easy rollback to the previous infrastructure that we already know to be working in production, with
minimal interruptions to player experience.&lt;/p>
&lt;p>The following are steps to implement this:&lt;/p>
&lt;ol>
&lt;li>Create a new cluster of the same size or smaller as the current cluster.&lt;/li>
&lt;li>Install the new version of Code Blind on the new cluster.&lt;/li>
&lt;li>Deploy the same set of Fleets, GameServers and FleetAutoscalers from the old cluster into the new cluster.&lt;/li>
&lt;li>With your matchmaker, start sending a small percentage of your matched players&amp;rsquo; game sessions to the new cluster.&lt;/li>
&lt;li>Assuming everything is working successfully on the new cluster, slowly increase the percentage of matched sessions to the new cluster, until you reach 100%.&lt;/li>
&lt;li>Once you are comfortable with the stability of the new cluster with the new Code Blind version, shut down the old cluster.&lt;/li>
&lt;li>Congratulations - you have now upgraded to a new version of Code Blind! 👍&lt;/li>
&lt;/ol>
&lt;h3 id="upgrading-code-blind-single-cluster">Upgrading Code Blind: Single Cluster&lt;/h3>
&lt;p>If you are upgrading a single cluster, we recommend creating a maintenance window, in which your game goes offline
for the period of your upgrade, as there will be a short period in which Code Blind will be non-responsive during the upgrade.&lt;/p>
&lt;h4 id="installation-with-installyaml">Installation with install.yaml&lt;/h4>
&lt;p>If you installed &lt;a href="http://localhost:1313/docs/installation/install-agones/yaml/">Code Blind with install.yaml&lt;/a>, then you will need to delete
the previous installation of Code Blind before upgrading to the new version, as we need to remove all of Code Blind before installing
the new version.&lt;/p>
&lt;ol>
&lt;li>Start your maintenance window.&lt;/li>
&lt;li>Delete the current set of Fleets, GameServers and FleetAutoscalers in your cluster.&lt;/li>
&lt;li>Make sure to delete the same version of Code Blind that was previously installed, for example:
&lt;code>kubectl delete -f https://raw.githubusercontent.com/googleforgames/agones/&amp;lt;old-release-version&amp;gt;/install/yaml/install.yaml&lt;/code>&lt;/li>
&lt;li>Install Code Blind &lt;a href="http://localhost:1313/docs/installation/install-agones/yaml/">with install.yaml&lt;/a>.&lt;/li>
&lt;li>Deploy the same set of Fleets, GameServers and FleetAutoscalers back into the cluster.&lt;/li>
&lt;li>Run any other tests to ensure the Code Blind installation is working as expected.&lt;/li>
&lt;li>Close your maintenance window.&lt;/li>
&lt;li>Congratulations - you have now upgraded to a new version of Code Blind! 👍&lt;/li>
&lt;/ol>
&lt;h4 id="installation-with-helm">Installation with Helm&lt;/h4>
&lt;p>Helm features capabilities for upgrading to newer versions of Code Blind without having to uninstall Code Blind completely.&lt;/p>
&lt;p>For details on how to use Helm for upgrades, see the &lt;a href="https://v2.helm.sh/docs/helm/#helm-upgrade">helm upgrade&lt;/a> documentation.&lt;/p>
&lt;p>Given the above, the steps for upgrade are simpler:&lt;/p>
&lt;ol>
&lt;li>Start your maintenance window.&lt;/li>
&lt;li>Delete the current set of Fleets, GameServers and FleetAutoscalers in your cluster.&lt;/li>
&lt;li>Run &lt;code>helm upgrade&lt;/code> with the appropriate arguments, such a &lt;code>--version&lt;/code>, for your specific upgrade&lt;/li>
&lt;li>Deploy the same set of Fleets, GameServers and FleetAutoscalers back into the cluster.&lt;/li>
&lt;li>Run any other tests to ensure the Code Blind installation is working as expected.&lt;/li>
&lt;li>Close your maintenance window.&lt;/li>
&lt;li>Congratulations - you have now upgraded to a new version of Code Blind! 👍&lt;/li>
&lt;/ol>
&lt;h2 id="upgrading-kubernetes">Upgrading Kubernetes&lt;/h2>
&lt;p>The following are strategies for safely upgrading the underlying Kubernetes cluster from one version to another.
They may require adjustment to your particular game architecture but should provide a solid foundation for updating your cluster safely.&lt;/p>
&lt;p>The recommended approach is to use &lt;a href="http://localhost:1313/docs/installation/upgrading/#multiple-clusters">multiple clusters&lt;/a>, such that the upgrade can be tested
gradually with production load and easily rolled back if the need arises.&lt;/p>
&lt;p>Code Blind has &lt;a href="http://localhost:1313/docs/installation/#agones-and-kubernetes-supported-versions">multiple supported Kubernetes versions&lt;/a> for each version. You can stick with a minor Kubernetes version until it is not supported by Code Blind, but it is recommended to do supported minor (e.g. 1.12.1 ➡ 1.13.2) Kubernetes version upgrades at the same time as a matching Code Blind upgrades.&lt;/p>
&lt;p>Patch upgrades (e.g. 1.12.1 ➡ 1.12.3) within the same minor version of Kubernetes can be done at any time.&lt;/p>
&lt;h3 id="multiple-clusters">Multiple Clusters&lt;/h3>
&lt;p>This process is very similar to the &lt;a href="http://localhost:1313/docs/installation/upgrading/#upgrading-agones-multiple-clusters">Upgrading Code Blind: Multiple Clusters&lt;/a> approach above.&lt;/p>
&lt;p>We essentially want to transition our GameServer allocations from a cluster with the old version of Kubernetes,
to a cluster with the upgraded version of Kubernetes while ensuring nothing surprising
happens during this process.&lt;/p>
&lt;p>This also allows easy rollback to the previous infrastructure that we already know to be working in production, with
minimal interruptions to player experience.&lt;/p>
&lt;p>The following are steps to implement this:&lt;/p>
&lt;ol>
&lt;li>Create a new cluster of the same size or smaller as the current cluster, with the new version of Kubernetes&lt;/li>
&lt;li>Install the same version of Code Blind on the new cluster, as you have on the previous cluster.&lt;/li>
&lt;li>Deploy the same set of Fleets and/or GameServers from the old cluster into the new cluster.&lt;/li>
&lt;li>With your matchmaker, start sending a small percentage of your matched players&amp;rsquo; game sessions to the new cluster.&lt;/li>
&lt;li>Assuming everything is working successfully on the new cluster, slowly increase the percentage of matched sessions to the new cluster, until you reach 100%.&lt;/li>
&lt;li>Once you are comfortable with the stability of the new cluster with the new Kubernetes version, shut down the old cluster.&lt;/li>
&lt;li>Congratulations - you have now upgraded to a new version of Kubernetes! 👍&lt;/li>
&lt;/ol>
&lt;h3 id="single-cluster">Single Cluster&lt;/h3>
&lt;p>If you are upgrading a single cluster, we recommend creating a maintenance window, in which your game goes offline
for the period of your upgrade, as there will be a short period in which Code Blind will be non-responsive during the node
upgrades.&lt;/p>
&lt;ol>
&lt;li>Start your maintenance window.&lt;/li>
&lt;li>Scale your Fleets down to 0 and/or delete your GameServers. This is a good safety measure so there aren&amp;rsquo;t race conditions
between the Code Blind controller being recreated and GameServers being deleted doesn&amp;rsquo;t occur, and GameServers can end up stuck in erroneous states.&lt;/li>
&lt;li>Start and complete your control plane upgrade(s).&lt;/li>
&lt;li>Start and complete your node upgrades.&lt;/li>
&lt;li>Scale your Fleets back up and/or recreate your GameServers.&lt;/li>
&lt;li>Run any other tests to ensure the Code Blind installation is still working as expected.&lt;/li>
&lt;li>Close your maintenance window.&lt;/li>
&lt;li>Congratulations - you have now upgraded to a new version of Kubernetes! 👍&lt;/li>
&lt;/ol></description></item><item><title>Docs: REST Game Server Client API</title><link>http://localhost:1313/docs/guides/client-sdks/rest/</link><pubDate>Wed, 02 Jan 2019 10:18:08 +0000</pubDate><guid>http://localhost:1313/docs/guides/client-sdks/rest/</guid><description>
&lt;p>Check the &lt;a href="http://localhost:1313/docs/guides/client-sdks/">Client SDK Documentation&lt;/a> for more details on each of the SDK functions and how to run the SDK locally.&lt;/p>
&lt;h2 id="sdk-functionality">SDK Functionality&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Area&lt;/th>
&lt;th>Action&lt;/th>
&lt;th>Implemented&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Ready&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Health&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Reserve&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Allocate&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lifecycle&lt;/td>
&lt;td>Shutdown&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>GetGameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>WatchGameServer&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetAnnotation&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Metadata&lt;/td>
&lt;td>SetLabel&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>GetCounter&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Counters&lt;/td>
&lt;td>UpdateCounter&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>GetList&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>UpdateList&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>AddListValue&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Lists&lt;/td>
&lt;td>RemoveListValue&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>SetPlayerCapacity&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerConnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetConnectedPlayers&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>IsPlayerConnected&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>GetPlayerCount&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Player Tracking&lt;/td>
&lt;td>PlayerDisconnect&lt;/td>
&lt;td>✔️&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>The REST API can be accessed from &lt;code>http://localhost:${AGONES_SDK_HTTP_PORT}/&lt;/code> from the game server process.
&lt;code>AGONES_SDK_HTTP_PORT&lt;/code> is an environment variable automatically set for the game server process by Code Blind to
support binding the REST API to a dynamic port. It is advised to use the environment variable rather than a
hard coded port; otherwise your game server will not be able to contact the SDK server if it is configured to
use a non-default port.&lt;/p>
&lt;p>Generally the REST interface gets used if gRPC isn&amp;rsquo;t well supported for a given language or platform.&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
The SDK Server sidecar process may startup after your game server binary. So your REST SDK API calls should
contain some retry logic to take this into account.
&lt;/div>
&lt;h2 id="generating-clients">Generating clients&lt;/h2>
&lt;p>While you can hand write REST integrations, we also have a set
of
&lt;a href="https://github.com/josephbarnett/codeblind.ai/blob/release-1.38.0/" target="_blank" data-proofer-ignore>generated OpenAPI/Swagger definitions&lt;/a> available.
This means you can use OpenAPI/Swagger tooling to generate clients as well, if you need them.&lt;/p>
&lt;p>For example, to create a cpp client for the stable sdk endpoints (to be run in the &lt;code>agones&lt;/code> home directory):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>docker run --rm -v &lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">PWD&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>:/local swaggerapi/swagger-codegen-cli generate -i /local/sdks/swagger/sdk.swagger.json -l cpprest -o /local/out/cpp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The same could be run for &lt;code>alpha.swagger.json&lt;/code> and &lt;code>beta.swagger.json&lt;/code> as required.&lt;/p>
&lt;p>You can read more about OpenAPI/Swagger code generation in their &lt;a href="https://swagger.io/docs/open-source-tools/swagger-codegen/">Command Line Tool Documentation&lt;/a>&lt;/p>
&lt;h2 id="reference">Reference&lt;/h2>
&lt;h3 id="lifecycle-management">Lifecycle Management&lt;/h3>
&lt;h4 id="ready">Ready&lt;/h4>
&lt;p>Call when the GameServer is ready to accept connections&lt;/p>
&lt;ul>
&lt;li>Path: &lt;code>/ready&lt;/code>&lt;/li>
&lt;li>Method: &lt;code>POST&lt;/code>&lt;/li>
&lt;li>Body: &lt;code>{}&lt;/code>&lt;/li>
&lt;/ul>
&lt;h5 id="example">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#34;{}&amp;#34;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/ready
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="health">Health&lt;/h4>
&lt;p>Send a Empty every d Duration to declare that this GameServer is healthy&lt;/p>
&lt;ul>
&lt;li>Path: &lt;code>/health&lt;/code>&lt;/li>
&lt;li>Method: &lt;code>POST&lt;/code>&lt;/li>
&lt;li>Body: &lt;code>{}&lt;/code>&lt;/li>
&lt;/ul>
&lt;h5 id="example-1">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#34;{}&amp;#34;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/health
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="reserve">Reserve&lt;/h4>
&lt;p>Move Gameserver into a Reserved state for a certain amount of seconds for the future allocation.&lt;/p>
&lt;ul>
&lt;li>Path: &lt;code>/reserve&lt;/code>&lt;/li>
&lt;li>Method: &lt;code>POST&lt;/code>&lt;/li>
&lt;li>Body: &lt;code>{&amp;quot;seconds&amp;quot;: &amp;quot;5&amp;quot;}&lt;/code>&lt;/li>
&lt;/ul>
&lt;h5 id="example-2">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;seconds&amp;#34;: &amp;#34;5&amp;#34;}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/reserve
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="allocate">Allocate&lt;/h4>
&lt;p>With some matchmakers and game matching strategies, it can be important for game servers to mark themselves as &lt;code>Allocated&lt;/code>.
For those scenarios, this SDK functionality exists.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
Using a &lt;a href="http://localhost:1313/docs/reference/gameserverallocation/">GameServerAllocation&lt;/a> is preferred in all other scenarios,
as it gives Code Blind control over how packed &lt;code>GameServers&lt;/code> are scheduled within a cluster, whereas with &lt;code>Allocate()&lt;/code> you
relinquish control to an external service which likely doesn&amp;rsquo;t have as much information as Code Blind.
&lt;/div>
&lt;h5 id="example-3">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#34;{}&amp;#34;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/allocate
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="shutdown">Shutdown&lt;/h4>
&lt;p>Call when the GameServer session is over and it&amp;rsquo;s time to shut down&lt;/p>
&lt;ul>
&lt;li>Path: &lt;code>/shutdown&lt;/code>&lt;/li>
&lt;li>Method: &lt;code>POST&lt;/code>&lt;/li>
&lt;li>Body: &lt;code>{}&lt;/code>&lt;/li>
&lt;/ul>
&lt;h5 id="example-4">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#34;{}&amp;#34;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/shutdown
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="configuration-retrieval">Configuration Retrieval&lt;/h3>
&lt;h4 id="gameserver">GameServer&lt;/h4>
&lt;p>Call when you want to retrieve the backing &lt;code>GameServer&lt;/code> configuration details&lt;/p>
&lt;ul>
&lt;li>Path: &lt;code>/gameserver&lt;/code>&lt;/li>
&lt;li>Method: &lt;code>GET&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X GET http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/gameserver
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;object_meta&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;local&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;uid&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;1234&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;resource_version&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;v1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;generation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;creation_timestamp&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;1531795395&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;annotations&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;annotation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;labels&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;islocal&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">},&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;status&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;state&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Ready&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;address&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;127.0.0.1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;ports&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;port&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">7777&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="watch-gameserver">Watch GameServer&lt;/h4>
&lt;p>Call this when you want to get updates of when the backing &lt;code>GameServer&lt;/code> configuration is updated.&lt;/p>
&lt;p>These updates will come as newline delimited JSON, send on each update. To that end, you will
want to keep the http connection open, and read lines from the result stream and and process as they
come in.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X GET http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/watch/gameserver
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;result&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;object_meta&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;local&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;uid&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1234&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;resource_version&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;v1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;generation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;creation_timestamp&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1533766607&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;annotations&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;annotation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">},&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;labels&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;islocal&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">}},&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;status&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;state&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Ready&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;address&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;127.0.0.1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;ports&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:[{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;port&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7777&lt;/span>&lt;span style="color:#000;font-weight:bold">}]}}}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;result&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;object_meta&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;local&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;uid&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1234&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;resource_version&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;v1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;generation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;creation_timestamp&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1533766607&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;annotations&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;annotation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">},&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;labels&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;islocal&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">}},&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;status&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;state&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Ready&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;address&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;127.0.0.1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;ports&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:[{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;port&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7777&lt;/span>&lt;span style="color:#000;font-weight:bold">}]}}}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;result&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;object_meta&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;local&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;namespace&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;uid&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1234&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;resource_version&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;v1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;generation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;creation_timestamp&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1533766607&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;annotations&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;annotation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">},&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;labels&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;islocal&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">}},&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;status&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;state&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Ready&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;address&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;127.0.0.1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;ports&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:[{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;default&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;port&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7777&lt;/span>&lt;span style="color:#000;font-weight:bold">}]}}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The Watch GameServer stream is also exposed as a WebSocket endpoint on the same URL and port as the HTTP &lt;code>watch/gameserver&lt;/code> API. This endpoint is provided as a convienence for streaming data to clients such as Unreal that support WebSocket but not HTTP streaming, and HTTP streaming should be used instead if possible.&lt;/p>
&lt;p>An example command that uses the WebSocket endpoint instead of streaming over HTTP is:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -N -H &lt;span style="color:#4e9a06">&amp;#34;Connection: Upgrade&amp;#34;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Upgrade: websocket&amp;#34;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Sec-WebSocket-Key: ExampleKey1234567890===&amp;#34;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Sec-WebSocket-Version: 13&amp;#34;&lt;/span> -X GET http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/watch/gameserver
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The data returned from this endpoint is delimited by the boundaries of a WebSocket payload as defined by &lt;a href="https://tools.ietf.org/html/rfc6455#section-5.2">RFC 6455, section 5.2&lt;/a>. When reading from this endpoint, if your WebSocket client does not automatically handle frame reassembly (e.g. Unreal), make sure to read to the end of the WebSocket payload (as defined by the FIN bit) before attempting to parse the data returned. This is transparent in most clients.&lt;/p>
&lt;h3 id="metadata-management">Metadata Management&lt;/h3>
&lt;h4 id="set-label">Set Label&lt;/h4>
&lt;p>Apply a Label with the prefix &amp;ldquo;agones.dev/sdk-&amp;rdquo; to the backing &lt;code>GameServer&lt;/code> metadata.&lt;/p>
&lt;p>See the SDK &lt;a href="http://localhost:1313/docs/guides/client-sdks/#setlabelkey-value">SetLabel&lt;/a> documentation for restrictions.&lt;/p>
&lt;h5 id="example-5">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;key&amp;#34;: &amp;#34;foo&amp;#34;, &amp;#34;value&amp;#34;: &amp;#34;bar&amp;#34;}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X PUT http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/metadata/label
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="set-annotation">Set Annotation&lt;/h4>
&lt;p>Apply an Annotation with the prefix &amp;ldquo;agones.dev/sdk-&amp;rdquo; to the backing &lt;code>GameServer&lt;/code> metadata&lt;/p>
&lt;h5 id="example-6">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;key&amp;#34;: &amp;#34;foo&amp;#34;, &amp;#34;value&amp;#34;: &amp;#34;bar&amp;#34;}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X PUT http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/metadata/annotation
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="counters-and-lists">Counters and Lists&lt;/h3>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>The Counters and Lists feature is currently &lt;strong>&lt;a href="http://localhost:1313/docs/guides/feature-stages/#alpha">Alpha&lt;/a>&lt;/strong>,
not enabled by default, and may change in the future.&lt;/p>
&lt;p>Use the FeatureGate &lt;code>CountsAndLists&lt;/code>
to enable and test this feature.&lt;/p>
&lt;p>See the &lt;a href="http://localhost:1313/docs/guides/feature-stages/#feature-gates">Feature Gate documentation&lt;/a> for details on how to enable features.&lt;/p>
&lt;/div>
&lt;h4 id="counters">Counters&lt;/h4>
&lt;p>In all the Counter examples, we retrieve the counter under the key &lt;code>rooms&lt;/code> as if it was previously defined in &lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#agones.dev/v1.GameServerSpec">&lt;code>GameServer.Spec.counters[room]&lt;/code>&lt;/a>.&lt;/p>
&lt;p>For your own Counter REST requests, replace the value &lt;code>rooms&lt;/code> with your own key in the path.&lt;/p>
&lt;h5 id="alpha-getcounter">Alpha: GetCounter&lt;/h5>
&lt;p>This function retrieves a specified counter by its key, &lt;code>rooms&lt;/code>, and returns its information.&lt;/p>
&lt;h6 id="example-7">Example&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X GET http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/v1alpha1/counters/rooms
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;rooms&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;capacity&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;10&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="alpha-updatecounter">Alpha: UpdateCounter&lt;/h5>
&lt;p>This function updates the properties of the counter with the key &lt;code>rooms&lt;/code>, such as its count and capacity, and returns the updated counter details.&lt;/p>
&lt;h6 id="example-8">Example&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;count&amp;#34;: &amp;#34;5&amp;#34;, &amp;#34;capacity&amp;#34;: &amp;#34;11&amp;#34;}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X PATCH http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/v1alpha1/counters/rooms
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;rooms&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;5&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;capacity&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;11&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="lists">Lists&lt;/h4>
&lt;p>In all the List examples, we retrieve the list under the key &lt;code>players&lt;/code> as if it was previously defined in &lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#agones.dev/v1.GameServerSpec">&lt;code>GameServer.Spec.lists[players]&lt;/code>&lt;/a>.&lt;/p>
&lt;p>For your own List REST based requests, replace the value &lt;code>players&lt;/code> with your own key in the path.&lt;/p>
&lt;h5 id="alpha-getlist">Alpha: GetList&lt;/h5>
&lt;p>This function retrieves the list&amp;rsquo;s properties with the key &lt;code>players&lt;/code>, returns the list&amp;rsquo;s information.&lt;/p>
&lt;h6 id="example-9">Example&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X GET http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/v1alpha1/lists/players
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;players&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;capacity&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;100&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;values&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;player0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;player1&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;player2&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="alpha-updatelist">Alpha: UpdateList&lt;/h5>
&lt;p>This function updates the list&amp;rsquo;s properties with the key &lt;code>players&lt;/code>, such as its capacity and values, returns the updated list details. This will overwrite all existing List.Values with the update list request values. Use addValue or removeValue for modifying the List.Values field.&lt;/p>
&lt;h6 id="example-10">Example&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;capacity&amp;#34;: &amp;#34;120&amp;#34;, &amp;#34;values&amp;#34;: [&amp;#34;player3&amp;#34;, &amp;#34;player4&amp;#34;]}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X PATCH http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/v1alpha1/lists/players
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;players&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;capacity&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;120&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;values&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;player3&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;player4&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="alpha-addlistvalue">Alpha: AddListValue&lt;/h5>
&lt;p>This function adds a new value to a list with the key &lt;code>players&lt;/code> and returns the list with this addition.&lt;/p>
&lt;h6 id="example-11">Example&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;value&amp;#34;: &amp;#34;player9&amp;#34;}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/v1alpha1/lists/players:addValue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;players&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;capacity&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;120&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;values&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;player3&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;player4&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;player9&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="alpha-removelistvalue">Alpha: RemoveListValue&lt;/h5>
&lt;p>This function removes a value from the list with the key &lt;code>players&lt;/code> and returns updated list.&lt;/p>
&lt;h6 id="example-12">Example&lt;/h6>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;value&amp;#34;: &amp;#34;player3&amp;#34;}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/v1alpha1/lists/players:removeValue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;players&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;capacity&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;120&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;values&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;player4&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;player9&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="player-tracking">Player Tracking&lt;/h3>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;p>The Player Tracking feature is currently &lt;strong>&lt;a href="http://localhost:1313/docs/guides/feature-stages/#alpha">Alpha&lt;/a>&lt;/strong>,
not enabled by default, and may change in the future.&lt;/p>
&lt;p>Use the FeatureGate &lt;code>PlayerTracking&lt;/code>
to enable and test this feature.&lt;/p>
&lt;p>See the &lt;a href="http://localhost:1313/docs/guides/feature-stages/#feature-gates">Feature Gate documentation&lt;/a> for details on how to enable features.&lt;/p>
&lt;/div>
&lt;h4 id="alpha-playerconnect">Alpha: PlayerConnect&lt;/h4>
&lt;p>This function increases the SDK’s stored player count by one, and appends this playerID to
&lt;code>GameServer.Status.Players.IDs&lt;/code>.&lt;/p>
&lt;h5 id="example-13">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;playerID&amp;#34;: &amp;#34;uzh7i&amp;#34;}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/alpha/player/connect
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;bool&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="alpha-playerdisconnect">Alpha: PlayerDisconnect&lt;/h4>
&lt;p>This function decreases the SDK’s stored player count by one, and removes the playerID from
&lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#agones.dev/v1.PlayerStatus">&lt;code>GameServer.Status.Players.IDs&lt;/code>&lt;/a>.&lt;/p>
&lt;h5 id="example-14">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;playerID&amp;#34;: &amp;#34;uzh7i&amp;#34;}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X POST http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/alpha/player/disconnect
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;bool&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="alpha-setplayercapacity">Alpha: SetPlayerCapacity&lt;/h4>
&lt;p>Update the &lt;a href="http://localhost:1313/docs/reference/agones_crd_api_reference/#agones.dev/v1.PlayerStatus">&lt;code>GameServer.Status.Players.Capacity&lt;/code>&lt;/a> value with a new capacity.&lt;/p>
&lt;h5 id="example-15">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{&amp;#34;count&amp;#34;: 5}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X PUT http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/alpha/player/capacity
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="alpha-getplayercapacity">Alpha: GetPlayerCapacity&lt;/h4>
&lt;p>This function retrieves the current player capacity. This is always accurate from what has been set through this SDK,
even if the value has yet to be updated on the GameServer status resource.&lt;/p>
&lt;h5 id="example-16">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -d &lt;span style="color:#4e9a06">&amp;#39;{}&amp;#39;&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X GET http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/alpha/player/capacity
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;5&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="alpha-getplayercount">Alpha: GetPlayerCount&lt;/h4>
&lt;p>This function retrieves the current player count.
This is always accurate from what has been set through this SDK, even if the value has yet to be updated on the GameServer status resource.&lt;/p>
&lt;h5 id="example-17">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X GET http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/alpha/player/count
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;2&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="alpha-isplayerconnected">Alpha: IsPlayerConnected&lt;/h4>
&lt;p>This function returns if the playerID is currently connected to the GameServer. This is always accurate from what has
been set through this SDK,
even if the value has yet to be updated on the GameServer status resource.&lt;/p>
&lt;h5 id="example-18">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X GET http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/alpha/player/connected/uzh7i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;bool&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="alpha-getconnectedplayers">Alpha: GetConnectedPlayers&lt;/h4>
&lt;p>This function returns the list of the currently connected player ids. This is always accurate from what has been set
through this SDK, even if the value has yet to be updated on the GameServer status resource.&lt;/p>
&lt;h5 id="example-19">Example&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>curl -H &lt;span style="color:#4e9a06">&amp;#34;Content-Type: application/json&amp;#34;&lt;/span> -X GET http://localhost:&lt;span style="color:#4e9a06">${&lt;/span>&lt;span style="color:#000">AGONES_SDK_HTTP_PORT&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>/alpha/player/connected
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Response:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;list&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;uzh7i&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;3zh7i&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: Minikube</title><link>http://localhost:1313/docs/installation/creating-cluster/minikube/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://localhost:1313/docs/installation/creating-cluster/minikube/</guid><description>
&lt;h2 id="installing-minikube">Installing Minikube&lt;/h2>
&lt;p>First, &lt;a href="https://minikube.sigs.k8s.io/docs/start/">install Minikube&lt;/a>, which may also require you to install
a virtualisation solution, such as &lt;a href="https://www.virtualbox.org">VirtualBox&lt;/a> as well.&lt;/p>
&lt;h2 id="starting-minikube">Starting Minikube&lt;/h2>
&lt;p>Minikube will need to be started with the supported version of Kubernetes that is supported with Code Blind, via the
&lt;code>--kubernetes-version&lt;/code> command line flag.&lt;/p>
&lt;p>Optionally, we also recommend starting with an &lt;code>agones&lt;/code> profile, using &lt;code>-p&lt;/code> to keep this cluster separate from any other
clusters you may have running with Minikube.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>minikube start --kubernetes-version v1.27.6 -p agones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Check the official &lt;a href="https://minikube.sigs.k8s.io/docs/commands/start/">minikube start&lt;/a> reference for more options that
may be required for your platform of choice.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Note&lt;/h4>
&lt;p>You may need to increase the &lt;code>--cpu&lt;/code> or &lt;code>--memory&lt;/code> values for your minikube instance, depending on what resources are
available on the host and/or how many GameServers you wish to run locally.&lt;/p>
&lt;p>Depending on your Operating System, you may also need to change the &lt;code>--driver&lt;/code>
(&lt;a href="https://minikube.sigs.k8s.io/docs/drivers/">driver list&lt;/a>) to enable &lt;code>GameServer&lt;/code> connectivity with or without
some workarounds listed below.&lt;/p>
&lt;/div>
&lt;h3 id="known-working-drivers">Known working drivers&lt;/h3>
&lt;p>Other operating systems and drivers may work, but at this stage have not been verified to work with UDP connections
via Code Blind exposed ports.&lt;/p>
&lt;p>&lt;strong>Linux (amd64)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Docker (default)&lt;/li>
&lt;li>kvm2&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Mac (amd64)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Docker (default)&lt;/li>
&lt;li>Hyperkit&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Windows (amd64)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>hyper-v (might need
&lt;a href="https://blog.thepolyglotprogrammer.com/setting-up-kubernetes-on-wsl-to-work-with-minikube-on-windows-10-90dac3c72fa1">this blog post&lt;/a>
and/or &lt;a href="https://github.com/microsoft/WSL/issues/4288#issuecomment-652259640">this comment&lt;/a> for WSL support)&lt;/li>
&lt;/ul>
&lt;p>&lt;em>If you have successfully tested with other platforms and drivers, please click &amp;ldquo;edit this page&amp;rdquo; in the top right hand
side and submit a pull request to let us know.&lt;/em>&lt;/p>
&lt;h2 id="local-connection-workarounds">Local connection workarounds&lt;/h2>
&lt;p>Depending on your operating system and virtualization platform that you are using with Minikube, it may not be
possible to connect directly to a &lt;code>GameServer&lt;/code> hosted on Code Blind as you would on a cloud hosted Kubernetes cluster.&lt;/p>
&lt;p>If you are unable to do so, the following workarounds are available, and may work on your platform:&lt;/p>
&lt;h3 id="minikube-ip">minikube ip&lt;/h3>
&lt;p>Rather than using the published IP of a &lt;code>GameServer&lt;/code> to connect, run &lt;code>minikube ip -p agones&lt;/code> to get the local IP for
the minikube node, and connect to that address.&lt;/p>
&lt;h3 id="create-a-service">Create a service&lt;/h3>
&lt;p>This would only be for local development, but if none of the other workarounds work, creating a Service for the
&lt;code>GameServer&lt;/code> you wish to connect to is a valid solution, to tunnel traffic to the appropriate GameServer container.&lt;/p>
&lt;p>Use the following yaml:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Service&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">agones-gameserver&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">LoadBalancer&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">selector&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">agones.dev/gameserver&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${GAMESERVER_NAME}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">protocol&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">UDP&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">port&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">7000&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># local port&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">targetPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${GAMESERVER_CONTAINER_PORT}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Where &lt;code>${GAMESERVER_NAME}&lt;/code> is replaced with the GameServer you wish to connect to, and &lt;code>${GAMESERVER_CONTAINER_PORT}&lt;/code>
is replaced with the container port GameServer exposes for connection.&lt;/p>
&lt;p>Running &lt;code>minikube service list -p agones&lt;/code> will show you the IP and port to connect to locally in the &lt;code>URL&lt;/code> field.&lt;/p>
&lt;p>To connect to a different &lt;code>GameServer&lt;/code>, run &lt;code>kubectl edit service agones-gameserver&lt;/code> and edit the &lt;code>${GAMESERVER_NAME}&lt;/code>
value to point to the new &lt;code>GameServer&lt;/code> instance and/or the &lt;code>${GAMESERVER_CONTAINER_PORT}&lt;/code> value as appropriate.&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Warning&lt;/h4>
&lt;code>minikube tunnel&lt;/code> (&lt;a href="https://minikube.sigs.k8s.io/docs/handbook/accessing/">docs&lt;/a>)
does not support UDP (&lt;a href="https://github.com/kubernetes/minikube/issues/12362">Github Issue&lt;/a>) on some combination of
operating system, platforms and drivers, but is required when using the &lt;code>Service&lt;/code> workaround.
&lt;/div>
&lt;h3 id="use-a-different-driver">Use a different driver&lt;/h3>
&lt;p>If you cannot connect through the &lt;code>Service&lt;/code>or use other workarounds, you may want to try a different
&lt;a href="https://minikube.sigs.k8s.io/docs/drivers/">minikube driver&lt;/a>, and if that doesn&amp;rsquo;t work, connection via UDP may not
be possible with minikube, and you may want to try either a
&lt;a href="https://kubernetes.io/docs/tasks/tools/">different local Kubernetes tool&lt;/a> or use a cloud hosted Kubernetes cluster.&lt;/p>
&lt;h2 id="next-steps">Next Steps&lt;/h2>
&lt;ul>
&lt;li>Continue to &lt;a href="http://localhost:1313/docs/installation/install-agones/">Install Code Blind&lt;/a>.&lt;/li>
&lt;/ul></description></item></channel></rss>